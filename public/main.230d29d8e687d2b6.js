"use strict";(self.webpackChunkCRUD=self.webpackChunkCRUD||[]).push([[179],{7075:(dt,Ie,L)=>{var h=L(5879);let B=null;function R(){return B}class ie{}const pe=new h.OlP("DocumentToken");let ge=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(fe)},providedIn:"platform"}),n})();const Te=new h.OlP("Location Initialized");let fe=(()=>{class n extends ge{constructor(){super(),this._doc=(0,h.f3M)(pe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return R().getBaseHref(this._doc)}onPopState(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,o){this._history.pushState(t,r,o)}replaceState(t,r,o){this._history.replaceState(t,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return new n},providedIn:"platform"}),n})();function j(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function z(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function te(n){return n&&"?"!==n[0]?"?"+n:n}let Pe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(We)},providedIn:"root"}),n})();const Se=new h.OlP("appBaseHref");let We=(()=>{class n extends Pe{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,h.f3M)(pe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return j(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+te(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,u){const l=this.prepareExternalUrl(o+te(u));this._platformLocation.pushState(t,r,l)}replaceState(t,r,o,u){const l=this.prepareExternalUrl(o+te(u));this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ge),h.LFG(Se,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ae=(()=>{class n extends Pe{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=j(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,u){let l=this.prepareExternalUrl(o+te(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,r,l)}replaceState(t,r,o,u){let l=this.prepareExternalUrl(o+te(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ge),h.LFG(Se,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),qe=(()=>{class n{constructor(t){this._subject=new h.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function ee(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(z(ot(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+te(r))}normalize(t){return n.stripTrailingSlash(function _t(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,ot(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._locationStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+te(r)),o)}replaceState(t,r="",o=null){this._locationStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+te(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.normalizeQueryParams=te,n.joinWithSlash=j,n.stripTrailingSlash=z,n.\u0275fac=function(t){return new(t||n)(h.LFG(Pe))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function Ne(){return new qe((0,h.LFG)(Pe))}()},providedIn:"root"}),n})();function ot(n){return n.replace(/\/index.html$/,"")}class Kh{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let gu=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,u,l)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new Kh(o.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)r.remove(null===u?void 0:u);else if(null!==u){const m=r.get(u);r.move(m,l),Zn(m,o)}});for(let o=0,u=r.length;o<u;o++){const m=r.get(o).context;m.index=o,m.count=u,m.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{Zn(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(h.ZZ4))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Zn(n,e){n.context.$implicit=e.item}let Wo=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new lg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Jl("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Jl("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class lg{constructor(){this.$implicit=null,this.ngIf=null}}function Jl(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,h.AaK)(e)}'.`)}let is=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();function Bi(n){return"server"===n}let Do=(()=>{class n{}return n.\u0275prov=(0,h.Yz7)({token:n,providedIn:"root",factory:()=>new hi((0,h.LFG)(pe),window)}),n})();class hi{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Yo(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const u=o.shadowRoot;if(u){const l=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(l)return l}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],o-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Co(this.window.history)||Co(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Co(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class ea extends ie{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Fr extends ea{static makeCurrent(){!function Y(n){B||(B=n)}(new Fr)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function dd(){return ta=ta||document.querySelector("base"),ta?ta.getAttribute("href"):null}();return null==t?null:function Ti(n){Xs=Xs||document.createElement("a"),Xs.setAttribute("href",n);const e=Xs.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ta=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Go(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(u)}return null}(document.cookie,e)}}let Xs,ta=null,hd=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const fd=new h.OlP("EventManagerPlugins");let as=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>{o.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(u=>u.supports(t)),!r)throw new h.vHH(5101,!1);return this._eventNameToPlugin.set(t,r),r}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(fd),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class pd{constructor(e){this._doc=e}}const Wc="ng-app-id";let Nu=(()=>{class n{constructor(t,r,o,u={}){this.doc=t,this.appId=r,this.nonce=o,this.platformId=u,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Bi(u),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(o=>o.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${Wc}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(o=>{null!=o.textContent&&r.set(o.textContent,o)}),r}return null}changeUsageCount(t,r){const o=this.styleRef;if(o.has(t)){const u=o.get(t);return u.usage+=r,u.usage}return o.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const o=this.styleNodesInDOM,u=o?.get(r);if(u?.parentNode===t)return o.delete(r),u.removeAttribute(Wc),u;{const l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=r,this.platformIsServer&&l.setAttribute(Wc,this.appId),l}}addStyleToHost(t,r){const o=this.getStyleElement(t,r);t.appendChild(o);const u=this.styleRef,l=u.get(r)?.elements;l?l.push(o):u.set(r,{elements:[o],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(pe),h.LFG(h.AFp),h.LFG(h.Ojb,8),h.LFG(h.Lbi))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const na={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Si=/%COMP%/g,pg=new h.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function ja(n,e){return e.map(t=>t.replace(Si,n))}let Hi=(()=>{class n{constructor(t,r,o,u,l,m,E,b=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestory=u,this.doc=l,this.platformId=m,this.ngZone=E,this.nonce=b,this.rendererByCompId=new Map,this.platformIsServer=Bi(m),this.defaultRenderer=new Ou(t,l,E,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===h.ifc.ShadowDom&&(r={...r,encapsulation:h.ifc.Emulated});const o=this.getOrCreateRenderer(t,r);return o instanceof Jt?o.applyToHost(t):o instanceof be&&o.applyStyles(),o}getOrCreateRenderer(t,r){const o=this.rendererByCompId;let u=o.get(r.id);if(!u){const l=this.doc,m=this.ngZone,E=this.eventManager,b=this.sharedStylesHost,S=this.removeStylesOnCompDestory,P=this.platformIsServer;switch(r.encapsulation){case h.ifc.Emulated:u=new Jt(E,b,r,this.appId,S,l,m,P);break;case h.ifc.ShadowDom:return new hf(E,b,t,r,l,m,this.nonce,P);default:u=new be(E,b,r,S,l,m,P)}u.onDestroy=()=>o.delete(r.id),o.set(r.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(as),h.LFG(Nu),h.LFG(h.AFp),h.LFG(pg),h.LFG(pe),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(h.Ojb))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class Ou{constructor(e,t,r,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=o,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(na[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(md(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(md(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new h.vHH(5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const u=na[o];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=na[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(h.JOm.DashCase|h.JOm.Important)?e.style.setProperty(t,r,o&h.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&h.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=R().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function md(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class hf extends Ou{constructor(e,t,r,o,u,l,m,E){super(e,u,l,E),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const b=ja(o.id,o.styles);for(const S of b){const P=document.createElement("style");m&&P.setAttribute("nonce",m),P.textContent=S,this.shadowRoot.appendChild(P)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class be extends Ou{constructor(e,t,r,o,u,l,m,E){super(e,u,l,m),this.sharedStylesHost=t,this.removeStylesOnCompDestory=o,this.rendererUsageCount=0,this.styles=E?ja(E,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Jt extends be{constructor(e,t,r,o,u,l,m,E){const b=o+"-"+r.id;super(e,t,r,u,l,m,E,b),this.contentAttr=function Zc(n){return"_ngcontent-%COMP%".replace(Si,n)}(b),this.hostAttr=function lf(n){return"_nghost-%COMP%".replace(Si,n)}(b)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let Kc=(()=>{class n extends pd{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(pe))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Pu=["alt","control","meta","shift"],cr={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ff={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ku=(()=>{class n extends pd{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const u=n.parseEventName(r),l=n.eventCallback(u.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>R().onAndCancel(t,u.domEventName,l))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const u=n._normalizeKey(r.pop());let l="",m=r.indexOf("code");if(m>-1&&(r.splice(m,1),l="code."),Pu.forEach(b=>{const S=r.indexOf(b);S>-1&&(r.splice(S,1),l+=b+".")}),l+=u,0!=r.length||0===u.length)return null;const E={};return E.domEventName=o,E.fullKey=l,E}static matchEventFullKeyCode(t,r){let o=cr[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(o=t.code,u="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),Pu.forEach(l=>{l!==o&&(0,ff[l])(t)&&(u+=l+".")}),u+=o,u===r)}static eventCallback(t,r,o){return u=>{n.matchEventFullKeyCode(u,t)&&o.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(pe))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Fu=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:"browser"},{provide:h.g9A,useValue:function yd(){Fr.makeCurrent()},multi:!0},{provide:pe,useFactory:function Nr(){return(0,h.RDi)(document),document},deps:[]}]),Rn=new h.OlP(""),cs=[{provide:h.rWj,useClass:class cf{addToWindow(e){h.dqk.getAngularTestability=(r,o=!0)=>{const u=e.findTestabilityInTree(r,o);if(null==u)throw new h.vHH(5103,!1);return u},h.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(r=>{const o=h.dqk.getAllAngularTestabilities();let u=o.length,l=!1;const m=function(E){l=l||E,u--,0==u&&r(l)};o.forEach(function(E){E.whenStable(m)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?R().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:h.lri,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]}],lr=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function vd(){return new h.qLn},deps:[]},{provide:fd,useClass:Kc,multi:!0,deps:[pe,h.R0b,h.Lbi]},{provide:fd,useClass:ku,multi:!0,deps:[pe]},Hi,Nu,as,{provide:h.FYo,useExisting:Hi},{provide:class Or{},useClass:hd,deps:[]},[]];let Qc=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:h.AFp,useValue:t.appId}]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Rn,12))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[...lr,...cs],imports:[is,h.hGG]}),n})(),Vu=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(pe))},n.\u0275prov=h.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Ga(){return new Vu((0,h.LFG)(pe))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var Ai=L(5592),ro=L(4674),hn=L(2459),mt=L(2096),pi=L(5619);const{isArray:Hu}=Array,{getPrototypeOf:Mo,prototype:nl,keys:mf}=Object;function ia(n){if(1===n.length){const e=n[0];if(Hu(e))return{args:e,keys:null};if(function yg(n){return n&&"object"==typeof n&&Mo(n)===nl}(e)){const t=mf(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var zi=L(2737),$t=L(7398);const{isArray:gi}=Array;function sa(n){return(0,$t.U)(e=>function Ad(n,e){return gi(e)?n(...e):n(e)}(n,e))}var Mi=L(4564);function xo(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}var xi=L(8251),Gi=L(7103);function io(...n){const e=(0,Mi.yG)(n),t=(0,Mi.jO)(n),{args:r,keys:o}=ia(n);if(0===r.length)return(0,hn.D)([],e);const u=new Ai.y(function vg(n,e,t=zi.y){return r=>{mi(e,()=>{const{length:o}=n,u=new Array(o);let l=o,m=o;for(let E=0;E<o;E++)mi(e,()=>{const b=(0,hn.D)(n[E],e);let S=!1;b.subscribe((0,xi.x)(r,P=>{u[E]=P,S||(S=!0,m--),m||r.next(t(u.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,e,o?l=>xo(o,l):zi.y));return t?u.pipe(sa(t)):u}function mi(n,e,t){n?(0,Gi.f)(t,n,e):e()}const so=(0,L(2306).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var As=L(7537);function Wi(...n){return function Md(){return(0,As.J)(1)}()((0,hn.D)(n,(0,Mi.yG)(n)))}var zu=L(4829);function vf(n){return new Ai.y(e=>{(0,zu.Xf)(n()).subscribe(e)})}var oa=L(8407);function No(n,e){const t=(0,ro.m)(n)?n:()=>n,r=o=>o.error(t());return new Ai.y(e?o=>e.schedule(r,0,o):r)}var ls=L(6232),xd=L(7394),Ni=L(9360);function Ro(){return(0,Ni.e)((n,e)=>{let t=null;n._refCount++;const r=(0,xi.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,u=t;t=null,o&&(!u||o===u)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class oo extends Ai.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Ni.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new xd.w0;const t=this.getSubject();e.add(this.source.subscribe((0,xi.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=xd.w0.EMPTY)}return e}refCount(){return Ro()(this)}}var ao=L(8645),dr=L(4664);function Ms(n){return n<=0?()=>ls.E:(0,Ni.e)((e,t)=>{let r=0;e.subscribe((0,xi.x)(t,o=>{++r<=n&&(t.next(o),n<=r&&t.complete())}))})}function xs(...n){const e=(0,Mi.yG)(n);return(0,Ni.e)((t,r)=>{(e?Wi(n,t,e):Wi(n,t)).subscribe(r)})}function qi(n,e){return(0,Ni.e)((t,r)=>{let o=0;t.subscribe((0,xi.x)(r,u=>n.call(e,u,o++)&&r.next(u)))})}var Er=L(1631);function aa(n){return(0,Ni.e)((e,t)=>{let r=!1;e.subscribe((0,xi.x)(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function Nd(n=rl){return(0,Ni.e)((e,t)=>{let r=!1;e.subscribe((0,xi.x)(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function rl(){return new so}function ds(n,e){const t=arguments.length>=2;return r=>r.pipe(n?qi((o,u)=>n(o,u,r)):zi.y,Ms(1),t?aa(e):Nd(()=>new so))}function yi(n,e){return(0,ro.m)(e)?(0,Er.z)(n,e,1):(0,Er.z)(n,1)}var Gn=L(9397);function Zr(n){return(0,Ni.e)((e,t)=>{let u,r=null,o=!1;r=e.subscribe((0,xi.x)(t,void 0,void 0,l=>{u=(0,zu.Xf)(n(l,Zr(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,u.subscribe(t))})}function uo(n,e){return(0,Ni.e)(function Gu(n,e,t,r,o){return(u,l)=>{let m=t,E=e,b=0;u.subscribe((0,xi.x)(l,S=>{const P=b++;E=m?n(E,S,P):(m=!0,S),r&&l.next(E)},o&&(()=>{m&&l.next(E),l.complete()})))}}(n,e,arguments.length>=2,!0))}function hs(n){return n<=0?()=>ls.E:(0,Ni.e)((e,t)=>{let r=[];e.subscribe((0,xi.x)(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function Za(n){return(0,Ni.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Vt="primary",Oo=Symbol("RouteTitle");class qu{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Zu(n){return new qu(n)}function Ev(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let u=0;u<r.length;u++){const l=r[u],m=n[u];if(l.startsWith(":"))o[l.substring(1)]=m;else if(l!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function Zi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let u=0;u<t.length;u++)if(o=t[u],!_f(n[o],e[o]))return!1;return!0}function _f(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,u)=>r[u]===o)}return n===e}function Sn(n){return n.length>0?n[n.length-1]:null}function fs(n){return function tl(n){return!!n&&(n instanceof Ai.y||(0,ro.m)(n.lift)&&(0,ro.m)(n.subscribe))}(n)?n:(0,h.QGY)(n)?(0,hn.D)(Promise.resolve(n)):(0,mt.of)(n)}const Ka={exact:function Ns(n,e,t){if(!A(n.segments,e.segments)||!al(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Ns(n.children[r],e.children[r],t))return!1;return!0},subset:Ja},Ya={exact:function Qa(n,e){return Zi(n,e)},subset:function sl(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>_f(n[t],e[t]))},ignored:()=>!0};function hr(n,e,t){return Ka[t.paths](n.root,e.root,t.matrixParams)&&Ya[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Ja(n,e,t){return ol(n,e,e.segments,t)}function ol(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!A(o,t)||e.hasChildren()||!al(o,t,r))}if(n.segments.length===t.length){if(!A(n.segments,t)||!al(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!Ja(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(A(n.segments,o)&&al(n.segments,o,r)&&n.children[Vt])&&ol(n.children[Vt],e,u,r)}}function al(n,e,t){return e.every((r,o)=>Ya[t](n[o].parameters,r.parameters))}class ua{constructor(e=new on([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zu(this.queryParams)),this._queryParamMap}toString(){return le.serialize(this)}}class on{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ge(this)}}class w{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Zu(this.parameters)),this._parameterMap}toString(){return Yu(this)}}function A(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let G=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return new K},providedIn:"root"}),n})();class K{parse(e){const t=new Iv(e);return new ua(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Be(e.root,!0)}`,r=function Ki(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${At(t)}=${At(o)}`).join("&"):`${At(t)}=${At(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Mt(n){return encodeURI(n)}(e.fragment)}`:""}`}}const le=new K;function Ge(n){return n.segments.map(e=>Yu(e)).join("/")}function Be(n,e){if(!n.hasChildren())return Ge(n);if(e){const t=n.children[Vt]?Be(n.children[Vt],!1):"",r=[];return Object.entries(n.children).forEach(([o,u])=>{o!==Vt&&r.push(`${o}:${Be(u,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function V(n,e){let t=[];return Object.entries(n.children).forEach(([r,o])=>{r===Vt&&(t=t.concat(e(o,r)))}),Object.entries(n.children).forEach(([r,o])=>{r!==Vt&&(t=t.concat(e(o,r)))}),t}(n,(r,o)=>o===Vt?[Be(n.children[Vt],!1)]:[`${o}:${Be(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Vt]?`${Ge(n)}/${t[0]}`:`${Ge(n)}/(${t.join("//")})`}}function at(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function At(n){return at(n).replace(/%3B/gi,";")}function fr(n){return at(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function rr(n){return decodeURIComponent(n)}function ps(n){return rr(n.replace(/\+/g,"%20"))}function Yu(n){return`${fr(n.path)}${function Rs(n){return Object.keys(n).map(e=>`;${fr(e)}=${fr(n[e])}`).join("")}(n.parameters)}`}const Yi=/^[^\/()?;#]+/;function ca(n){const e=n.match(Yi);return e?e[0]:""}const wf=/^[^\/()?;=#]+/,_g=/^[^=?&#]+/,Xa=/^[^&#]+/;class Iv{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new on([],{}):new on([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Vt]=new on(e,t)),r}parseSegment(){const e=ca(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new h.vHH(4009,!1);return this.capture(e),new w(rr(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function Rd(n){const e=n.match(wf);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=ca(this.remaining);o&&(r=o,this.capture(r))}e[rr(t)]=rr(r)}parseQueryParam(e){const t=function Od(n){const e=n.match(_g);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const l=function Qu(n){const e=n.match(Xa);return e?e[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const o=ps(t),u=ps(r);if(e.hasOwnProperty(o)){let l=e[o];Array.isArray(l)||(l=[l],e[o]=l),l.push(u)}else e[o]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=ca(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new h.vHH(4010,!1);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=Vt);const l=this.parseChildren();t[u]=1===Object.keys(l).length?l[Vt]:new on([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new h.vHH(4011,!1)}}function Dv(n){return n.segments.length>0?new on([],{[Vt]:n}):n}function Ef(n){const e={};for(const r of Object.keys(n.children)){const u=Ef(n.children[r]);if(r===Vt&&0===u.segments.length&&u.hasChildren())for(const[l,m]of Object.entries(u.children))e[l]=m;else(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function Cv(n){if(1===n.numberOfChildren&&n.children[Vt]){const e=n.children[Vt];return new on(n.segments.concat(e.segments),e.children)}return n}(new on(n.segments,e))}function Ju(n){return n instanceof ua}function Eg(n){let e;const o=Dv(function t(u){const l={};for(const E of u.children){const b=t(E);l[E.outlet]=b}const m=new on(u.url,l);return u===n&&(e=m),m}(n.root));return e??o}function bv(n,e,t,r){let o=n;for(;o.parent;)o=o.parent;if(0===e.length)return g(o,o,o,t,r);const u=function O(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new M(!0,0,n);let e=0,t=!1;const r=n.reduce((o,u,l)=>{if("object"==typeof u&&null!=u){if(u.outlets){const m={};return Object.entries(u.outlets).forEach(([E,b])=>{m[E]="string"==typeof b?b.split("/"):b}),[...o,{outlets:m}]}if(u.segmentPath)return[...o,u.segmentPath]}return"string"!=typeof u?[...o,u]:0===l?(u.split("/").forEach((m,E)=>{0==E&&"."===m||(0==E&&""===m?t=!0:".."===m?e++:""!=m&&o.push(m))}),o):[...o,u]},[]);return new M(t,e,r)}(e);if(u.toRoot())return g(o,o,new on([],{}),t,r);const l=function ue(n,e,t){if(n.isAbsolute)return new Z(e,!0,0);if(!t)return new Z(e,!1,NaN);if(null===t.parent)return new Z(t,!0,0);const r=v(n.commands[0])?0:1;return function $e(n,e,t){let r=n,o=e,u=t;for(;u>o;){if(u-=o,r=r.parent,!r)throw new h.vHH(4005,!1);o=r.segments.length}return new Z(r,!1,o-u)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(u,o,n),m=l.processChildren?Wt(l.segmentGroup,l.index,u.commands):yt(l.segmentGroup,l.index,u.commands);return g(o,l.segmentGroup,m,t,r)}function v(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function p(n){return"object"==typeof n&&null!=n&&n.outlets}function g(n,e,t,r,o){let l,u={};r&&Object.entries(r).forEach(([E,b])=>{u[E]=Array.isArray(b)?b.map(S=>`${S}`):`${b}`}),l=n===e?t:I(n,e,t);const m=Dv(Ef(l));return new ua(m,u,o)}function I(n,e,t){const r={};return Object.entries(n.children).forEach(([o,u])=>{r[o]=u===e?t:I(u,e,t)}),new on(n.segments,r)}class M{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&v(r[0]))throw new h.vHH(4003,!1);const o=r.find(p);if(o&&o!==Sn(r))throw new h.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Z{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function yt(n,e,t){if(n||(n=new on([],{})),0===n.segments.length&&n.hasChildren())return Wt(n,e,t);const r=function ni(n,e,t){let r=0,o=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return u;const l=n.segments[o],m=t[r];if(p(m))break;const E=`${m}`,b=r<t.length-1?t[r+1]:null;if(o>0&&void 0===E)break;if(E&&b&&"object"==typeof b&&void 0===b.outlets){if(!Df(E,b,l))return u;r+=2}else{if(!Df(E,{},l))return u;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new on(n.segments.slice(0,r.pathIndex),{});return u.children[Vt]=new on(n.segments.slice(r.pathIndex),n.children),Wt(u,0,o)}return r.match&&0===o.length?new on(n.segments,{}):r.match&&!n.hasChildren()?Po(n,e,t):r.match?Wt(n,0,o):Po(n,e,t)}function Wt(n,e,t){if(0===t.length)return new on(n.segments,{});{const r=function Je(n){return p(n[0])?n[0].outlets:{[Vt]:n}}(t),o={};if(!r[Vt]&&n.children[Vt]&&1===n.numberOfChildren&&0===n.children[Vt].segments.length){const u=Wt(n.children[Vt],e,t);return new on(n.segments,u.children)}return Object.entries(r).forEach(([u,l])=>{"string"==typeof l&&(l=[l]),null!==l&&(o[u]=yt(n.children[u],e,l))}),Object.entries(n.children).forEach(([u,l])=>{void 0===r[u]&&(o[u]=l)}),new on(n.segments,o)}}function Po(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const u=t[o];if(p(u)){const E=If(u.outlets);return new on(r,E)}if(0===o&&v(t[0])){r.push(new w(n.segments[e].path,Ig(t[0]))),o++;continue}const l=p(u)?u.outlets[Vt]:`${u}`,m=o<t.length-1?t[o+1]:null;l&&m&&v(m)?(r.push(new w(l,Ig(m))),o+=2):(r.push(new w(l,{})),o++)}return new on(r,{})}function If(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=Po(new on([],{}),0,r))}),e}function Ig(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function Df(n,e,t){return n==t.path&&Zi(e,t.parameters)}const ul="imperative";class Os{constructor(e,t){this.id=e,this.url=t}}class la extends Os{constructor(e,t,r="imperative",o=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class co extends Os{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Xu extends Os{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class da extends Os{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=16}}class cl extends Os{constructor(e,t,r,o){super(e,t),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ec extends Os{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pd extends Os{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dg extends Os{constructor(e,t,r,o,u){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Cg extends Os{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bg extends Os{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ha{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ub{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class cb{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lb{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rw{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tv{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ow{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class db{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new kd,this.attachRef=null}}let kd=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new db,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Pw{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Sv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Sv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Ri(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return Ri(e,this._root).map(t=>t.value)}}function Sv(n,e){if(n===e.value)return e;for(const t of e.children){const r=Sv(n,t);if(r)return r}return null}function Ri(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Ri(n,t);if(r.length)return r.unshift(e),r}return[]}class ko{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function ll(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Tg extends Pw{constructor(e,t){super(e),this.snapshot=t,Sg(this,e)}toString(){return this.snapshot.toString()}}function vi(n,e){const t=function Cf(n,e){const l=new bf([],{},{},"",{},Vt,e,null,{});return new kw("",new ko(l,[]))}(0,e),r=new pi.X([new w("",{})]),o=new pi.X({}),u=new pi.X({}),l=new pi.X({}),m=new pi.X(""),E=new dl(r,o,l,m,u,Vt,e,t.root);return E.snapshot=t.root,new Tg(new ko(E,[]),t)}class dl{constructor(e,t,r,o,u,l,m,E){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=u,this.outlet=l,this.component=m,this._futureSnapshot=E,this.title=this.dataSubject?.pipe((0,$t.U)(b=>b[Oo]))??(0,mt.of)(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,$t.U)(e=>Zu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,$t.U)(e=>Zu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Av(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],u=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(u.component)break;r--}}return function hb(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class bf{get title(){return this.data?.[Oo]}constructor(e,t,r,o,u,l,m,E,b){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=l,this.component=m,this.routeConfig=E,this._resolve=b}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Zu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class kw extends Pw{constructor(e,t){super(t),this.url=e,Sg(this,t)}toString(){return Fw(this._root)}}function Sg(n,e){e.value._routerState=n,e.children.forEach(t=>Sg(n,t))}function Fw(n){const e=n.children.length>0?` { ${n.children.map(Fw).join(", ")} } `:"";return`${n.value}${e}`}function Ag(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Zi(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Zi(e.params,t.params)||n.paramsSubject.next(t.params),function Ku(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Zi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Zi(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Mv(n,e){const t=Zi(n.params,e.params)&&function C(n,e){return A(n,e)&&n.every((t,r)=>Zi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Mv(n.parent,e.parent))}let xv=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Vt,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.attachEvents=new h.vpe,this.detachEvents=new h.vpe,this.parentContexts=(0,h.f3M)(kd),this.location=(0,h.f3M)(h.s_b),this.changeDetector=(0,h.f3M)(h.sBO),this.environmentInjector=(0,h.f3M)(h.lqb),this.inputBinder=(0,h.f3M)(Fd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:o}=t.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new h.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new h.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new h.vHH(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new h.vHH(4013,!1);this._activatedRoute=t;const o=this.location,l=t.snapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,E=new Nv(t,m,o.injector);this.activated=o.createComponent(l,{index:o.length,injector:E,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[h.TTD]}),n})();class Nv{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===dl?this.route:e===kd?this.childContexts:this.parent.get(e,t)}}const Fd=new h.OlP("");let Lw=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,o=io([r.queryParams,r.params,r.data]).pipe((0,dr.w)(([u,l,m],E)=>(m={...u,...l,...m},0===E?(0,mt.of)(m):Promise.resolve(m)))).subscribe(u=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const l=(0,h.qFp)(r.component);if(l)for(const{templateName:m}of l.inputs)t.activatedComponentRef.setInput(m,u[m]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,o)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function Sf(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function fb(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return Sf(n,r,o);return Sf(n,r)})}(n,e,t);return new ko(r,o)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const l=u.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(m=>Sf(n,m)),l}}const r=function Vw(n){return new dl(new pi.X(n.url),new pi.X(n.params),new pi.X(n.queryParams),new pi.X(n.fragment),new pi.X(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(u=>Sf(n,u));return new ko(r,o)}}const Mg="ngNavigationCancelingError";function Rv(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Ju(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=hl(!1,0,e);return o.url=t,o.navigationBehaviorOptions=r,o}function hl(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Mg]=!0,r.cancellationCode=e,t&&(r.url=t),r}function Af(n){return Ov(n)&&Ju(n.url)}function Ov(n){return n&&n[Mg]}let xg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[h.jDz],decls:1,vars:0,template:function(t,r){1&t&&h._UZ(0,"router-outlet")},dependencies:[xv],encapsulation:2}),n})();function Rg(n){const e=n.children&&n.children.map(Rg),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Vt&&(t.component=xg),t}function Ps(n){return n.outlet||Vt}function Mf(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class fl{constructor(e,t,r,o,u){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=u}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Ag(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=ll(t);e.children.forEach(u=>{const l=u.value.outlet;this.deactivateRoutes(u,o[l],r),delete o[l]}),Object.values(o).forEach(u=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(o===u)if(o.component){const l=r.getContext(o.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=ll(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],o);if(r&&r.outlet){const l=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=ll(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const o=ll(t);e.children.forEach(u=>{this.activateRoutes(u,o[u.value.outlet],r),this.forwardEvent(new Tv(u.value.snapshot))}),e.children.length&&this.forwardEvent(new lb(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(Ag(o),o===u)if(o.component){const l=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const l=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const m=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),l.children.onOutletReAttached(m.contexts),l.attachRef=m.componentRef,l.route=m.route.value,l.outlet&&l.outlet.attach(m.componentRef,m.route.value),Ag(m.route.value),this.activateChildRoutes(e,null,l.children)}else{const m=Mf(o.snapshot);l.attachRef=null,l.route=o,l.injector=m,l.outlet&&l.outlet.activateWith(o,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,r)}}class kv{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class xf{constructor(e,t){this.component=e,this.route=t}}function mb(n,e,t){const r=n._root;return Nf(r,e?e._root:null,t,[r.value])}function eu(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,h.Z0I)(n)?e.get(n):n:r}function Nf(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=ll(e);return n.children.forEach(l=>{(function jw(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,l=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(l&&u.routeConfig===l.routeConfig){const E=function Hw(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!A(n.url,e.url);case"pathParamsOrQueryParamsChange":return!A(n.url,e.url)||!Zi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Mv(n,e)||!Zi(n.queryParams,e.queryParams);default:return!Mv(n,e)}}(l,u,u.routeConfig.runGuardsAndResolvers);E?o.canActivateChecks.push(new kv(r)):(u.data=l.data,u._resolvedData=l._resolvedData),Nf(n,e,u.component?m?m.children:null:t,r,o),E&&m&&m.outlet&&m.outlet.isActivated&&o.canDeactivateChecks.push(new xf(m.outlet.component,l))}else l&&Ld(e,m,o),o.canActivateChecks.push(new kv(r)),Nf(n,null,u.component?m?m.children:null:t,r,o)})(l,u[l.value.outlet],t,r.concat([l.value]),o),delete u[l.value.outlet]}),Object.entries(u).forEach(([l,m])=>Ld(m,t.getContext(l),o)),o}function Ld(n,e,t){const r=ll(n),o=n.value;Object.entries(r).forEach(([u,l])=>{Ld(l,o.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new xf(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}function pl(n){return"function"==typeof n}function Vd(n){return n instanceof so||"EmptyError"===n?.name}const kg=Symbol("INITIAL_VALUE");function gl(){return(0,dr.w)(n=>io(n.map(e=>e.pipe(Ms(1),xs(kg)))).pipe((0,$t.U)(e=>{for(const t of e)if(!0!==t){if(t===kg)return kg;if(!1===t||t instanceof ua)return t}return!0}),qi(e=>e!==kg),Ms(1)))}function Zw(n){return(0,oa.z)((0,Gn.b)(e=>{if(Ju(e))throw Rv(0,e)}),(0,$t.U)(e=>!0===e))}class Lg{constructor(e){this.segmentGroup=e||null}}class Vg{constructor(e){this.urlTree=e}}function Bd(n){return No(new Lg(n))}function $d(n){return No(new Vg(n))}class Kw{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new h.vHH(4002,!1)}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return(0,mt.of)(r);if(o.numberOfChildren>1||!o.children[Vt])return No(new h.vHH(4e3,!1));o=o.children[Vt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,o){const u=this.createSegmentGroup(e,t.root,r,o);return new ua(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([o,u])=>{if("string"==typeof u&&u.startsWith(":")){const m=u.substring(1);r[o]=t[m]}else r[o]=u}),r}createSegmentGroup(e,t,r,o){const u=this.createSegments(e,t.segments,r,o);let l={};return Object.entries(t.children).forEach(([m,E])=>{l[m]=this.createSegmentGroup(e,E,r,o)}),new on(u,l)}createSegments(e,t,r,o){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,o):this.findOrReturn(u,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new h.vHH(4001,!1);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}const Bg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Yw(n,e,t,r,o){const u=$g(n,e,t);return u.matched?(r=function Ng(n,e){return n.providers&&!n._injector&&(n._injector=(0,h.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function dx(n,e,t,r){const o=e.canMatch;if(!o||0===o.length)return(0,mt.of)(!0);const u=o.map(l=>{const m=eu(l,n);return fs(function Pg(n){return n&&pl(n.canMatch)}(m)?m.canMatch(e,t):n.runInContext(()=>m(e,t)))});return(0,mt.of)(u).pipe(gl(),Zw())}(r,e,t).pipe((0,$t.U)(l=>!0===l?u:{...Bg}))):(0,mt.of)(u)}function $g(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Bg}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(e.matcher||Ev)(t,n,e);if(!o)return{...Bg};const u={};Object.entries(o.posParams??{}).forEach(([m,E])=>{u[m]=E.path});const l=o.consumed.length>0?{...u,...o.consumed[o.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:l,positionalParamSegments:o.posParams??{}}}function Qw(n,e,t,r){return t.length>0&&function Cb(n,e,t){return t.some(r=>Fo(n,e,r)&&Ps(r)!==Vt)}(n,t,r)?{segmentGroup:new on(e,Db(r,new on(t,n.children))),slicedSegments:[]}:0===t.length&&function bb(n,e,t){return t.some(r=>Fo(n,e,r))}(n,t,r)?{segmentGroup:new on(n.segments,Ib(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new on(n.segments,n.children),slicedSegments:t}}function Ib(n,e,t,r,o){const u={};for(const l of r)if(Fo(n,t,l)&&!o[Ps(l)]){const m=new on([],{});u[Ps(l)]=m}return{...o,...u}}function Db(n,e){const t={};t[Vt]=e;for(const r of n)if(""===r.path&&Ps(r)!==Vt){const o=new on([],{});t[Ps(r)]=o}return t}function Fo(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class fx{constructor(e,t,r,o,u,l,m){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=o,this.urlTree=u,this.paramsInheritanceStrategy=l,this.urlSerializer=m,this.allowRedirects=!0,this.applyRedirects=new Kw(this.urlSerializer,this.urlTree)}noMatchError(e){return new h.vHH(4002,!1)}recognize(){const e=Qw(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Vt).pipe(Zr(t=>{if(t instanceof Vg)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof Lg?this.noMatchError(t):t}),(0,$t.U)(t=>{const r=new bf([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Vt,this.rootComponentType,null,{}),o=new ko(r,t),u=new kw("",o),l=function wg(n,e,t=null,r=null){return bv(Eg(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return l.queryParams=this.urlTree.queryParams,u.url=this.urlSerializer.serialize(l),this.inheritParamsAndData(u._root),{state:u,tree:l}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Vt).pipe(Zr(r=>{throw r instanceof Lg?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=Av(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,o,!0)}processChildren(e,t,r){const o=[];for(const u of Object.keys(r.children))"primary"===u?o.unshift(u):o.push(u);return(0,hn.D)(o).pipe(yi(u=>{const l=r.children[u],m=function gb(n,e){const t=n.filter(r=>Ps(r)===e);return t.push(...n.filter(r=>Ps(r)!==e)),t}(t,u);return this.processSegmentGroup(e,m,l,u)}),uo((u,l)=>(u.push(...l),u)),aa(null),function il(n,e){const t=arguments.length>=2;return r=>r.pipe(n?qi((o,u)=>n(o,u,r)):zi.y,hs(1),t?aa(e):Nd(()=>new so))}(),(0,Er.z)(u=>{if(null===u)return Bd(r);const l=Sb(u);return function px(n){n.sort((e,t)=>e.value.outlet===Vt?-1:t.value.outlet===Vt?1:e.value.outlet.localeCompare(t.value.outlet))}(l),(0,mt.of)(l)}))}processSegment(e,t,r,o,u,l){return(0,hn.D)(t).pipe(yi(m=>this.processSegmentAgainstRoute(m._injector??e,t,m,r,o,u,l).pipe(Zr(E=>{if(E instanceof Lg)return(0,mt.of)(null);throw E}))),ds(m=>!!m),Zr(m=>{if(Vd(m))return function Tb(n,e,t){return 0===e.length&&!n.children[t]}(r,o,u)?(0,mt.of)([]):Bd(r);throw m}))}processSegmentAgainstRoute(e,t,r,o,u,l,m){return function Of(n,e,t,r){return!!(Ps(n)===r||r!==Vt&&Fo(e,t,n))&&("**"===n.path||$g(e,n,t).matched)}(r,o,u,l)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,o,r,u,l,m):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,o,t,r,u,l):Bd(o):Bd(o)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,l){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const u=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?$d(u):this.applyRedirects.lineralizeSegments(r,u).pipe((0,Er.z)(l=>{const m=new on(l,{});return this.processSegment(e,t,m,l,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,l){const{matched:m,consumedSegments:E,remainingSegments:b,positionalParamSegments:S}=$g(t,o,u);if(!m)return Bd(t);const P=this.applyRedirects.applyRedirectCommands(E,o.redirectTo,S);return o.redirectTo.startsWith("/")?$d(P):this.applyRedirects.lineralizeSegments(o,P).pipe((0,Er.z)(W=>this.processSegment(e,r,t,W.concat(b),l,!1)))}matchSegmentAgainstRoute(e,t,r,o,u,l){let m;if("**"===r.path){const E=o.length>0?Sn(o).parameters:{},b=new bf(o,E,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Jw(r),Ps(r),r.component??r._loadedComponent??null,r,Xw(r));m=(0,mt.of)({snapshot:b,consumedSegments:[],remainingSegments:[]}),t.children={}}else m=Yw(t,r,o,e).pipe((0,$t.U)(({matched:E,consumedSegments:b,remainingSegments:S,parameters:P})=>E?{snapshot:new bf(b,P,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Jw(r),Ps(r),r.component??r._loadedComponent??null,r,Xw(r)),consumedSegments:b,remainingSegments:S}:null));return m.pipe((0,dr.w)(E=>null===E?Bd(t):this.getChildConfig(e=r._injector??e,r,o).pipe((0,dr.w)(({routes:b})=>{const S=r._loadedInjector??e,{snapshot:P,consumedSegments:W,remainingSegments:re}=E,{segmentGroup:Ee,slicedSegments:Le}=Qw(t,W,re,b);if(0===Le.length&&Ee.hasChildren())return this.processChildren(S,b,Ee).pipe((0,$t.U)(It=>null===It?null:[new ko(P,It)]));if(0===b.length&&0===Le.length)return(0,mt.of)([new ko(P,[])]);const Ue=Ps(r)===u;return this.processSegment(S,b,Ee,Le,Ue?Vt:u,!0).pipe((0,$t.U)(It=>[new ko(P,It)]))}))))}getChildConfig(e,t,r){return t.children?(0,mt.of)({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?(0,mt.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function Eb(n,e,t,r){const o=e.canLoad;if(void 0===o||0===o.length)return(0,mt.of)(!0);const u=o.map(l=>{const m=eu(l,n);return fs(function Og(n){return n&&pl(n.canLoad)}(m)?m.canLoad(e,t):n.runInContext(()=>m(e,t)))});return(0,mt.of)(u).pipe(gl(),Zw())}(e,t,r).pipe((0,Er.z)(o=>o?this.configLoader.loadChildren(e,t).pipe((0,Gn.b)(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function Uv(n){return No(hl(!1,3))}())):(0,mt.of)({routes:[],injector:e})}}function gx(n){const e=n.value.routeConfig;return e&&""===e.path}function Sb(n){const e=[],t=new Set;for(const r of n){if(!gx(r)){e.push(r);continue}const o=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=Sb(r.children);e.push(new ko(r.value,o))}return e.filter(r=>!t.has(r))}function Jw(n){return n.data||{}}function Xw(n){return n.resolve||{}}function $v(n){return"string"==typeof n.title||null===n.title}function jg(n){return(0,dr.w)(e=>{const t=n(e);return t?(0,hn.D)(t).pipe((0,$t.U)(()=>e)):(0,mt.of)(e)})}const kf=new h.OlP("ROUTES");let tE=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,h.f3M)(h.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return(0,mt.of)(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=fs(t.loadComponent()).pipe((0,$t.U)(Hg),(0,Gn.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),Za(()=>{this.componentLoaders.delete(t)})),o=new oo(r,()=>new ao.x).pipe(Ro());return this.componentLoaders.set(t,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return(0,mt.of)({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,$t.U)(m=>{this.onLoadEndListener&&this.onLoadEndListener(r);let E,b;return Array.isArray(m)?b=m:(E=m.create(t).injector,b=E.get(kf,[],h.XFs.Self|h.XFs.Optional).flat()),{routes:b.map(Rg),injector:E}}),Za(()=>{this.childrenLoaders.delete(r)})),l=new oo(u,()=>new ao.x).pipe(Ro());return this.childrenLoaders.set(r,l),l}loadModuleFactoryOrRoutes(t){return fs(t()).pipe((0,$t.U)(Hg),(0,Er.z)(r=>r instanceof h.YKP||Array.isArray(r)?(0,mt.of)(r):(0,hn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Hg(n){return function mx(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let jd=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new ao.x,this.configLoader=(0,h.f3M)(tE),this.environmentInjector=(0,h.f3M)(h.lqb),this.urlSerializer=(0,h.f3M)(G),this.rootContexts=(0,h.f3M)(kd),this.inputBindingEnabled=null!==(0,h.f3M)(Fd,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,mt.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new ub(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new ha(o))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new pi.X({id:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ul,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(qi(r=>0!==r.id),(0,$t.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),(0,dr.w)(r=>{let o=!1,u=!1;return(0,mt.of)(r).pipe((0,Gn.b)(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,dr.w)(l=>{const m=t.browserUrlTree.toString(),E=!t.navigated||l.extractedUrl.toString()!==m||m!==t.currentUrlTree.toString();if(!E&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const S="";return this.events.next(new da(l.id,t.serializeUrl(r.rawUrl),S,0)),t.rawUrlTree=l.rawUrl,l.resolve(null),ls.E}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Nb(l.source)&&(t.browserUrlTree=l.extractedUrl),(0,mt.of)(l).pipe((0,dr.w)(S=>{const P=this.transitions?.getValue();return this.events.next(new la(S.id,this.urlSerializer.serialize(S.extractedUrl),S.source,S.restoredState)),P!==this.transitions?.getValue()?ls.E:Promise.resolve(S)}),function Mb(n,e,t,r,o,u){return(0,Er.z)(l=>function hx(n,e,t,r,o,u,l="emptyOnly"){return new fx(n,e,t,r,o,l,u).recognize()}(n,e,t,r,l.extractedUrl,o,u).pipe((0,$t.U)(({state:m,tree:E})=>({...l,targetSnapshot:m,urlAfterRedirects:E}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,Gn.b)(S=>{if(r.targetSnapshot=S.targetSnapshot,r.urlAfterRedirects=S.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:S.urlAfterRedirects},"eager"===t.urlUpdateStrategy){if(!S.extras.skipLocationChange){const W=t.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl);t.setBrowserUrl(W,S)}t.browserUrlTree=S.urlAfterRedirects}const P=new ec(S.id,this.urlSerializer.serialize(S.extractedUrl),this.urlSerializer.serialize(S.urlAfterRedirects),S.targetSnapshot);this.events.next(P)}));if(E&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:S,extractedUrl:P,source:W,restoredState:re,extras:Ee}=l,Le=new la(S,this.urlSerializer.serialize(P),W,re);this.events.next(Le);const Ue=vi(0,this.rootComponentType).snapshot;return r={...l,targetSnapshot:Ue,urlAfterRedirects:P,extras:{...Ee,skipLocationChange:!1,replaceUrl:!1}},(0,mt.of)(r)}{const S="";return this.events.next(new da(l.id,t.serializeUrl(r.extractedUrl),S,1)),t.rawUrlTree=l.rawUrl,l.resolve(null),ls.E}}),(0,Gn.b)(l=>{const m=new Pd(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(m)}),(0,$t.U)(l=>r={...l,guards:mb(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),function vb(n,e){return(0,Er.z)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:u,canDeactivateChecks:l}}=t;return 0===l.length&&0===u.length?(0,mt.of)({...t,guardsResult:!0}):function _b(n,e,t,r){return(0,hn.D)(n).pipe((0,Er.z)(o=>function Ud(n,e,t,r,o){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!u||0===u.length)return(0,mt.of)(!0);const l=u.map(m=>{const E=Mf(e)??o,b=eu(m,E);return fs(function Fv(n){return n&&pl(n.canDeactivate)}(b)?b.canDeactivate(n,e,t,r):E.runInContext(()=>b(n,e,t,r))).pipe(ds())});return(0,mt.of)(l).pipe(gl())}(o.component,o.route,t,e,r)),ds(o=>!0!==o,!0))}(l,r,o,n).pipe((0,Er.z)(m=>m&&function zw(n){return"boolean"==typeof n}(m)?function wb(n,e,t,r){return(0,hn.D)(e).pipe(yi(o=>Wi(function qw(n,e){return null!==n&&e&&e(new cb(n)),(0,mt.of)(!0)}(o.route.parent,r),function Ww(n,e){return null!==n&&e&&e(new Rw(n)),(0,mt.of)(!0)}(o.route,r),function Vv(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(l=>function lx(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>vf(()=>{const m=l.guards.map(E=>{const b=Mf(l.node)??t,S=eu(E,b);return fs(function Gw(n){return n&&pl(n.canActivateChild)}(S)?S.canActivateChild(r,n):b.runInContext(()=>S(r,n))).pipe(ds())});return(0,mt.of)(m).pipe(gl())}));return(0,mt.of)(u).pipe(gl())}(n,o.path,t),function Fg(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,mt.of)(!0);const o=r.map(u=>vf(()=>{const l=Mf(e)??t,m=eu(u,l);return fs(function Rf(n){return n&&pl(n.canActivate)}(m)?m.canActivate(e,n):l.runInContext(()=>m(e,n))).pipe(ds())}));return(0,mt.of)(o).pipe(gl())}(n,o.route,t))),ds(o=>!0!==o,!0))}(r,u,n,e):(0,mt.of)(m)),(0,$t.U)(m=>({...t,guardsResult:m})))})}(this.environmentInjector,l=>this.events.next(l)),(0,Gn.b)(l=>{if(r.guardsResult=l.guardsResult,Ju(l.guardsResult))throw Rv(0,l.guardsResult);const m=new Dg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(m)}),qi(l=>!!l.guardsResult||(t.restoreHistory(l),this.cancelNavigationTransition(l,"",3),!1)),jg(l=>{if(l.guards.canActivateChecks.length)return(0,mt.of)(l).pipe((0,Gn.b)(m=>{const E=new Cg(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(E)}),(0,dr.w)(m=>{let E=!1;return(0,mt.of)(m).pipe(function xb(n,e){return(0,Er.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return(0,mt.of)(t);let u=0;return(0,hn.D)(o).pipe(yi(l=>function Bv(n,e,t,r){const o=n.routeConfig,u=n._resolve;return void 0!==o?.title&&!$v(o)&&(u[Oo]=o.title),function tu(n,e,t,r){const o=function Pf(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===o.length)return(0,mt.of)({});const u={};return(0,hn.D)(o).pipe((0,Er.z)(l=>function eE(n,e,t,r){const o=Mf(e)??r,u=eu(n,o);return fs(u.resolve?u.resolve(e,t):o.runInContext(()=>u(e,t)))}(n[l],e,t,r).pipe(ds(),(0,Gn.b)(m=>{u[l]=m}))),hs(1),function Wu(n){return(0,$t.U)(()=>n)}(u),Zr(l=>Vd(l)?ls.E:No(l)))}(u,n,e,r).pipe((0,$t.U)(l=>(n._resolvedData=l,n.data=Av(n,t).resolve,o&&$v(o)&&(n.data[Oo]=o.title),null)))}(l.route,r,n,e)),(0,Gn.b)(()=>u++),hs(1),(0,Er.z)(l=>u===o.length?(0,mt.of)(t):ls.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,Gn.b)({next:()=>E=!0,complete:()=>{E||(t.restoreHistory(m),this.cancelNavigationTransition(m,"",2))}}))}),(0,Gn.b)(m=>{const E=new bg(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(E)}))}),jg(l=>{const m=E=>{const b=[];E.routeConfig?.loadComponent&&!E.routeConfig._loadedComponent&&b.push(this.configLoader.loadComponent(E.routeConfig).pipe((0,Gn.b)(S=>{E.component=S}),(0,$t.U)(()=>{})));for(const S of E.children)b.push(...m(S));return b};return io(m(l.targetSnapshot.root)).pipe(aa(),Ms(1))}),jg(()=>this.afterPreactivation()),(0,$t.U)(l=>{const m=function Tf(n,e,t){const r=Sf(n,e._root,t?t._root:void 0);return new Tg(r,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return r={...l,targetRouterState:m}}),(0,Gn.b)(l=>{t.currentUrlTree=l.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),t.routerState=l.targetRouterState,"deferred"===t.urlUpdateStrategy&&(l.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,l),t.browserUrlTree=l.urlAfterRedirects)}),((n,e,t,r)=>(0,$t.U)(o=>(new fl(e,o.targetRouterState,o.currentRouterState,t,r).activate(n),o)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Ms(1),(0,Gn.b)({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new co(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),Za(()=>{o||u||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Zr(l=>{if(u=!0,Ov(l)){Af(l)||(t.navigated=!0,t.restoreHistory(r,!0));const m=new Xu(r.id,this.urlSerializer.serialize(r.extractedUrl),l.message,l.cancellationCode);if(this.events.next(m),Af(l)){const E=t.urlHandlingStrategy.merge(l.url,t.rawUrlTree),b={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||Nb(r.source)};t.scheduleNavigation(E,ul,null,b,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const m=new cl(r.id,this.urlSerializer.serialize(r.extractedUrl),l,r.targetSnapshot??void 0);this.events.next(m);try{r.resolve(t.errorHandler(l))}catch(E){r.reject(E)}}return ls.E}))}))}cancelNavigationTransition(t,r,o){const u=new Xu(t.id,this.urlSerializer.serialize(t.extractedUrl),r,o);this.events.next(u),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Nb(n){return n!==ul}let Rb=(()=>{class n{buildTitle(t){let r,o=t.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(u=>u.outlet===Vt);return r}getResolvedTitleForRoute(t){return t.data[Oo]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(nE)},providedIn:"root"}),n})(),nE=(()=>{class n extends Rb{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Vu))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ob=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(kb)},providedIn:"root"}),n})();class Pb{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let kb=(()=>{class n extends Pb{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const zg=new h.OlP("",{providedIn:"root",factory:()=>({})});let rE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(Gg)},providedIn:"root"}),n})(),Gg=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var ks=(()=>((ks=ks||{})[ks.COMPLETE=0]="COMPLETE",ks[ks.FAILED=1]="FAILED",ks[ks.REDIRECTING=2]="REDIRECTING",ks))();function Wg(n,e){n.events.pipe(qi(t=>t instanceof co||t instanceof Xu||t instanceof cl||t instanceof da),(0,$t.U)(t=>t instanceof co||t instanceof da?ks.COMPLETE:t instanceof Xu&&(0===t.code||1===t.code)?ks.REDIRECTING:ks.FAILED),qi(t=>t!==ks.REDIRECTING),Ms(1)).subscribe(()=>{e()})}function Fb(n){throw n}function Lr(n,e,t){return e.parse("/")}const Lb={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Vb={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let gs=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,h.f3M)(h.c2e),this.isNgZoneEnabled=!1,this.options=(0,h.f3M)(zg,{optional:!0})||{},this.pendingTasks=(0,h.f3M)(h.HDt),this.errorHandler=this.options.errorHandler||Fb,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Lr,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,h.f3M)(rE),this.routeReuseStrategy=(0,h.f3M)(Ob),this.titleStrategy=(0,h.f3M)(Rb),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,h.f3M)(kf,{optional:!0})?.flat()??[],this.navigationTransitions=(0,h.f3M)(jd),this.urlSerializer=(0,h.f3M)(G),this.location=(0,h.f3M)(qe),this.componentInputBindingEnabled=!!(0,h.f3M)(Fd,{optional:!0}),this.isNgZoneEnabled=(0,h.f3M)(h.R0b)instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ua,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=vi(0,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ul,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,o){const u={replaceUrl:!0},l=o?.navigationId?o:null;if(o){const E={...o};delete E.navigationId,delete E.\u0275routerPageId,0!==Object.keys(E).length&&(u.state=E)}const m=this.parseUrl(t);this.scheduleNavigation(m,r,l,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Rg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:u,fragment:l,queryParamsHandling:m,preserveFragment:E}=r,b=E?this.currentUrlTree.fragment:l;let P,S=null;switch(m){case"merge":S={...this.currentUrlTree.queryParams,...u};break;case"preserve":S=this.currentUrlTree.queryParams;break;default:S=u||null}null!==S&&(S=this.removeEmptyProps(S));try{P=Eg(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),P=this.currentUrlTree.root}return bv(P,t,S,b??null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=Ju(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(u,ul,null,r)}navigate(t,r={skipLocationChange:!1}){return function iE(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new h.vHH(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?{...Lb}:!1===r?{...Vb}:r,Ju(t))return hr(this.currentUrlTree,t,o);const u=this.parseUrl(t);return hr(this.currentUrlTree,u,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const u=t[o];return null!=u&&(r[o]=u),r},{})}scheduleNavigation(t,r,o,u,l){if(this.disposed)return Promise.resolve(!1);let m,E,b;l?(m=l.resolve,E=l.reject,b=l.promise):b=new Promise((P,W)=>{m=P,E=W});const S=this.pendingTasks.add();return Wg(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(S))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:u,resolve:m,reject:E,promise:b,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),b.catch(P=>Promise.reject(P))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){const l={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(o,"",l)}else{const u={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(o,"",u)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-(this.browserPageId??this.currentPageId);0!==u?this.location.historyGo(u):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===u&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ml=(()=>{class n{constructor(t,r,o,u,l,m){this.router=t,this.route=r,this.tabIndexAttribute=o,this.renderer=u,this.el=l,this.locationStrategy=m,this.href=null,this.commands=null,this.onChanges=new ao.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const E=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===E||"area"===E,this.isAnchorElement?this.subscription=t.events.subscribe(b=>{b instanceof co&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,o,u,l){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||o||u||l||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,h.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const o=this.renderer,u=this.el.nativeElement;null!==r?o.setAttribute(u,t,r):o.removeAttribute(u,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(gs),h.Y36(dl),h.$8M("tabindex"),h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(Pe))},n.\u0275dir=h.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&h.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&h.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",h.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",h.VuI],replaceUrl:["replaceUrl","replaceUrl",h.VuI],routerLink:"routerLink"},standalone:!0,features:[h.Xq5,h.TTD]}),n})();class sE{}let yx=(()=>{class n{constructor(t,r,o,u,l){this.router=t,this.injector=o,this.preloadingStrategy=u,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(qi(t=>t instanceof co),yi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,h.MMx)(u.providers,t,`Route: ${u.path}`));const l=u._injector??t,m=u._loadedInjector??l;(u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent)&&o.push(this.preloadConfig(l,u)),(u.children||u._loadedRoutes)&&o.push(this.processRoutes(m,u.children??u._loadedRoutes))}return(0,hn.D)(o).pipe((0,As.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):(0,mt.of)(null);const u=o.pipe((0,Er.z)(l=>null===l?(0,mt.of)(void 0):(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(r.loadComponent&&!r._loadedComponent){const l=this.loader.loadComponent(r);return(0,hn.D)([u,l]).pipe((0,As.J)())}return u})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(gs),h.LFG(h.Sil),h.LFG(h.lqb),h.LFG(sE),h.LFG(tE))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const yl=new h.OlP("");let vn=(()=>{class n{constructor(t,r,o,u,l={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=o,this.zone=u,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof la?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof co?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof da&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Ow&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ow(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){h.$Z()},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function fa(n,e){return{\u0275kind:n,\u0275providers:e}}function Hv(){const n=(0,h.f3M)(h.zs3);return e=>{const t=n.get(h.z2F);if(e!==t.components[0])return;const r=n.get(gs),o=n.get(Zg);1===n.get(aE)&&r.initialNavigation(),n.get(Gv,null,h.XFs.Optional)?.setUpPreloading(),n.get(yl,null,h.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const Zg=new h.OlP("",{factory:()=>new ao.x}),aE=new h.OlP("",{providedIn:"root",factory:()=>1}),Gv=new h.OlP("");function cE(n){return fa(0,[{provide:Gv,useExisting:yx},{provide:sE,useExisting:n}])}const Yg=new h.OlP("ROUTER_FORROOT_GUARD"),Qg=[qe,{provide:G,useClass:K},gs,kd,{provide:dl,useFactory:function jv(n){return n.routerState.root},deps:[gs]},tE,[]];function vl(){return new h.PXZ("Router",gs)}let Jg=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[Qg,[],{provide:kf,multi:!0,useValue:t},{provide:Yg,useFactory:dE,deps:[[gs,new h.FiY,new h.tp0]]},{provide:zg,useValue:r||{}},r?.useHash?{provide:Pe,useClass:Ae}:{provide:Pe,useClass:We},{provide:yl,useFactory:()=>{const n=(0,h.f3M)(Do),e=(0,h.f3M)(h.R0b),t=(0,h.f3M)(zg),r=(0,h.f3M)(jd),o=(0,h.f3M)(G);return t.scrollOffset&&n.setOffset(t.scrollOffset),new vn(o,r,n,e,t)}},r?.preloadingStrategy?cE(r.preloadingStrategy).\u0275providers:[],{provide:h.PXZ,multi:!0,useFactory:vl},r?.initialNavigation?zd(r):[],r?.bindToComponentInputs?fa(8,[Lw,{provide:Fd,useExisting:Lw}]).\u0275providers:[],[{provide:hE,useFactory:Hv},{provide:h.tb,multi:!0,useExisting:hE}]]}}static forChild(t){return{ngModule:n,providers:[{provide:kf,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Yg,8))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();function dE(n){return"guarded"}function zd(n){return["disabled"===n.initialNavigation?fa(3,[{provide:h.ip1,multi:!0,useFactory:()=>{const e=(0,h.f3M)(gs);return()=>{e.setUpLocationChangeListener()}}},{provide:aE,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?fa(2,[{provide:aE,useValue:0},{provide:h.ip1,multi:!0,deps:[h.zs3],useFactory:e=>{const t=e.get(Te,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const o=e.get(gs),u=e.get(Zg);Wg(o,()=>{r(!0)}),e.get(jd).afterPreactivation=()=>(r(!0),u.closed?(0,mt.of)(void 0):u),o.initialNavigation()}))}}]).\u0275providers:[]]}const hE=new h.OlP("");let Yb=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq))},n.\u0275dir=h.lG2({type:n}),n})(),_l=(()=>{class n extends Yb{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,features:[h.qOj]}),n})();const pa=new h.OlP("NgValueAccessor"),Xg={provide:pa,useExisting:(0,h.Gpc)(()=>tc),multi:!0},qv=new h.OlP("CompositionEventMode");let tc=(()=>{class n extends Yb{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Jb(){const n=R()?R().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(qv,8))},n.\u0275dir=h.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&h.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[h._Bn([Xg]),h.qOj]}),n})();function lo(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function em(n){return null!=n&&"number"==typeof n.length}const ri=new h.OlP("NgValidators"),ho=new h.OlP("NgAsyncValidators"),tm=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Vr{static min(e){return function Zv(n){return e=>{if(lo(e.value)||lo(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function nm(n){return e=>{if(lo(e.value)||lo(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function Ff(n){return lo(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function Xb(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function rm(n){return lo(n.value)||tm.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function im(n){return e=>lo(e.value)||!em(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function Kv(n){return e=>em(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function gE(n){if(!n)return sm;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(lo(r.value))return null;const o=r.value;return e.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}(e)}static nullValidator(e){return null}static compose(e){return om(e)}static composeAsync(e){return _E(e)}}function sm(n){return null}function Yv(n){return null!=n}function Qv(n){return(0,h.QGY)(n)?(0,hn.D)(n):n}function mE(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function yE(n,e){return e.map(t=>t(n))}function vE(n){return n.map(e=>function bx(n){return!n.validate}(e)?e:t=>e.validate(t))}function om(n){if(!n)return null;const e=n.filter(Yv);return 0==e.length?null:function(t){return mE(yE(t,e))}}function Lf(n){return null!=n?om(vE(n)):null}function _E(n){if(!n)return null;const e=n.filter(Yv);return 0==e.length?null:function(t){return function Dx(...n){const e=(0,Mi.jO)(n),{args:t,keys:r}=ia(n),o=new Ai.y(u=>{const{length:l}=t;if(!l)return void u.complete();const m=new Array(l);let E=l,b=l;for(let S=0;S<l;S++){let P=!1;(0,zu.Xf)(t[S]).subscribe((0,xi.x)(u,W=>{P||(P=!0,b--),m[S]=W},()=>E--,void 0,()=>{(!E||!P)&&(b||u.next(r?xo(r,m):m),u.complete())}))}});return e?o.pipe(sa(e)):o}(yE(t,e).map(Qv)).pipe((0,$t.U)(mE))}}function am(n){return null!=n?_E(vE(n)):null}function um(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Vf(n){return n._rawValidators}function wE(n){return n._rawAsyncValidators}function cm(n){return n?Array.isArray(n)?n:[n]:[]}function lm(n,e){return Array.isArray(n)?n.includes(e):n===e}function Jv(n,e){const t=cm(e);return cm(n).forEach(o=>{lm(t,o)||t.push(o)}),t}function eT(n,e){return cm(e).filter(t=>!lm(n,t))}class EE{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Lf(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=am(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class ii extends EE{get formDirective(){return null}get path(){return null}}class nc extends EE{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class wl{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Uf=(()=>{class n extends wl{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(nc,2))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&h.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[h.qOj]}),n})(),hm=(()=>{class n extends wl{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(ii,10))},n.\u0275dir=h.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&h.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[h.qOj]}),n})();const $f="VALID",mm="INVALID",El="PENDING",ga="DISABLED";function Lo(n){return(n_(n)?n.validators:n)||null}function SE(n,e){return(n_(e)?e.asyncValidators:n)||null}function n_(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function iT(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new h.vHH(1e3,"");if(!r[t])throw new h.vHH(1001,"")}function r_(n,e,t){n._forEachChild((r,o)=>{if(void 0===t[o])throw new h.vHH(1002,"")})}class jf{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===$f}get invalid(){return this.status===mm}get pending(){return this.status==El}get disabled(){return this.status===ga}get enabled(){return this.status!==ga}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Jv(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Jv(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(eT(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(eT(e,this._rawAsyncValidators))}hasValidator(e){return lm(this._rawValidators,e)}hasAsyncValidator(e){return lm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=El,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ga,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=$f,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===$f||this.status===El)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ga:$f}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=El,this._hasOwnPendingAsyncValidator=!0;const t=Qv(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,o)=>r&&r._find(o),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?ga:this.errors?mm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(El)?El:this._anyControlsHaveStatus(mm)?mm:$f}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){n_(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function TE(n){return Array.isArray(n)?Lf(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function rT(n){return Array.isArray(n)?am(n):n||null}(this._rawAsyncValidators)}}class ym extends jf{constructor(e,t,r){super(Lo(t),SE(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){r_(this,0,e),Object.keys(e).forEach(r=>{iT(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const o=this.controls[r];o&&o.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,o)=>((r.enabled||this.disabled)&&(t[o]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,u)=>{r=t(r,o,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class s_ extends ym{}const rc=new h.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Ft}),Ft="always";function Gd(n,e,t=Ft){a_(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function ME(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&u_(n,e)})}(n,e),function uT(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function aT(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&u_(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function AE(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function o_(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),_m(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function vm(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function a_(n,e){const t=Vf(n);null!==e.validator?n.setValidators(um(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=wE(n);null!==e.asyncValidator?n.setAsyncValidators(um(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();vm(e._rawValidators,o),vm(e._rawAsyncValidators,o)}function _m(n,e){let t=!1;if(null!==n){if(null!==e.validator){const o=Vf(n);if(Array.isArray(o)&&o.length>0){const u=o.filter(l=>l!==e.validator);u.length!==o.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const o=wE(n);if(Array.isArray(o)&&o.length>0){const u=o.filter(l=>l!==e.asyncValidator);u.length!==o.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return vm(e._rawValidators,r),vm(e._rawAsyncValidators,r),t}function u_(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function d_(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Em(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Zf=class extends jf{constructor(e=null,t,r){super(Lo(t),SE(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),n_(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Em(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){d_(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){d_(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Em(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let Im=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),PE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();const g_=new h.OlP("NgModelWithFormControlWarning"),vT={provide:ii,useExisting:(0,h.Gpc)(()=>Wd)};let Wd=(()=>{class n extends ii{constructor(t,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new h.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(_m(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Gd(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){o_(t.control||null,t,!1),function Wf(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function Il(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,o=this.form.get(t.path);r!==o&&(o_(r||null,t),(n=>n instanceof Zf)(o)&&(Gd(o,t,this.callSetDisabledState),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function xE(n,e){a_(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function xx(n,e){return _m(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){a_(this.form,this),this._oldForm&&_m(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(ri,10),h.Y36(ho,10),h.Y36(rc,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&h.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([vT]),h.qOj,h.TTD]}),n})();const BE={provide:nc,useExisting:(0,h.Gpc)(()=>Yf)};let Yf=(()=>{class n extends nc{set isDisabled(t){}constructor(t,r,o,u,l){super(),this._ngModelWarningConfig=l,this._added=!1,this.name=null,this.update=new h.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function Gf(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(u=>{u.constructor===tc?t=u:function wm(n){return Object.getPrototypeOf(n.constructor)===_l}(u)?r=u:o=u}),o||r||t||null}(0,u)}ngOnChanges(t){this._added||this._setUpControl(),function c_(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Hf(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(h.Y36(ii,13),h.Y36(ri,10),h.Y36(ho,10),h.Y36(pa,10),h.Y36(g_,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[h._Bn([BE]),h.qOj,h.TTD]}),n})();const $E={provide:pa,useExisting:(0,h.Gpc)(()=>Cl),multi:!0};function v_(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Cl=(()=>{class n extends _l{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const o=v_(this._getOptionId(t),t);this.setProperty("value",o)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function Dm(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&h.NdJ("change",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[h._Bn([$E]),h.qOj]}),n})(),jE=(()=>{class n{constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(v_(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(Cl,9))},n.\u0275dir=h.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const HE={provide:pa,useExisting:(0,h.Gpc)(()=>Qf),multi:!0};function __(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Qf=(()=>{class n extends _l{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const o=t.map(u=>this._getOptionId(u));r=(u,l)=>{u._setSelected(o.indexOf(l.toString())>-1)}}else r=(o,u)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const o=[],u=r.selectedOptions;if(void 0!==u){const l=u;for(let m=0;m<l.length;m++){const b=this._getOptionValue(l[m].value);o.push(b)}}else{const l=r.options;for(let m=0;m<l.length;m++){const E=l[m];if(E.selected){const b=this._getOptionValue(E.value);o.push(b)}}}this.value=o,t(o)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function zE(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&h.NdJ("change",function(u){return r.onChange(u.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[h._Bn([HE]),h.qOj]}),n})(),Vo=(()=>{class n{constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(__(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(__(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(Qf,9))},n.\u0275dir=h.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),I_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[PE]}),n})();class D_ extends jf{constructor(e,t,r){super(Lo(t),SE(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let o=this._adjustIndex(e);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),t&&(this.controls.splice(o,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){r_(this,0,e),e.forEach((r,o)=>{iT(this,!1,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function Kd(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let C_=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const o=this._reduceControls(t);let u={};return Kd(r)?u=r:null!==r&&(u.validators=r.validator,u.asyncValidators=r.asyncValidator),new ym(o,u)}record(t,r=null){const o=this._reduceControls(t);return new s_(o,r)}control(t,r,o){let u={};return this.useNonNullable?(Kd(r)?u=r:(u.validators=r,u.asyncValidators=o),new Zf(t,{...u,nonNullable:!0})):new Zf(t,r,o)}array(t,r,o){const u=t.map(l=>this._createControl(l));return new D_(u,r,o)}_reduceControls(t){const r={};return Object.keys(t).forEach(o=>{r[o]=this._createControl(t[o])}),r}_createControl(t){return t instanceof Zf||t instanceof jf?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),MT=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:rc,useValue:t.callSetDisabledState??Ft}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[I_]}),n})(),xT=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:g_,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:rc,useValue:t.callSetDisabledState??Ft}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[I_]}),n})();var NT=L(6321),On=L(8186);function b_(){return(0,Ni.e)((n,e)=>{let t,r=!1;n.subscribe((0,xi.x)(e,o=>{const u=t;t=o,r&&e.next([u,o]),r=!0}))})}var rt,QE=L(3997),Fs=L(6304),Tm=(L(6365),L(3106)),ve=L(5861),ru=L(534),Sm=L(4537),ic=L(7879),fn=L(9058),RT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Uo={},Am=Am||{},jt=RT||self;function T_(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Yd(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var XE="closure_uid_"+(1e9*Math.random()>>>0),Mm=0;function OT(n,e,t){return n.call.apply(n.bind,arguments)}function PT(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function si(n,e,t){return(si=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?OT:PT).apply(null,arguments)}function xm(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Ln(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,o,u){for(var l=Array(arguments.length-2),m=2;m<arguments.length;m++)l[m-2]=arguments[m];return e.prototype[o].apply(r,l)}}function fo(){this.s=this.s,this.o=this.o}fo.prototype.s=!1,fo.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function JE(n){Object.prototype.hasOwnProperty.call(n,XE)&&n[XE]||(n[XE]=++Mm)}(this)},fo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const sc=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Qd(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Ls(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(T_(r)){const o=n.length||0,u=r.length||0;n.length=o+u;for(let l=0;l<u;l++)n[o+l]=r[l]}else n.push(r)}}function oi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}oi.prototype.h=function(){this.defaultPrevented=!0};var Jd=function(){if(!jt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{jt.addEventListener("test",()=>{},e),jt.removeEventListener("test",()=>{},e)}catch{}return n}();function va(n){return/^[\s\xa0]*$/.test(n)}function iu(){var n=jt.navigator;return n&&(n=n.userAgent)?n:""}function Qi(n){return-1!=iu().indexOf(n)}function oc(n){return oc[" "](n),n}oc[" "]=function(){};var Rm,n,eh=Qi("Opera"),Bo=Qi("Trident")||Qi("MSIE"),bl=Qi("Edge"),Nm=bl||Bo,S_=Qi("Gecko")&&!(-1!=iu().toLowerCase().indexOf("webkit")&&!Qi("Edge"))&&!(Qi("Trident")||Qi("MSIE"))&&!Qi("Edge"),eI=-1!=iu().toLowerCase().indexOf("webkit")&&!Qi("Edge");function A_(){var n=jt.document;return n?n.documentMode:void 0}e:{var Om="",Pm=(n=iu(),S_?/rv:([^\);]+)(\)|;)/.exec(n):bl?/Edge\/([\d\.]+)/.exec(n):Bo?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):eI?/WebKit\/(\S+)/.exec(n):eh?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Pm&&(Om=Pm?Pm[1]:""),Bo){var km=A_();if(null!=km&&km>parseFloat(Om)){Rm=String(km);break e}}Rm=Om}var kT=jt.document&&Bo&&(A_()||parseInt(Rm,10))||void 0;function Vm(n,e){if(oi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(S_){e:{try{oc(e.nodeName);var o=!0;break e}catch{}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:jx[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Vm.$.h.call(this)}}Ln(Vm,oi);var jx={2:"touch",3:"pen",4:"mouse"};Vm.prototype.h=function(){Vm.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Jf="closure_listenable_"+(1e6*Math.random()|0),FT=0;function Hx(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=o,this.key=++FT,this.fa=this.ia=!1}function Um(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function tI(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function nI(n){const e={};for(const t in n)e[t]=n[t];return e}const rI="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Bm(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let u=0;u<rI.length;u++)t=rI[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function ac(n){this.src=n,this.g={},this.h=0}function Xf(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],o=sc(r,e);(u=0<=o)&&Array.prototype.splice.call(r,o,1),u&&(Um(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function th(n,e,t,r){for(var o=0;o<n.length;++o){var u=n[o];if(!u.fa&&u.listener==e&&u.capture==!!t&&u.la==r)return o}return-1}ac.prototype.add=function(n,e,t,r,o){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var l=th(n,e,r,o);return-1<l?(e=n[l],t||(e.ia=!1)):((e=new Hx(e,this.src,u,!!r,o)).ia=t,n.push(e)),e};var $m="closure_lm_"+(1e6*Math.random()|0),Tl={};function M_(n,e,t,r,o){if(r&&r.once)return sI(n,e,t,r,o);if(Array.isArray(e)){for(var u=0;u<e.length;u++)M_(n,e[u],t,r,o);return null}return t=uI(t),n&&n[Jf]?n.O(e,t,Yd(r)?!!r.capture:!!r,o):iI(n,e,t,!1,r,o)}function iI(n,e,t,r,o,u){if(!e)throw Error("Invalid event type");var l=Yd(o)?!!o.capture:!!o,m=nh(n);if(m||(n[$m]=m=new ac(n)),(t=m.add(e,t,r,l,u)).proxy)return t;if(r=function ep(){const e=N_;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Jd||(o=l),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(aI(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function sI(n,e,t,r,o){if(Array.isArray(e)){for(var u=0;u<e.length;u++)sI(n,e[u],t,r,o);return null}return t=uI(t),n&&n[Jf]?n.P(e,t,Yd(r)?!!r.capture:!!r,o):iI(n,e,t,!0,r,o)}function oI(n,e,t,r,o){if(Array.isArray(e))for(var u=0;u<e.length;u++)oI(n,e[u],t,r,o);else r=Yd(r)?!!r.capture:!!r,t=uI(t),n&&n[Jf]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=th(u=n.g[e],t,r,o))&&(Um(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=nh(n))&&(e=n.g[e.toString()],n=-1,e&&(n=th(e,t,r,o)),(t=-1<n?e[n]:null)&&x_(t))}function x_(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Jf])Xf(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(aI(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=nh(e))?(Xf(t,n),0==t.h&&(t.src=null,e[$m]=null)):Um(n)}}}function aI(n){return n in Tl?Tl[n]:Tl[n]="on"+n}function N_(n,e){if(n.fa)n=!0;else{e=new Vm(e,this);var t=n.listener,r=n.la||n.src;n.ia&&x_(n),n=t.call(r,e)}return n}function nh(n){return(n=n[$m])instanceof ac?n:null}var rh="__closure_events_fn_"+(1e9*Math.random()>>>0);function uI(n){return"function"==typeof n?n:(n[rh]||(n[rh]=function(e){return n.handleEvent(e)}),n[rh])}function ai(){fo.call(this),this.i=new ac(this),this.S=this,this.J=null}function _i(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new oi(e,n);else if(e instanceof oi)e.target=e.target||n;else{var o=e;Bm(e=new oi(r,n),o)}if(o=!0,t)for(var u=t.length-1;0<=u;u--){var l=e.g=t[u];o=ih(l,r,!0,e)&&o}if(o=ih(l=e.g=n,r,!0,e)&&o,o=ih(l,r,!1,e)&&o,t)for(u=0;u<t.length;u++)o=ih(l=e.g=t[u],r,!1,e)&&o}function ih(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,u=0;u<e.length;++u){var l=e[u];if(l&&!l.fa&&l.capture==t){var m=l.listener,E=l.la||l.src;l.ia&&Xf(n.i,l),o=!1!==m.call(E,r)&&o}}return o&&!r.defaultPrevented}Ln(ai,fo),ai.prototype[Jf]=!0,ai.prototype.removeEventListener=function(n,e,t,r){oI(this,n,e,t,r)},ai.prototype.N=function(){if(ai.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Um(t[r]);delete n.g[e],n.h--}}this.J=null},ai.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},ai.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var R_=jt.JSON.stringify;function VT(){var n=P_;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var O_=new class cI{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new lI,n=>n.reset());class lI{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function dI(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function BT(n){jt.setTimeout(()=>{throw n},0)}let tp,np=!1,P_=new class UT{constructor(){this.h=this.g=null}add(e,t){const r=O_.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},jm=()=>{const n=jt.Promise.resolve(void 0);tp=()=>{n.then(k_)}};var k_=()=>{for(var n;n=VT();){try{n.h.call(n.g)}catch(t){BT(t)}var e=O_;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}np=!1};function Hm(n,e){ai.call(this),this.h=n||1,this.g=e||jt,this.j=si(this.qb,this),this.l=Date.now()}function sh(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function oh(n,e,t){if("function"==typeof n)t&&(n=si(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=si(n.handleEvent,n)}return 2147483647<Number(e)?-1:jt.setTimeout(n,e||0)}function zm(n){n.g=oh(()=>{n.g=null,n.i&&(n.i=!1,zm(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ln(Hm,ai),(rt=Hm.prototype).ga=!1,rt.T=null,rt.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),_i(this,"tick"),this.ga&&(sh(this),this.start()))}},rt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},rt.N=function(){Hm.$.N.call(this),sh(this),delete this.g};class hI extends fo{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:zm(this)}N(){super.N(),this.g&&(jt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rp(n){fo.call(this),this.h=n,this.g={}}Ln(rp,fo);var fI=[];function pI(n,e,t,r){Array.isArray(t)||(t&&(fI[0]=t.toString()),t=fI);for(var o=0;o<t.length;o++){var u=M_(e,t[o],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function Gm(n){tI(n.g,function(e,t){this.g.hasOwnProperty(t)&&x_(e)},n),n.g={}}function ah(){this.g=!0}function uh(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function yI(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var l=1;l<o.length;l++)o[l]=""}}}return R_(t)}catch{return e}}(n,t)+(r?" "+r:"")})}rp.prototype.N=function(){rp.$.N.call(this),Gm(this)},rp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ah.prototype.Ea=function(){this.g=!1},ah.prototype.info=function(){};var su={},F_=null;function ch(){return F_=F_||new ai}function L_(n){oi.call(this,su.Ta,n)}function ip(n){const e=ch();_i(e,new L_(e))}function V_(n,e){oi.call(this,su.STAT_EVENT,n),this.stat=e}function Pi(n){const e=ch();_i(e,new V_(e,n))}function U_(n,e){oi.call(this,su.Ua,n),this.size=e}function lh(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return jt.setTimeout(function(){n()},e)}su.Ta="serverreachability",Ln(L_,oi),su.STAT_EVENT="statevent",Ln(V_,oi),su.Ua="timingevent",Ln(U_,oi);var Wm={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},vI={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function B_(){}function qm(){}B_.prototype.h=null;var Ym,dh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Zm(){oi.call(this,"d")}function Km(){oi.call(this,"c")}function sp(){}function hh(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new rp(this),this.P=_I,this.V=new Hm(n=Nm?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new j_}function j_(){this.i=null,this.g="",this.h=!1}Ln(Zm,oi),Ln(Km,oi),Ln(sp,B_),sp.prototype.g=function(){return new XMLHttpRequest},sp.prototype.i=function(){return{}},Ym=new sp;var _I=45e3,fh={},$o={};function H_(n,e,t){n.L=1,n.v=ty(_a(e)),n.s=t,n.S=!0,wI(n,null)}function wI(n,e){n.G=Date.now(),op(n),n.A=_a(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),go(t.i,"t",r),n.C=0,t=n.l.J,n.h=new j_,n.g=h0(n.l,t?e:null,!n.s),0<n.O&&(n.M=new hI(si(n.Pa,n,n.g),n.O)),pI(n.U,n.g,"readystatechange",n.nb),e=n.I?nI(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),ip(),function gI(n,e,t,r,o,u){n.info(function(){if(n.g)if(u)for(var l="",m=u.split("&"),E=0;E<m.length;E++){var b=m[E].split("=");if(1<b.length){var S=b[0];b=b[1];var P=S.split("_");l=2<=P.length&&"type"==P[1]?l+(S+"=")+b+"&":l+(S+"=redacted&")}}else l=null;else l=u;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function Qm(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function uc(n,e,t){let o,r=!0;for(;!n.J&&n.C<t.length;){if(o=z_(n,t),o==$o){4==e&&(n.o=4,Pi(14),r=!1),uh(n.j,n.m,null,"[Incomplete Response]");break}if(o==fh){n.o=4,Pi(15),uh(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}uh(n.j,n.m,o,null),W_(n,o)}Qm(n)&&o!=$o&&o!=fh&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Pi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),ly(e),e.M=!0,Pi(11))):(uh(n.j,n.m,t,"[Invalid Chunked Response]"),Sl(n),Xm(n))}function z_(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?$o:(t=Number(e.substring(t,r)),isNaN(t)?fh:(r+=1)+t>e.length?$o:(e=e.slice(r,r+t),n.C=r+t,e))}function op(n){n.Y=Date.now()+n.P,Jm(n,n.P)}function Jm(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=lh(si(n.lb,n),e)}function G_(n){n.B&&(jt.clearTimeout(n.B),n.B=null)}function Xm(n){0==n.l.H||n.J||u0(n.l,n)}function Sl(n){G_(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,sh(n.V),Gm(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function W_(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||xl(t.i,n)))if(!n.K&&xl(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;pp(t),ay(t)}cy(t),Pi(18)}}else t.Fa=o[1],0<t.Fa-t.V&&37500>o[2]&&t.G&&0==t.A&&!t.v&&(t.v=lh(si(t.ib,t),6e3));if(1>=ny(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else lc(t,11)}else if((n.K||t.g==n)&&pp(t),!va(e))for(o=t.Ja.g.parse(e),e=0;e<o.length;e++){let b=o[e];if(t.V=b[0],b=b[1],2==t.H)if("c"==b[0]){t.K=b[1],t.pa=b[2];const S=b[3];null!=S&&(t.ra=S,t.l.info("VER="+t.ra));const P=b[4];null!=P&&(t.Ga=P,t.l.info("SVER="+t.Ga));const W=b[5];null!=W&&"number"==typeof W&&0<W&&(t.L=r=1.5*W,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const re=n.g;if(re){const Ee=re.g?re.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ee){var u=r.i;u.g||-1==Ee.indexOf("spdy")&&-1==Ee.indexOf("quic")&&-1==Ee.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(Q_(u,u.h),u.h=null))}if(r.F){const Le=re.g?re.g.getResponseHeader("X-HTTP-Session-Id"):null;Le&&(r.Da=Le,Dn(r.I,r.F,Le))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var l=n;if((r=t).wa=d0(r,r.J?r.pa:null,r.Y),l.K){J_(r.i,l);var m=l,E=r.L;E&&m.setTimeout(E),m.B&&(G_(m),op(m)),r.g=l}else BI(r);0<t.j.length&&uy(t)}else"stop"!=b[0]&&"close"!=b[0]||lc(t,7);else 3==t.H&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?lc(t,7):o0(t):"noop"!=b[0]&&t.h&&t.h.Aa(b),t.A=0)}ip()}catch{}}function Ur(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(T_(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function jT(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(T_(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function EI(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(T_(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length,u=0;u<o;u++)e.call(void 0,r[u],t&&t[u],n)}(rt=hh.prototype).setTimeout=function(n){this.P=n},rt.nb=function(n){n=n.target;const e=this.M;e&&3==Ea(n)?e.l():this.Pa(n)},rt.Pa=function(n){try{if(n==this.g)e:{const S=Ea(this.g);var e=this.g.Ia();if(this.g.da(),!(3>S)&&(3!=S||Nm||this.g&&(this.h.h||this.g.ja()||PI(this.g)))){this.J||4!=S||7==e||ip(),G_(this);var t=this.g.da();this.ca=t;t:if(Qm(this)){var r=PI(this.g);n="";var o=r.length,u=4==Ea(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Sl(this),Xm(this);var l="";break t}this.h.i=new jt.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==t,function mI(n,e,t,r,o,u,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+u+" "+l})}(this.j,this.u,this.A,this.m,this.W,S,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var m,E=this.g;if((m=E.g?E.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!va(m)){var b=m;break t}}b=null}if(!(t=b)){this.i=!1,this.o=3,Pi(12),Sl(this),Xm(this);break e}uh(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,W_(this,t)}this.S?(uc(this,S,l),Nm&&this.i&&3==S&&(pI(this.U,this.V,"tick",this.mb),this.V.start())):(uh(this.j,this.m,l,null),W_(this,l)),4==S&&Sl(this),this.i&&!this.J&&(4==S?u0(this.l,this):(this.i=!1,op(this)))}else(function ZT(n){const e={};n=(n.g&&2<=Ea(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(va(n[r]))continue;var t=dI(n[r]);const o=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const u=e[o]||[];e[o]=u,u.push(t)}!function LT(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<l.indexOf("Unknown SID")?(this.o=3,Pi(12)):(this.o=0,Pi(13)),Sl(this),Xm(this)}}}catch{}},rt.mb=function(){if(this.g){var n=Ea(this.g),e=this.g.ja();this.C<e.length&&(G_(this),uc(this,n,e),this.i&&4!=n&&op(this))}},rt.cancel=function(){this.J=!0,Sl(this)},rt.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function $T(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(ip(),Pi(17)),Sl(this),this.o=2,Xm(this)):Jm(this,this.Y-n)};var q_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Al(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Al){this.h=n.h,ey(this,n.j),this.s=n.s,this.g=n.g,ap(this,n.m),this.l=n.l;var e=n.i,t=new cp;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Z_(this,t),this.o=n.o}else n&&(e=String(n).match(q_))?(this.h=!1,ey(this,e[1]||"",!0),this.s=up(e[2]||""),this.g=up(e[3]||"",!0),ap(this,e[4]),this.l=up(e[5]||"",!0),Z_(this,e[6]||"",!0),this.o=up(e[7]||"")):(this.h=!1,this.i=new cp(null,this.h))}function _a(n){return new Al(n)}function ey(n,e,t){n.j=t?up(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function ap(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Z_(n,e,t){e instanceof cp?(n.i=e,function DI(n,e){e&&!n.j&&(cc(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(jo(this,r),go(this,o,t))},n)),n.j=e}(n.i,n.h)):(t||(e=ph(e,Y_)),n.i=new cp(e,n.h))}function Dn(n,e,t){n.i.set(e,t)}function ty(n){return Dn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function up(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function ph(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,zT),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function zT(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Al.prototype.toString=function(){var n=[],e=this.j;e&&n.push(ph(e,K_,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(ph(e,K_,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(ph(t,"/"==t.charAt(0)?II:zx,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",ph(t,wa)),n.join("")};var K_=/[#\/\?@]/g,zx=/[#\?:]/g,II=/[#\?]/g,Y_=/[#\?@]/g,wa=/#/g;function cp(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function cc(n){n.g||(n.g=new Map,n.h=0,n.i&&function HT(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var u=n[t].substring(0,r);o=n[t].substring(r+1)}else u=n[t];e(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function jo(n,e){cc(n),e=Ml(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function po(n,e){return cc(n),e=Ml(n,e),n.g.has(e)}function go(n,e,t){jo(n,e),0<t.length&&(n.i=null,n.g.set(Ml(n,e),Qd(t)),n.h+=t.length)}function Ml(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function CI(n){this.l=n||WT,n=jt.PerformanceNavigationTiming?0<(n=jt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(jt.g&&jt.g.Ka&&jt.g.Ka()&&jt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(rt=cp.prototype).add=function(n,e){cc(this),this.i=null,n=Ml(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},rt.forEach=function(n,e){cc(this),this.g.forEach(function(t,r){t.forEach(function(o){n.call(e,o,r,this)},this)},this)},rt.ta=function(){cc(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const o=n[r];for(let u=0;u<o.length;u++)t.push(e[r])}return t},rt.Z=function(n){cc(this);let e=[];if("string"==typeof n)po(this,n)&&(e=e.concat(this.g.get(Ml(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},rt.set=function(n,e){return cc(this),this.i=null,po(this,n=Ml(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},rt.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},rt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),l=this.Z(r);for(r=0;r<l.length;r++){var o=u;""!==l[r]&&(o+="="+encodeURIComponent(String(l[r]))),n.push(o)}}return this.i=n.join("&")};var WT=10;function bI(n){return!!n.h||!!n.g&&n.g.size>=n.j}function ny(n){return n.h?1:n.g?n.g.size:0}function xl(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Q_(n,e){n.g?n.g.add(e):n.h=e}function J_(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function TI(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return Qd(n.i)}CI.prototype.cancel=function(){if(this.i=TI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var qT=class{stringify(n){return jt.JSON.stringify(n,void 0)}parse(n){return jt.JSON.parse(n,void 0)}};function SI(){this.g=new qT}function AI(n,e,t){const r=t||"";try{Ur(n,function(o,u){let l=o;Yd(o)&&(l=R_(o)),e.push(r+u+"="+encodeURIComponent(l))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function iy(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch{}}function gh(n){this.l=n.fc||null,this.j=n.ob||!1}function lp(n,e){ai.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=sy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ln(gh,B_),gh.prototype.g=function(){return new lp(this.l,this.j)},gh.prototype.i=function(n){return function(){return n}}({}),Ln(lp,ai);var sy=0;function MI(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function dp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Nl(n)}function Nl(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(rt=lp.prototype).open=function(n,e){if(this.readyState!=sy)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Nl(this)},rt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||jt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},rt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,dp(this)),this.readyState=sy},rt.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Nl(this)),this.g&&(this.readyState=3,Nl(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof jt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;MI(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},rt.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?dp(this):Nl(this),3==this.readyState&&MI(this)}},rt.Za=function(n){this.g&&(this.response=this.responseText=n,dp(this))},rt.Ya=function(n){this.g&&(this.response=n,dp(this))},rt.ka=function(){this.g&&dp(this)},rt.setRequestHeader=function(n,e){this.v.append(n,e)},rt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},rt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(lp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var X_=jt.JSON.parse;function ir(n){ai.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=e0,this.L=this.M=!1}Ln(ir,ai);var e0="",xI=/^https?$/i,NI=["POST","PUT"];function t0(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,n0(n),oy(n)}function n0(n){n.F||(n.F=!0,_i(n,"complete"),_i(n,"error"))}function r0(n){if(n.h&&typeof Am<"u"&&(!n.C[1]||4!=Ea(n)||2!=n.da()))if(n.v&&4==Ea(n))oh(n.La,0,n);else if(_i(n,"readystatechange"),4==Ea(n)){n.h=!1;try{const l=n.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===l){var o=String(n.I).match(q_)[1]||null;!o&&jt.self&&jt.self.location&&(o=jt.self.location.protocol.slice(0,-1)),r=!xI.test(o?o.toLowerCase():"")}t=r}if(t)_i(n,"complete"),_i(n,"success");else{n.m=6;try{var u=2<Ea(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.da()+"]",n0(n)}}finally{oy(n)}}}function oy(n,e){if(n.g){OI(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||_i(n,"ready");try{t.onreadystatechange=r}catch{}}}function OI(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(jt.clearTimeout(n.A),n.A=null)}function Ea(n){return n.g?n.g.readyState:0}function PI(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case e0:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function kI(n){let e="";return tI(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function s0(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=kI(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Dn(n,e,t))}function hp(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function FI(n){this.Ga=0,this.j=[],this.l=new ah,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=hp("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=hp("baseRetryDelayMs",5e3,n),this.hb=hp("retryDelaySeedMs",1e4,n),this.eb=hp("forwardChannelMaxRetries",2,n),this.xa=hp("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new CI(n&&n.concurrentRequestLimit),this.Ja=new SI,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function o0(n){if(LI(n),3==n.H){var e=n.W++,t=_a(n.I);if(Dn(t,"SID",n.K),Dn(t,"RID",e),Dn(t,"TYPE","terminate"),fp(n,t),(e=new hh(n,n.l,e)).L=2,e.v=ty(_a(t)),t=!1,jt.navigator&&jt.navigator.sendBeacon)try{t=jt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&jt.Image&&((new Image).src=e.v,t=!0),t||(e.g=h0(e.l,null),e.g.ha(e.v)),e.G=Date.now(),op(e)}l0(n)}function ay(n){n.g&&(ly(n),n.g.cancel(),n.g=null)}function LI(n){ay(n),n.u&&(jt.clearTimeout(n.u),n.u=null),pp(n),n.i.cancel(),n.m&&("number"==typeof n.m&&jt.clearTimeout(n.m),n.m=null)}function uy(n){if(!bI(n.i)&&!n.m){n.m=!0;var e=n.Na;tp||jm(),np||(tp(),np=!0),P_.add(e,n),n.C=0}}function VI(n,e){var t;t=e?e.m:n.W++;const r=_a(n.I);Dn(r,"SID",n.K),Dn(r,"RID",t),Dn(r,"AID",n.V),fp(n,r),n.o&&n.s&&s0(r,n.o,n.s),t=new hh(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=UI(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Q_(n.i,t),H_(t,r,e)}function fp(n,e){n.na&&tI(n.na,function(t,r){Dn(e,r,t)}),n.h&&Ur({},function(t,r){Dn(e,r,t)})}function UI(n,e,t){t=Math.min(n.j.length,t);var r=n.h?si(n.h.Va,n.h,n):null;e:{var o=n.j;let u=-1;for(;;){const l=["count="+t];-1==u?0<t?(u=o[0].g,l.push("ofs="+u)):u=0:l.push("ofs="+u);let m=!0;for(let E=0;E<t;E++){let b=o[E].g;const S=o[E].map;if(b-=u,0>b)u=Math.max(0,o[E].g-100),m=!1;else try{AI(S,l,"req"+b+"_")}catch{r&&r(S)}}if(m){r=l.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function BI(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;tp||jm(),np||(tp(),np=!0),P_.add(e,n),n.A=0}}function cy(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=lh(si(n.Ma,n),c0(n,n.A)),n.A++,0))}function ly(n){null!=n.B&&(jt.clearTimeout(n.B),n.B=null)}function a0(n){n.g=new hh(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=_a(n.wa);Dn(e,"RID","rpc"),Dn(e,"SID",n.K),Dn(e,"AID",n.V),Dn(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Dn(e,"TO",n.qa),Dn(e,"TYPE","xmlhttp"),fp(n,e),n.o&&n.s&&s0(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=ty(_a(e)),t.s=null,t.S=!0,wI(t,n)}function pp(n){null!=n.v&&(jt.clearTimeout(n.v),n.v=null)}function u0(n,e){var t=null;if(n.g==e){pp(n),ly(n),n.g=null;var r=2}else{if(!xl(n.i,e))return;t=e.F,J_(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var o=n.C;_i(r=ch(),new U_(r,t)),uy(n)}else BI(n);else if(3==(o=e.o)||0==o&&0<e.ca||!(1==r&&function KT(n,e){return!(ny(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=lh(si(n.Na,n,e),c0(n,n.C)),n.C++,0)))}(n,e)||2==r&&cy(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:lc(n,5);break;case 4:lc(n,10);break;case 3:lc(n,6);break;default:lc(n,2)}}function c0(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function lc(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=si(n.pb,n);t||(t=new Al("//www.google.com/images/cleardot.gif"),jt.location&&"http"==jt.location.protocol||ey(t,"https"),ty(t)),function ry(n,e){const t=new ah;if(jt.Image){const r=new Image;r.onload=xm(iy,t,r,"TestLoadImage: loaded",!0,e),r.onerror=xm(iy,t,r,"TestLoadImage: error",!1,e),r.onabort=xm(iy,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=xm(iy,t,r,"TestLoadImage: timeout",!1,e),jt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Pi(2);n.H=0,n.h&&n.h.za(e),l0(n),LI(n)}function l0(n){if(n.H=0,n.ma=[],n.h){const e=TI(n.i);(0!=e.length||0!=n.j.length)&&(Ls(n.ma,e),Ls(n.ma,n.j),n.i.i.length=0,Qd(n.j),n.j.length=0),n.h.ya()}}function d0(n,e,t){var r=t instanceof Al?_a(t):new Al(t);if(""!=r.g)e&&(r.g=e+"."+r.g),ap(r,r.m);else{var o=jt.location;r=o.protocol,e=e?e+"."+o.hostname:o.hostname,o=+o.port;var u=new Al(null);r&&ey(u,r),e&&(u.g=e),o&&ap(u,o),t&&(u.l=t),r=u}return e=n.Da,(t=n.F)&&e&&Dn(r,t,e),Dn(r,"VER",n.ra),fp(n,r),r}function h0(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ir(t&&n.Ha&&!n.va?new gh({ob:!0}):n.va)).Oa(n.J),e}function f0(){}function Ia(){if(Bo&&!(10<=Number(kT)))throw Error("Environmental error: no available transport.")}function Vs(n,e){ai.call(this),this.g=new FI(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!va(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!va(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new gp(this)}function $I(n){Zm.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Rl(){Km.call(this),this.status=1}function gp(n){this.g=n}function Da(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function dy(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var o=0;16>o;++o)r[o]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(o=0;16>o;++o)r[o]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var u=n.g[3],l=(e=n.g[0])+(u^(t=n.g[1])&((o=n.g[2])^u))+r[0]+3614090360&4294967295;l=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=t+(l<<7&4294967295|l>>>25))+((l=u+(o^e&(t^o))+r[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=o+(t^u&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^o&(u^e))+r[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(o^u))+r[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=u+(o^e&(t^o))+r[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=o+(t^u&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^o&(u^e))+r[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(o^u))+r[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=u+(o^e&(t^o))+r[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=o+(t^u&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^o&(u^e))+r[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(o^u))+r[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=u+(o^e&(t^o))+r[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=o+(t^u&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^o&(u^e))+r[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(o^u&(t^o))+r[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^o&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=o+(e^t&(u^e))+r[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(o^u))+r[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(o^u&(t^o))+r[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^o&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=o+(e^t&(u^e))+r[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(o^u))+r[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(o^u&(t^o))+r[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^o&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=o+(e^t&(u^e))+r[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(o^u))+r[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(o^u&(t^o))+r[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^o&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=o+(e^t&(u^e))+r[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(o^u))+r[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(t^o^u)+r[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^o)+r[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=o+(u^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=t+(o^u^e)+r[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^o^u)+r[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^o)+r[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=o+(u^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=t+(o^u^e)+r[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^o^u)+r[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^o)+r[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=o+(u^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=t+(o^u^e)+r[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^o^u)+r[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^o)+r[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=o+(u^e^t)+r[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=t+(o^u^e)+r[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(o^(t|~u))+r[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~o))+r[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=o+(e^(u|~t))+r[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(o|~e))+r[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(o^(t|~u))+r[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~o))+r[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=o+(e^(u|~t))+r[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(o|~e))+r[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(o^(t|~u))+r[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~o))+r[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=o+(e^(u|~t))+r[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(o|~e))+r[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((u=(e=t+((l=e+(o^(t|~u))+r[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~o))+r[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((o=u+((l=o+(e^(u|~t))+r[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(o+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+o&4294967295,n.g[3]=n.g[3]+u&4294967295}function Cn(n,e){this.h=e;for(var t=[],r=!0,o=n.length-1;0<=o;o--){var u=0|n[o];r&&u==e||(t[o]=u,r=!1)}this.g=t}(rt=ir.prototype).Oa=function(n){this.M=n},rt.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ym.g(),this.C=function $_(n){return n.h||(n.h=n.i())}(this.u?this.u:Ym),this.g.onreadystatechange=si(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(u){return void t0(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)t.set(o,r[o]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),o=jt.FormData&&n instanceof jt.FormData,!(0<=sc(NI,e))||r||o||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,l]of t)this.g.setRequestHeader(u,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{OI(this),0<this.B&&((this.L=function RI(n){return Bo&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=si(this.ua,this)):this.A=oh(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){t0(this,u)}},rt.ua=function(){typeof Am<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,_i(this,"timeout"),this.abort(8))},rt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,_i(this,"complete"),_i(this,"abort"),oy(this))},rt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),oy(this,!0)),ir.$.N.call(this)},rt.La=function(){this.s||(this.G||this.v||this.l?r0(this):this.kb())},rt.kb=function(){r0(this)},rt.isActive=function(){return!!this.g},rt.da=function(){try{return 2<Ea(this)?this.g.status:-1}catch{return-1}},rt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},rt.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),X_(e)}},rt.Ia=function(){return this.m},rt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(rt=FI.prototype).ra=8,rt.H=1,rt.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const o=new hh(this,this.l,n);let u=this.s;if(this.U&&(u?(u=nI(u),Bm(u,this.U)):u=this.U),null!==this.o||this.O||(o.I=u,u=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=UI(this,o,e),Dn(t=_a(this.I),"RID",n),Dn(t,"CVER",22),this.F&&Dn(t,"X-HTTP-Session-Id",this.F),fp(this,t),u&&(this.O?e="headers="+encodeURIComponent(String(kI(u)))+"&"+e:this.o&&s0(t,this.o,u)),Q_(this.i,o),this.bb&&Dn(t,"TYPE","init"),this.P?(Dn(t,"$req",e),Dn(t,"SID","null"),o.aa=!0,H_(o,t,null)):H_(o,t,e),this.H=2}}else 3==this.H&&(n?VI(this,n):0==this.j.length||bI(this.i)||VI(this))},rt.Ma=function(){if(this.u=null,a0(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=lh(si(this.jb,this),n)}},rt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Pi(10),ay(this),a0(this))},rt.ib=function(){null!=this.v&&(this.v=null,ay(this),cy(this),Pi(19))},rt.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Pi(2)):(this.l.info("Failed to ping google.com"),Pi(1))},rt.isActive=function(){return!!this.h&&this.h.isActive(this)},(rt=f0.prototype).Ba=function(){},rt.Aa=function(){},rt.za=function(){},rt.ya=function(){},rt.isActive=function(){return!0},rt.Va=function(){},Ia.prototype.g=function(n,e){return new Vs(n,e)},Ln(Vs,ai),Vs.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Pi(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=d0(n,null,n.Y),uy(n)},Vs.prototype.close=function(){o0(this.g)},Vs.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=R_(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&uy(e)},Vs.prototype.N=function(){this.g.h=null,delete this.j,o0(this.g),delete this.g,Vs.$.N.call(this)},Ln($I,Zm),Ln(Rl,Km),Ln(gp,f0),gp.prototype.Ba=function(){_i(this.g,"a")},gp.prototype.Aa=function(n){_i(this.g,new $I(n))},gp.prototype.za=function(n){_i(this.g,new Rl)},gp.prototype.ya=function(){_i(this.g,"b")},Ln(Da,function p0(){this.blockSize=-1}),Da.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Da.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,o=this.h,u=0;u<e;){if(0==o)for(;u<=t;)dy(this,n,u),u+=this.blockSize;if("string"==typeof n){for(;u<e;)if(r[o++]=n.charCodeAt(u++),o==this.blockSize){dy(this,r),o=0;break}}else for(;u<e;)if(r[o++]=n[u++],o==this.blockSize){dy(this,r),o=0;break}}this.h=o,this.i+=e},Da.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var Gx={};function bt(n){return-128<=n&&128>n?function Xd(n,e){var t=Gx;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Cn([0|e],0>e?-1:0)}):new Cn([0|n],0>n?-1:0)}function Ca(n){if(isNaN(n)||!isFinite(n))return Ho;if(0>n)return ki(Ca(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=g0;return new Cn(e,0)}var g0=4294967296,Ho=bt(0),m0=bt(1),mp=bt(16777216);function mo(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function pn(n){return-1==n.h}function ki(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Cn(t,~n.h).add(m0)}function yp(n,e){return n.add(ki(e))}function vp(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function _p(n,e){this.g=n,this.h=e}function wp(n,e){if(mo(e))throw Error("division by zero");if(mo(n))return new _p(Ho,Ho);if(pn(n))return e=wp(ki(n),e),new _p(ki(e.g),ki(e.h));if(pn(e))return e=wp(n,ki(e)),new _p(ki(e.g),e.h);if(30<n.g.length){if(pn(n)||pn(e))throw Error("slowDivide_ only works with positive integers.");for(var t=m0,r=e;0>=r.X(n);)t=y0(t),r=y0(r);var o=Ol(t,1),u=Ol(r,1);for(r=Ol(r,2),t=Ol(t,2);!mo(r);){var l=u.add(r);0>=l.X(n)&&(o=o.add(t),u=l),r=Ol(r,1),t=Ol(t,1)}return e=yp(n,o.R(e)),new _p(o,e)}for(o=Ho;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),l=(u=Ca(t)).R(e);pn(l)||0<l.X(n);)l=(u=Ca(t-=r)).R(e);mo(u)&&(u=m0),o=o.add(u),n=yp(n,l)}return new _p(o,n)}function y0(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Cn(t,n.h)}function Ol(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,o=[],u=0;u<r;u++)o[u]=0<e?n.D(u+t)>>>e|n.D(u+t+1)<<32-e:n.D(u+t);return new Cn(o,n.h)}(rt=Cn.prototype).ea=function(){if(pn(this))return-ki(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:g0+r)*e,e*=g0}return n},rt.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(mo(this))return"0";if(pn(this))return"-"+ki(this).toString(n);for(var e=Ca(Math.pow(n,6)),t=this,r="";;){var o=wp(t,e).g,u=((0<(t=yp(t,o.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(mo(t=o))return u+r;for(;6>u.length;)u="0"+u;r=u+r}},rt.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},rt.X=function(n){return pn(n=yp(this,n))?-1:mo(n)?0:1},rt.abs=function(){return pn(this)?ki(this):this},rt.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,o=0;o<=e;o++){var u=r+(65535&this.D(o))+(65535&n.D(o)),l=(u>>>16)+(this.D(o)>>>16)+(n.D(o)>>>16);r=l>>>16,t[o]=(l&=65535)<<16|(u&=65535)}return new Cn(t,-2147483648&t[t.length-1]?-1:0)},rt.R=function(n){if(mo(this)||mo(n))return Ho;if(pn(this))return pn(n)?ki(this).R(ki(n)):ki(ki(this).R(n));if(pn(n))return ki(this.R(ki(n)));if(0>this.X(mp)&&0>n.X(mp))return Ca(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var o=0;o<n.g.length;o++){var u=this.D(r)>>>16,l=65535&this.D(r),m=n.D(o)>>>16,E=65535&n.D(o);t[2*r+2*o]+=l*E,vp(t,2*r+2*o),t[2*r+2*o+1]+=u*E,vp(t,2*r+2*o+1),t[2*r+2*o+1]+=l*m,vp(t,2*r+2*o+1),t[2*r+2*o+2]+=u*m,vp(t,2*r+2*o+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Cn(t,0)},rt.gb=function(n){return wp(this,n).h},rt.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Cn(t,this.h&n.h)},rt.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Cn(t,this.h|n.h)},rt.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Cn(t,this.h^n.h)},Ia.prototype.createWebChannel=Ia.prototype.g,Vs.prototype.send=Vs.prototype.u,Vs.prototype.open=Vs.prototype.m,Vs.prototype.close=Vs.prototype.close,Wm.NO_ERROR=0,Wm.TIMEOUT=8,Wm.HTTP_ERROR=6,vI.COMPLETE="complete",qm.EventType=dh,dh.OPEN="a",dh.CLOSE="b",dh.ERROR="c",dh.MESSAGE="d",ai.prototype.listen=ai.prototype.O,ir.prototype.listenOnce=ir.prototype.P,ir.prototype.getLastError=ir.prototype.Sa,ir.prototype.getLastErrorCode=ir.prototype.Ia,ir.prototype.getStatus=ir.prototype.da,ir.prototype.getResponseJson=ir.prototype.Wa,ir.prototype.getResponseText=ir.prototype.ja,ir.prototype.send=ir.prototype.ha,ir.prototype.setWithCredentials=ir.prototype.Oa,Da.prototype.digest=Da.prototype.l,Da.prototype.reset=Da.prototype.reset,Da.prototype.update=Da.prototype.j,Cn.prototype.add=Cn.prototype.add,Cn.prototype.multiply=Cn.prototype.R,Cn.prototype.modulo=Cn.prototype.gb,Cn.prototype.compare=Cn.prototype.X,Cn.prototype.toNumber=Cn.prototype.ea,Cn.prototype.toString=Cn.prototype.toString,Cn.prototype.getBits=Cn.prototype.D,Cn.fromNumber=Ca,Cn.fromString=function jI(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return ki(jI(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Ca(Math.pow(e,8)),r=Ho,o=0;o<n.length;o+=8){var u=Math.min(8,n.length-o),l=parseInt(n.substring(o,o+u),e);8>u?(u=Ca(Math.pow(e,u)),r=r.R(u).add(Ca(l))):r=(r=r.R(t)).add(Ca(l))}return r};var HI=Uo.createWebChannelTransport=function(){return new Ia},YT=Uo.getStatEventTarget=function(){return ch()},v0=Uo.ErrorCode=Wm,QT=Uo.EventType=vI,Ep=Uo.Event=su,zI=Uo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},JT=Uo.FetchXmlHttpFactory=gh,hy=Uo.WebChannel=qm,fy=Uo.XhrIo=ir,GI=Uo.Md5=Da,Pl=Uo.Integer=Cn;const _0="@firebase/firestore";class ui{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ui.UNAUTHENTICATED=new ui(null),ui.GOOGLE_CREDENTIALS=new ui("google-credentials-uid"),ui.FIRST_PARTY=new ui("first-party-uid"),ui.MOCK_USER=new ui("mock-user");let ba="9.23.0";const yo=new ic.Yd("@firebase/firestore");function w0(){return yo.logLevel}function Fe(n,...e){if(yo.logLevel<=ic.in.DEBUG){const t=e.map(py);yo.debug(`Firestore (${ba}): ${n}`,...t)}}function Ir(n,...e){if(yo.logLevel<=ic.in.ERROR){const t=e.map(py);yo.error(`Firestore (${ba}): ${n}`,...t)}}function Us(n,...e){if(yo.logLevel<=ic.in.WARN){const t=e.map(py);yo.warn(`Firestore (${ba}): ${n}`,...t)}}function py(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function st(n="Unexpected state"){const e=`FIRESTORE (${ba}) INTERNAL ASSERTION FAILED: `+n;throw Ir(e),new Error(e)}function vt(n,e){n||st()}function tt(n,e){return n}const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Me extends fn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ci{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class tS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class WI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ui.UNAUTHENTICATED))}shutdown(){}}class gy{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class nS{constructor(e){this.t=e,this.currentUser=ui.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const u=b=>this.i!==o?(o=this.i,t(b)):Promise.resolve();let l=new ci;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ci,e.enqueueRetryable(()=>u(this.currentUser))};const m=()=>{const b=l;e.enqueueRetryable((0,ve.Z)(function*(){yield b.promise,yield u(r.currentUser)}))},E=b=>{Fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(b=>E(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?E(b):(Fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ci)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(vt("string"==typeof r.accessToken),new tS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return vt(null===e||"string"==typeof e),new ui(e)}}class rS{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=ui.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class qI{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new rS(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ui.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mh{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iS{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=u=>{null!=u.error&&Fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const l=u.token!==this.T;return this.T=u.token,Fe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const o=u=>{Fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.I.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.I.getImmediate({optional:!0});u?o(u):Fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(vt("string"==typeof t.token),this.T=t.token,new mh(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function sS(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class ZI{static A(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const o=sS(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(o[u]%62))}return r}}function Ht(n,e){return n<e?-1:n>e?1:0}function yh(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function E0(n){return n+"\0"}class sr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Me(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Me(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Me(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Me(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return sr.fromMillis(Date.now())}static fromDate(e){return sr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new sr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ht(this.nanoseconds,e.nanoseconds):Ht(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Et{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Et(e)}static min(){return new Et(new sr(0,0))}static max(){return new Et(new sr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ou{constructor(e,t,r){void 0===t?t=0:t>e.length&&st(),void 0===r?r=e.length-t:r>e.length-t&&st(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===ou.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ou?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const u=e.get(o),l=t.get(o);if(u<l)return-1;if(u>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class an extends ou{construct(e,t,r){return new an(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Me(ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new an(t)}static emptyPath(){return new an([])}}const KI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dr extends ou{construct(e,t,r){return new Dr(e,t,r)}static isValidIdentifier(e){return KI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Dr(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const u=()=>{if(0===r.length)throw new Me(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;o<e.length;){const m=e[o];if("\\"===m){if(o+1===e.length)throw new Me(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const E=e[o+1];if("\\"!==E&&"."!==E&&"`"!==E)throw new Me(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=E,o+=2}else"`"===m?(l=!l,o++):"."!==m||l?(r+=m,o++):(u(),o++)}if(u(),l)throw new Me(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dr(t)}static emptyPath(){return new Dr([])}}class Qe{constructor(e){this.path=e}static fromPath(e){return new Qe(an.fromString(e))}static fromName(e){return new Qe(an.fromString(e).popFirst(5))}static empty(){return new Qe(an.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===an.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return an.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Qe(new an(e.slice()))}}class my{constructor(e,t,r,o){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=o}}function yy(n){return n.fields.find(e=>2===e.kind)}function kl(n){return n.fields.filter(e=>2!==e.kind)}my.UNKNOWN_ID=-1;class vy{constructor(e,t){this.fieldPath=e,this.kind=t}}class vh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new vh(0,Bs.min())}}function QI(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Et.fromTimestamp(1e9===r?new sr(t+1,0):new sr(t,r));return new Bs(o,Qe.empty(),e)}function JI(n){return new Bs(n.readTime,n.key,-1)}class Bs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Bs(Et.min(),Qe.empty(),-1)}static max(){return new Bs(Et.max(),Qe.empty(),-1)}}function Ip(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Qe.comparator(n.documentKey,e.documentKey),0!==t?t:Ht(n.largestBatchId,e.largestBatchId))}const XI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class D0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function dc(n){return C0.apply(this,arguments)}function C0(){return C0=(0,ve.Z)(function*(n){if(n.code!==ce.FAILED_PRECONDITION||n.message!==XI)throw n;Fe("LocalStore","Unexpectedly lost primary lease")}),C0.apply(this,arguments)}class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&st(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new oe((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof oe?t:oe.resolve(t)}catch(t){return oe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):oe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):oe.reject(t)}static resolve(e){return new oe((t,r)=>{t(e)})}static reject(e){return new oe((t,r)=>{r(e)})}static waitFor(e){return new oe((t,r)=>{let o=0,u=0,l=!1;e.forEach(m=>{++o,m.next(()=>{++u,l&&u===o&&t()},E=>r(E))}),l=!0,u===o&&t()})}static or(e){let t=oe.resolve(!1);for(const r of e)t=t.next(o=>o?oe.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,u)=>{r.push(t.call(this,o,u))}),this.waitFor(r)}static mapArray(e,t){return new oe((r,o)=>{const u=e.length,l=new Array(u);let m=0;for(let E=0;E<u;E++){const b=E;t(e[b]).next(S=>{l[b]=S,++m,m===u&&r(l)},S=>o(S))}})}static doWhile(e,t){return new oe((r,o)=>{const u=()=>{!0===e()?t().next(()=>{u()},o):r()};u()})}}class _y{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new ci,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Dp(e,t.error)):this.v.resolve()},this.transaction.onerror=r=>{const o=b0(r.target.error);this.v.reject(new Dp(e,o))}}static open(e,t,r,o){try{return new _y(t,e.transaction(o,r))}catch(u){throw new Dp(t,u)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Fe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new eD(t)}}class zo{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===zo.S((0,fn.z$)())&&Ir("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Fe("SimpleDb","Removing database:",e),fc(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,fn.hl)())return!1;if(zo.C())return!0;const e=(0,fn.z$)(),t=zo.S(e),r=0<t&&t<10,o=zo.N(e),u=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var t=this;return(0,ve.Z)(function*(){return t.db||(Fe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=l=>{r(l.target.result)},u.onblocked=()=>{o(new Dp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=l=>{const m=l.target.error;o("VersionError"===m.name?new Me(ce.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Me(ce.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new Dp(e,m))},u.onupgradeneeded=l=>{Fe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',l.oldVersion),t.V.O(l.target.result,u.transaction,l.oldVersion,t.version).next(()=>{Fe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var u=this;return(0,ve.Z)(function*(){const l="readonly"===t;let m=0;for(;;){++m;try{u.db=yield u.$(e);const E=_y.open(u.db,e,l?"readonly":"readwrite",r),b=o(E).next(S=>(E.P(),S)).catch(S=>(E.abort(S),oe.reject(S))).toPromise();return b.catch(()=>{}),yield E.R,b}catch(E){const b=E,S="FirebaseError"!==b.name&&m<3;if(Fe("SimpleDb","Transaction failed with error:",b.message,"Retrying:",S),u.close(),!S)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class oS{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return fc(this.L.delete())}}class Dp extends Me{constructor(e,t){super(ce.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function hc(n){return"IndexedDbTransactionError"===n.name}class eD{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Fe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Fe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),fc(r)}add(e){return Fe("SimpleDb","ADD",this.store.name,e,e),fc(this.store.add(e))}get(e){return fc(this.store.get(e)).next(t=>(void 0===t&&(t=null),Fe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Fe("SimpleDb","DELETE",this.store.name,e),fc(this.store.delete(e))}count(){return Fe("SimpleDb","COUNT",this.store.name),fc(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),u=[];return this.W(o,(l,m)=>{u.push(m)}).next(()=>u)}{const o=this.store.getAll(r.range);return new oe((u,l)=>{o.onerror=m=>{l(m.target.error)},o.onsuccess=m=>{u(m.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new oe((o,u)=>{r.onerror=l=>{u(l.target.error)},r.onsuccess=l=>{o(l.target.result)}})}J(e,t){Fe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const o=this.cursor(r);return this.W(o,(u,l,m)=>m.delete())}X(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.W(o,t)}Z(e){const t=this.cursor({});return new oe((r,o)=>{t.onerror=u=>{const l=b0(u.target.error);o(l)},t.onsuccess=u=>{const l=u.target.result;l?e(l.primaryKey,l.value).next(m=>{m?l.continue():r()}):r()}})}W(e,t){const r=[];return new oe((o,u)=>{e.onerror=l=>{u(l.target.error)},e.onsuccess=l=>{const m=l.target.result;if(!m)return void o();const E=new oS(m),b=t(m.primaryKey,m.value,E);if(b instanceof oe){const S=b.catch(P=>(E.done(),oe.reject(P)));r.push(S)}E.isDone?o():null===E.K?m.continue():m.continue(E.K)}}).next(()=>oe.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function fc(n){return new oe((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=b0(r.target.error);t(o)}})}let tD=!1;function b0(n){const e=zo.S((0,fn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Me("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return tD||(tD=!0,setTimeout(()=>{throw r},0)),r}}return n}class nD{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Fe("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ve.Z)(function*(){t.task=null;try{Fe("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){hc(r)?Fe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield dc(r)}yield t.et(6e4)}))}}class aS{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,ve.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.st(r,e))})()}st(e,t){const r=new Set;let o=t,u=!0;return oe.doWhile(()=>!0===u&&o>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(null!==l&&!r.has(l))return Fe("IndexBackiller",`Processing collection: ${l}`),this.it(e,l,o).next(m=>{o-=m,r.add(l)});u=!1})).next(()=>t-o)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(o=>this.localStore.localDocuments.getNextDocuments(e,t,o,r).next(u=>{const l=u.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.rt(o,u)).next(m=>(Fe("IndexBackiller",`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(e,t,m))).next(()=>l.size)}))}rt(e,t){let r=e;return t.changes.forEach((o,u)=>{const l=JI(u);Ip(l,r)>0&&(r=l)}),new Bs(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let $s=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=o=>this.ot(o),this.ut=o=>r.writeSequenceNumber(o))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Cp(n){return null==n}function Fl(n){return 0===n&&1/n==-1/0}function wy(n){return"number"==typeof n&&Number.isInteger(n)&&!Fl(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function wi(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=rD(e)),e=T0(n.get(t),e);return rD(e)}function T0(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function rD(n){return n+"\x01\x01"}function Ta(n){const e=n.length;if(vt(e>=2),2===e)return vt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),an.emptyPath();const t=e-2,r=[];let o="";for(let u=0;u<e;){const l=n.indexOf("\x01",u);switch((l<0||l>t)&&st(),n.charAt(l+1)){case"\x01":const m=n.substring(u,l);let E;0===o.length?E=m:(o+=m,E=o,o=""),r.push(E);break;case"\x10":o+=n.substring(u,l),o+="\0";break;case"\x11":o+=n.substring(u,l+1);break;default:st()}u=l+2}return new an(r)}const Ey=["userId","batchId"];function Iy(n,e){return[n,wi(e)]}function S0(n,e,t){return[n,wi(e),t]}const _h={},iD=["prefixPath","collectionGroup","readTime","documentId"],uS=["prefixPath","collectionGroup","documentId"],qx=["collectionGroup","readTime","prefixPath","documentId"],A0=["canonicalId","targetId"],M0=["targetId","path"],cS=["path","targetId"],sD=["collectionId","parent"],oD=["indexId","uid"],lS=["uid","sequenceNumber"],aD=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],x0=["indexId","uid","orderedDocumentKey"],uD=["userId","collectionPath","documentId"],cD=["userId","collectionPath","largestBatchId"],lD=["userId","collectionGroup","largestBatchId"],N0=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],dS=[...N0,"documentOverlays"],dD=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],hD=dD,hS=[...hD,"indexConfiguration","indexState","indexEntries"];class Dy extends D0{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Ei(n,e){const t=tt(n);return zo.M(t.ht,e)}function R0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function pc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function fD(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Yn{constructor(e,t){this.comparator=e,this.root=t||Ii.EMPTY}insert(e,t){return new Yn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ii.BLACK,null,null))}remove(e){return new Yn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ii.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cy(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cy(this.root,e,this.comparator,!0)}}class Cy{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ii{constructor(e,t,r,o,u){this.key=e,this.value=t,this.color=r??Ii.RED,this.left=o??Ii.EMPTY,this.right=u??Ii.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,u){return new Ii(e??this.key,t??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===u?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ii.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return Ii.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ii.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ii.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw st();const e=this.left.check();if(e!==this.right.check())throw st();return e+(this.isRed()?0:1)}}Ii.EMPTY=null,Ii.RED=!0,Ii.BLACK=!1,Ii.EMPTY=new class{constructor(){this.size=0}get key(){throw st()}get value(){throw st()}get color(){throw st()}get left(){throw st()}get right(){throw st()}copy(n,e,t,r,o){return this}insert(n,e,t){return new Ii(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qn{constructor(e){this.comparator=e,this.data=new Yn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new pD(this.data.getIterator())}getIteratorFrom(e){return new pD(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Qn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(o,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Qn(this.comparator);return t.data=e,t}}class pD{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function wh(n){return n.hasNext()?n.getNext():void 0}class ys{constructor(e){this.fields=e,e.sort(Dr.comparator)}static empty(){return new ys([])}unionWith(e){let t=new Qn(Dr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ys(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return yh(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class gD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Kr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new gD("Invalid base64 string: "+o):o}}(e);return new Kr(t)}static fromUint8Array(e){const t=function(r){let o="";for(let u=0;u<r.length;++u)o+=String.fromCharCode(r[u]);return o}(e);return new Kr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ht(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kr.EMPTY_BYTE_STRING=new Kr("");const pS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gc(n){if(vt(!!n),"string"==typeof n){let e=0;const t=pS.exec(n);if(vt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Cr(n.seconds),nanos:Cr(n.nanos)}}function Cr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function js(n){return"string"==typeof n?Kr.fromBase64String(n):Kr.fromUint8Array(n)}function bp(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Tp(n){const e=n.mapValue.fields.__previous_value__;return bp(e)?Tp(e):e}function Eh(n){const e=gc(n.mapValue.fields.__local_write_time__.timestampValue);return new sr(e.seconds,e.nanos)}class mD{constructor(e,t,r,o,u,l,m,E,b){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=l,this.autoDetectLongPolling=m,this.longPollingOptions=E,this.useFetchStreams=b}}class au{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new au("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof au&&e.projectId===this.projectId&&e.database===this.database}}const mc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},by={nullValue:"NULL_VALUE"};function Ll(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?bp(n)?4:vD(n)?9007199254740991:10:st()}function Sa(n,e){if(n===e)return!0;const t=Ll(n);if(t!==Ll(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Eh(n).isEqual(Eh(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const u=gc(r.timestampValue),l=gc(o.timestampValue);return u.seconds===l.seconds&&u.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,js(n.bytesValue).isEqual(js(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return Cr(r.geoPointValue.latitude)===Cr(o.geoPointValue.latitude)&&Cr(r.geoPointValue.longitude)===Cr(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Cr(r.integerValue)===Cr(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const u=Cr(r.doubleValue),l=Cr(o.doubleValue);return u===l?Fl(u)===Fl(l):isNaN(u)&&isNaN(l)}return!1}(n,e);case 9:return yh(n.arrayValue.values||[],e.arrayValue.values||[],Sa);case 10:return function(r,o){const u=r.mapValue.fields||{},l=o.mapValue.fields||{};if(R0(u)!==R0(l))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(void 0===l[m]||!Sa(u[m],l[m])))return!1;return!0}(n,e);default:return st()}var o}function Sp(n,e){return void 0!==(n.values||[]).find(t=>Sa(t,e))}function yc(n,e){if(n===e)return 0;const t=Ll(n),r=Ll(e);if(t!==r)return Ht(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ht(n.booleanValue,e.booleanValue);case 2:return function(o,u){const l=Cr(o.integerValue||o.doubleValue),m=Cr(u.integerValue||u.doubleValue);return l<m?-1:l>m?1:l===m?0:isNaN(l)?isNaN(m)?0:-1:1}(n,e);case 3:return yD(n.timestampValue,e.timestampValue);case 4:return yD(Eh(n),Eh(e));case 5:return Ht(n.stringValue,e.stringValue);case 6:return function(o,u){const l=js(o),m=js(u);return l.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const l=o.split("/"),m=u.split("/");for(let E=0;E<l.length&&E<m.length;E++){const b=Ht(l[E],m[E]);if(0!==b)return b}return Ht(l.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const l=Ht(Cr(o.latitude),Cr(u.latitude));return 0!==l?l:Ht(Cr(o.longitude),Cr(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,u){const l=o.values||[],m=u.values||[];for(let E=0;E<l.length&&E<m.length;++E){const b=yc(l[E],m[E]);if(b)return b}return Ht(l.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,u){if(o===mc.mapValue&&u===mc.mapValue)return 0;if(o===mc.mapValue)return 1;if(u===mc.mapValue)return-1;const l=o.fields||{},m=Object.keys(l),E=u.fields||{},b=Object.keys(E);m.sort(),b.sort();for(let S=0;S<m.length&&S<b.length;++S){const P=Ht(m[S],b[S]);if(0!==P)return P;const W=yc(l[m[S]],E[b[S]]);if(0!==W)return W}return Ht(m.length,b.length)}(n.mapValue,e.mapValue);default:throw st()}}function yD(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ht(n,e);const t=gc(n),r=gc(e),o=Ht(t.seconds,r.seconds);return 0!==o?o:Ht(t.nanos,r.nanos)}function Ih(n){return Vl(n)}function Vl(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=gc(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?js(n.bytesValue).toBase64():"referenceValue"in n?Qe.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",u=!0;for(const l of r.values||[])u?u=!1:o+=",",o+=Vl(l);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let u="{",l=!0;for(const m of o)l?l=!1:u+=",",u+=`${m}:${Vl(r.fields[m])}`;return u+"}"}(n.mapValue):st();var e}function uu(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function vo(n){return!!n&&"integerValue"in n}function Ap(n){return!!n&&"arrayValue"in n}function Sy(n){return!!n&&"nullValue"in n}function Dh(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ay(n){return!!n&&"mapValue"in n}function Mp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return pc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Mp(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Mp(n.arrayValue.values[t]);return e}return Object.assign({},n)}function vD(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function My(n){return"nullValue"in n?by:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?uu(au.empty(),Qe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:st()}function _D(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?uu(au.empty(),Qe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?mc:st()}function wD(n,e){const t=yc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function ED(n,e){const t=yc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Yr{constructor(e){this.value=e}static empty(){return new Yr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Ay(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mp(t)}setAll(e){let t=Dr.emptyPath(),r={},o=[];e.forEach((l,m)=>{if(!t.isImmediateParentOf(m)){const E=this.getFieldsMap(t);this.applyChanges(E,r,o),r={},o=[],t=m.popLast()}l?r[m.lastSegment()]=Mp(l):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,o)}delete(e){const t=this.field(e.popLast());Ay(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Sa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Ay(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){pc(t,(o,u)=>e[o]=u);for(const o of r)delete e[o]}clone(){return new Yr(Mp(this.value))}}function ID(n){const e=[];return pc(n.fields,(t,r)=>{const o=new Dr([t]);if(Ay(r)){const u=ID(r.mapValue).fields;if(0===u.length)e.push(o);else for(const l of u)e.push(o.child(l))}else e.push(o)}),new ys(e)}class Jn{constructor(e,t,r,o,u,l,m){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=u,this.data=l,this.documentState=m}static newInvalidDocument(e){return new Jn(e,0,Et.min(),Et.min(),Et.min(),Yr.empty(),0)}static newFoundDocument(e,t,r,o){return new Jn(e,1,t,Et.min(),r,o,0)}static newNoDocument(e,t){return new Jn(e,2,t,Et.min(),Et.min(),Yr.empty(),0)}static newUnknownDocument(e,t){return new Jn(e,3,t,Et.min(),Et.min(),Yr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Et.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Jn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class cu{constructor(e,t){this.position=e,this.inclusive=t}}function DD(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const u=e[o],l=n.position[o];if(r=u.field.isKeyField()?Qe.comparator(Qe.fromName(l.referenceValue),t.key):yc(l,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function CD(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Sa(n.position[t],e.position[t]))return!1;return!0}class Ul{constructor(e,t="asc"){this.field=e,this.dir=t}}function xy(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class bD{}class rn extends bD{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new P0(e,t,r):"array-contains"===t?new F0(e,r):"in"===t?new xD(e,r):"not-in"===t?new gS(e,r):"array-contains-any"===t?new mS(e,r):new rn(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new k0(e,r):new MD(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(yc(t,this.value)):null!==t&&Ll(this.value)===Ll(t)&&this.matchesComparison(yc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return st()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class bn extends bD{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new bn(e,t)}matches(e){return Bl(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Bl(n){return"and"===n.op}function xp(n){return"or"===n.op}function Ny(n){return TD(n)&&Bl(n)}function TD(n){for(const e of n.filters)if(e instanceof bn)return!1;return!0}function Ry(n){if(n instanceof rn)return n.field.canonicalString()+n.op.toString()+Ih(n.value);if(Ny(n))return n.filters.map(e=>Ry(e)).join(",");{const e=n.filters.map(t=>Ry(t)).join(",");return`${n.op}(${e})`}}function O0(n,e){return n instanceof rn?(t=n,(r=e)instanceof rn&&t.op===r.op&&t.field.isEqual(r.field)&&Sa(t.value,r.value)):n instanceof bn?function(t,r){return r instanceof bn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((o,u,l)=>o&&O0(u,r.filters[l]),!0)}(n,e):void st();var t,r}function SD(n,e){const t=n.filters.concat(e);return bn.create(t,n.op)}function AD(n){return n instanceof rn?`${(e=n).field.canonicalString()} ${e.op} ${Ih(e.value)}`:n instanceof bn?function(e){return e.op.toString()+" {"+e.getFilters().map(AD).join(" ,")+"}"}(n):"Filter";var e}class P0 extends rn{constructor(e,t,r){super(e,t,r),this.key=Qe.fromName(r.referenceValue)}matches(e){const t=Qe.comparator(e.key,this.key);return this.matchesComparison(t)}}class k0 extends rn{constructor(e,t){super(e,"in",t),this.keys=Oy(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class MD extends rn{constructor(e,t){super(e,"not-in",t),this.keys=Oy(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Oy(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Qe.fromName(r.referenceValue))}class F0 extends rn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ap(t)&&Sp(t.arrayValue,this.value)}}class xD extends rn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Sp(this.value.arrayValue,t)}}class gS extends rn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Sp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Sp(this.value.arrayValue,t)}}class mS extends rn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ap(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Sp(this.value.arrayValue,r))}}class yS{constructor(e,t=null,r=[],o=[],u=null,l=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=l,this.endAt=m,this.dt=null}}function Py(n,e=null,t=[],r=[],o=null,u=null,l=null){return new yS(n,e,t,r,o,u,l)}function lu(n){const e=tt(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Ry(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),Cp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ih(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ih(r)).join(",")),e.dt=t}return e.dt}function Ch(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!xy(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!O0(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!CD(n.startAt,e.startAt)&&CD(n.endAt,e.endAt)}function ky(n){return Qe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Np(n,e){return n.filters.filter(t=>t instanceof rn&&t.field.isEqual(e))}function L0(n,e,t){let r=by,o=!0;for(const u of Np(n,e)){let l=by,m=!0;switch(u.op){case"<":case"<=":l=My(u.value);break;case"==":case"in":case">=":l=u.value;break;case">":l=u.value,m=!1;break;case"!=":case"not-in":l=by}wD({value:r,inclusive:o},{value:l,inclusive:m})<0&&(r=l,o=m)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const l=t.position[u];wD({value:r,inclusive:o},{value:l,inclusive:t.inclusive})<0&&(r=l,o=t.inclusive);break}return{value:r,inclusive:o}}function ND(n,e,t){let r=mc,o=!0;for(const u of Np(n,e)){let l=mc,m=!0;switch(u.op){case">=":case">":l=_D(u.value),m=!1;break;case"==":case"in":case"<=":l=u.value;break;case"<":l=u.value,m=!1;break;case"!=":case"not-in":l=mc}ED({value:r,inclusive:o},{value:l,inclusive:m})>0&&(r=l,o=m)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const l=t.position[u];ED({value:r,inclusive:o},{value:l,inclusive:t.inclusive})>0&&(r=l,o=t.inclusive);break}return{value:r,inclusive:o}}class Aa{constructor(e,t=null,r=[],o=[],u=null,l="F",m=null,E=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=l,this.startAt=m,this.endAt=E,this.wt=null,this._t=null}}function V0(n,e,t,r,o,u,l,m){return new Aa(n,e,t,r,o,u,l,m)}function bh(n){return new Aa(n)}function U0(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function B0(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function li(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function vc(n){return null!==n.collectionGroup}function $l(n){const e=tt(n);if(null===e.wt){e.wt=[];const t=li(e),r=B0(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new Ul(t)),e.wt.push(new Ul(Dr.keyField(),"asc"));else{let o=!1;for(const u of e.explicitOrderBy)e.wt.push(u),u.field.isKeyField()&&(o=!0);if(!o){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Ul(Dr.keyField(),u))}}}return e.wt}function Ji(n){const e=tt(n);if(!e._t)if("F"===e.limitType)e._t=Py(e.path,e.collectionGroup,$l(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of $l(e))t.push(new Ul(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new cu(e.endAt.position,e.endAt.inclusive):null,o=e.startAt?new cu(e.startAt.position,e.startAt.inclusive):null;e._t=Py(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e._t}function RD(n,e){e.getFirstInequalityField(),li(n);const t=n.filters.concat([e]);return new Aa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function $0(n,e,t){return new Aa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Th(n,e){return Ch(Ji(n),Ji(e))&&n.limitType===e.limitType}function Fy(n){return`${lu(Ji(n))}|lt:${n.limitType}`}function jl(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>AD(r)).join(", ")}]`),Cp(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ih(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ih(r)).join(",")),`Target(${t})`}(Ji(n))}; limitType=${n.limitType})`}function Rp(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):Qe.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of $l(t))if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,u,l){const m=DD(o,u,l);return o.inclusive?m<=0:m<0}(t.startAt,$l(t),r)||t.endAt&&!function(o,u,l){const m=DD(o,u,l);return o.inclusive?m>=0:m>0}(t.endAt,$l(t),r)));var t,r}function Ly(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function OD(n){return(e,t)=>{let r=!1;for(const o of $l(n)){const u=PD(o,e,t);if(0!==u)return u;r=r||o.field.isKeyField()}return 0}}function PD(n,e,t){const r=n.field.isKeyField()?Qe.comparator(e.key,t.key):function(o,u,l){const m=u.data.field(o),E=l.data.field(o);return null!==m&&null!==E?yc(m,E):st()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return st()}}class du{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,u]of r)if(this.equalsFn(o,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){pc(this.inner,(t,r)=>{for(const[o,u]of r)e(o,u)})}isEmpty(){return fD(this.inner)}size(){return this.innerSize}}const vS=new Yn(Qe.comparator);function vs(){return vS}const Vy=new Yn(Qe.comparator);function Sh(...n){let e=Vy;for(const t of n)e=e.insert(t.key,t);return e}function kD(n){let e=Vy;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Hs(){return By()}function Uy(){return By()}function By(){return new du(n=>n.toString(),(n,e)=>n.isEqual(e))}const FD=new Yn(Qe.comparator),_S=new Qn(Qe.comparator);function Gt(...n){let e=_S;for(const t of n)e=e.add(t);return e}const Ah=new Qn(Ht);function j0(){return Ah}function H0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fl(e)?"-0":e}}function $y(n){return{integerValue:""+n}}function wS(n,e){return wy(e)?$y(e):H0(n,e)}class jy{constructor(){this._=void 0}}function Zx(n,e,t){return n instanceof Mh?function(r,o){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&bp(o)&&(o=Tp(o)),o&&(u.fields.__previous_value__=o),{mapValue:u}}(t,e):n instanceof _c?z0(n,e):n instanceof Hl?G0(n,e):function(r,o){const u=LD(r,o),l=VD(u)+VD(r.gt);return vo(u)&&vo(r.gt)?$y(l):H0(r.serializer,l)}(n,e)}function ES(n,e,t){return n instanceof _c?z0(n,e):n instanceof Hl?G0(n,e):t}function LD(n,e){return n instanceof zl?vo(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Mh extends jy{}class _c extends jy{constructor(e){super(),this.elements=e}}function z0(n,e){const t=UD(e);for(const r of n.elements)t.some(o=>Sa(o,r))||t.push(r);return{arrayValue:{values:t}}}class Hl extends jy{constructor(e){super(),this.elements=e}}function G0(n,e){let t=UD(e);for(const r of n.elements)t=t.filter(o=>!Sa(o,r));return{arrayValue:{values:t}}}class zl extends jy{constructor(e,t){super(),this.serializer=e,this.gt=t}}function VD(n){return Cr(n.integerValue||n.doubleValue)}function UD(n){return Ap(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class xh{constructor(e,t){this.field=e,this.transform=t}}class BD{constructor(e,t){this.version=e,this.transformResults=t}}class Xn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Xn}static exists(e){return new Xn(void 0,e)}static updateTime(e){return new Xn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Op(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Pp{}function $D(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Fp(n.key,Xn.none()):new kp(n.key,n.data,Xn.none());{const t=n.data,r=Yr.empty();let o=new Qn(Dr.comparator);for(let u of e.fields)if(!o.has(u)){let l=t.field(u);null===l&&u.length>1&&(u=u.popLast(),l=t.field(u)),null===l?r.delete(u):r.set(u,l),o=o.add(u)}return new wc(n.key,r,new ys(o.toArray()),Xn.none())}}function DS(n,e,t){n instanceof kp?function(r,o,u){const l=r.value.clone(),m=TS(r.fieldTransforms,o,u.transformResults);l.setAll(m),o.convertToFoundDocument(u.version,l).setHasCommittedMutations()}(n,e,t):n instanceof wc?function(r,o,u){if(!Op(r.precondition,o))return void o.convertToUnknownDocument(u.version);const l=TS(r.fieldTransforms,o,u.transformResults),m=o.data;m.setAll(bS(r)),m.setAll(l),o.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Hy(n,e,t,r){return n instanceof kp?function(o,u,l,m){if(!Op(o.precondition,u))return l;const E=o.value.clone(),b=SS(o.fieldTransforms,m,u);return E.setAll(b),u.convertToFoundDocument(u.version,E).setHasLocalMutations(),null}(n,e,t,r):n instanceof wc?function(o,u,l,m){if(!Op(o.precondition,u))return l;const E=SS(o.fieldTransforms,m,u),b=u.data;return b.setAll(bS(o)),b.setAll(E),u.convertToFoundDocument(u.version,b).setHasLocalMutations(),null===l?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(S=>S.field))}(n,e,t,r):(l=t,Op(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):l);var u,l}function jD(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),u=LD(r.transform,o||null);null!=u&&(null===t&&(t=Yr.empty()),t.set(r.field,u))}return t||null}function CS(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&yh(t,r,(o,u)=>function IS(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof _c&&r instanceof _c||t instanceof Hl&&r instanceof Hl?yh(t.elements,r.elements,Sa):t instanceof zl&&r instanceof zl?Sa(t.gt,r.gt):t instanceof Mh&&r instanceof Mh);var t,r}(o,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class kp extends Pp{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class wc extends Pp{constructor(e,t,r,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function bS(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function TS(n,e,t){const r=new Map;vt(n.length===t.length);for(let o=0;o<t.length;o++){const u=n[o],l=u.transform,m=e.data.field(u.field);r.set(u.field,ES(l,m,t[o]))}return r}function SS(n,e,t){const r=new Map;for(const o of n){const u=o.transform,l=t.data.field(o.field);r.set(o.field,Zx(u,l,e))}return r}class Fp extends Pp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HD extends Pp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class zD{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&DS(u,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Hy(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Hy(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Uy();return this.mutations.forEach(o=>{const u=e.get(o.key),l=u.overlayedDocument;let m=this.applyToLocalView(l,u.mutatedFields);m=t.has(o.key)?null:m;const E=$D(l,m);null!==E&&r.set(o.key,E),l.isValidDocument()||l.convertToNoDocument(Et.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Gt())}isEqual(e){return this.batchId===e.batchId&&yh(this.mutations,e.mutations,(t,r)=>CS(t,r))&&yh(this.baseMutations,e.baseMutations,(t,r)=>CS(t,r))}}class zy{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){vt(e.mutations.length===r.length);let o=FD;const u=e.mutations;for(let l=0;l<u.length;l++)o=o.insert(u[l].key,r[l].version);return new zy(e,t,r,o)}}class Lp{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class AS{constructor(e,t){this.count=e,this.unchangedNames=t}}var pr,un;function MS(n){switch(n){default:return st();case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0}}function xS(n){if(void 0===n)return Ir("GRPC error has no .code"),ce.UNKNOWN;switch(n){case pr.OK:return ce.OK;case pr.CANCELLED:return ce.CANCELLED;case pr.UNKNOWN:return ce.UNKNOWN;case pr.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case pr.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case pr.INTERNAL:return ce.INTERNAL;case pr.UNAVAILABLE:return ce.UNAVAILABLE;case pr.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case pr.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case pr.NOT_FOUND:return ce.NOT_FOUND;case pr.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case pr.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case pr.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case pr.ABORTED:return ce.ABORTED;case pr.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case pr.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case pr.DATA_LOSS:return ce.DATA_LOSS;default:return st()}}(un=pr||(pr={}))[un.OK=0]="OK",un[un.CANCELLED=1]="CANCELLED",un[un.UNKNOWN=2]="UNKNOWN",un[un.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",un[un.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",un[un.NOT_FOUND=5]="NOT_FOUND",un[un.ALREADY_EXISTS=6]="ALREADY_EXISTS",un[un.PERMISSION_DENIED=7]="PERMISSION_DENIED",un[un.UNAUTHENTICATED=16]="UNAUTHENTICATED",un[un.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",un[un.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",un[un.ABORTED=10]="ABORTED",un[un.OUT_OF_RANGE=11]="OUT_OF_RANGE",un[un.UNIMPLEMENTED=12]="UNIMPLEMENTED",un[un.INTERNAL=13]="INTERNAL",un[un.UNAVAILABLE=14]="UNAVAILABLE",un[un.DATA_LOSS=15]="DATA_LOSS";class WD{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Vp}static getOrCreateInstance(){return null===Vp&&(Vp=new WD),Vp}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Vp=null;function qD(){return new TextEncoder}const NS=new Pl([4294967295,4294967295],0);function ZD(n){const e=qD().encode(n),t=new GI;return t.update(e),new Uint8Array(t.digest())}function RS(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Pl([t,r],0),new Pl([o,u],0)]}class W0{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Nh(`Invalid padding: ${t}`);if(r<0)throw new Nh(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Nh(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new Nh(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Pl.fromNumber(this.It)}Et(e,t,r){let o=e.add(t.multiply(Pl.fromNumber(r)));return 1===o.compare(NS)&&(o=new Pl([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=ZD(e),[r,o]=RS(t);for(let u=0;u<this.hashCount;u++){const l=this.Et(r,o,u);if(!this.At(l))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),l=new W0(u,o,t);return r.forEach(m=>l.insert(m)),l}insert(e){if(0===this.It)return;const t=ZD(e),[r,o]=RS(t);for(let u=0;u<this.hashCount;u++){const l=this.Et(r,o,u);this.Rt(l)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Nh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Rh{constructor(e,t,r,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,Gy.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Rh(Et.min(),o,new Yn(Ht),vs(),Gt())}}class Gy{constructor(e,t,r,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Gy(r,t,Gt(),Gt(),Gt())}}class _s{constructor(e,t,r,o){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=o}}class q0{constructor(e,t){this.targetId=e,this.Vt=t}}class KD{constructor(e,t,r=Kr.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class OS{constructor(){this.St=0,this.Dt=Wy(),this.Ct=Kr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Gt(),t=Gt(),r=Gt();return this.Dt.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:st()}}),new Gy(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=Wy()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Xi{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=vs(),this.zt=YD(),this.Wt=new Yn(Ht)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:st()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,o)=>{this.te(o)&&t(o)})}ne(e){var t;const r=e.targetId,o=e.Vt.count,u=this.se(r);if(u){const l=u.target;if(ky(l))if(0===o){const m=new Qe(l.path);this.Yt(r,m,Jn.newNoDocument(m,Et.min()))}else vt(1===o);else{const m=this.ie(r);if(m!==o){const E=this.re(e,m);0!==E&&(this.ee(r),this.Wt=this.Wt.insert(r,2===E?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=WD.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(b,S,P){var W,re,Ee,Le,Ue,It;const Ot={localCacheCount:S,existenceFilterCount:P.count},Tt=P.unchangedNames;return Tt&&(Ot.bloomFilter={applied:0===b,hashCount:null!==(W=Tt?.hashCount)&&void 0!==W?W:0,bitmapLength:null!==(Le=null===(Ee=null===(re=Tt?.bits)||void 0===re?void 0:re.bitmap)||void 0===Ee?void 0:Ee.length)&&void 0!==Le?Le:0,padding:null!==(It=null===(Ue=Tt?.bits)||void 0===Ue?void 0:Ue.padding)&&void 0!==It?It:0}),Ot}(E,m,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:o}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:u="",padding:l=0},hashCount:m=0}=r;let E,b;try{E=js(u).toUint8Array()}catch(S){if(S instanceof gD)return Us("Decoding the base64 bloom filter in existence filter failed ("+S.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw S}try{b=new W0(E,l,m)}catch(S){return Us(S instanceof Nh?"BloomFilter error: ":"Applying bloom filter failed: ",S),1}return 0===b.It?1:o!==t-this.oe(e.targetId,b)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let o=0;return r.forEach(u=>{const l=this.Gt.ue(),m=`projects/${l.projectId}/databases/${l.database}/documents/${u.path.canonicalString()}`;t.vt(m)||(this.Yt(e,u,null),o++)}),o}ce(e){const t=new Map;this.Qt.forEach((u,l)=>{const m=this.se(l);if(m){if(u.current&&ky(m.target)){const E=new Qe(m.target.path);null!==this.jt.get(E)||this.ae(l,E)||this.Yt(l,E,Jn.newNoDocument(E,e))}u.Mt&&(t.set(l,u.Ot()),u.Ft())}});let r=Gt();this.zt.forEach((u,l)=>{let m=!0;l.forEachWhile(E=>{const b=this.se(E);return!b||"TargetPurposeLimboResolution"===b.purpose||(m=!1,!1)}),m&&(r=r.add(u))}),this.jt.forEach((u,l)=>l.setReadTime(e));const o=new Rh(e,t,this.Wt,this.jt,r);return this.jt=vs(),this.zt=YD(),this.Wt=new Yn(Ht),o}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const o=this.Zt(e);this.ae(e,t)?o.Bt(t,1):o.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new OS,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Qn(Ht),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Fe("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new OS),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function YD(){return new Yn(Qe.comparator)}function Wy(){return new Yn(Qe.comparator)}const PS={asc:"ASCENDING",desc:"DESCENDING"},kS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Z0={and:"AND",or:"OR"};class QD{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function qy(n,e){return n.useProto3Json||Cp(e)?e:{value:e}}function Oh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function K0(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function JD(n,e){return Oh(n,e.toTimestamp())}function br(n){return vt(!!n),Et.fromTimestamp(function(e){const t=gc(e);return new sr(t.seconds,t.nanos)}(n))}function Zy(n,e){return(t=n,new an(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function XD(n){const e=an.fromString(n);return vt(J0(e)),e}function Ph(n,e){return Zy(n.databaseId,e.path)}function Ma(n,e){const t=XD(e);if(t.get(1)!==n.databaseId.projectId)throw new Me(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Me(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Qe(Ky(t))}function Up(n,e){return Zy(n.databaseId,e)}function hu(n){const e=XD(n);return 4===e.length?an.emptyPath():Ky(e)}function kh(n){return new an(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Ky(n){return vt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Yy(n,e,t){return{name:Ph(n,e),fields:t.value.mapValue.fields}}function eC(n,e,t){const r=Ma(n,e.name),o=br(e.updateTime),u=e.createTime?br(e.createTime):Et.min(),l=new Yr({mapValue:{fields:e.fields}}),m=Jn.newFoundDocument(r,o,u,l);return t&&m.setHasCommittedMutations(),t?m.setHasCommittedMutations():m}function Bp(n,e){let t;if(e instanceof kp)t={update:Yy(n,e.key,e.value)};else if(e instanceof Fp)t={delete:Ph(n,e.key)};else if(e instanceof wc)t={update:Yy(n,e.key,e.data),updateMask:aC(e.fieldMask)};else{if(!(e instanceof HD))return st();t={verify:Ph(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const l=u.transform;if(l instanceof Mh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof _c)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Hl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof zl)return{fieldPath:u.field.canonicalString(),increment:l.gt};throw st()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:JD(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:st()),t;var o}function Y0(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?Xn.updateTime(br(o.updateTime)):void 0!==o.exists?Xn.exists(o.exists):Xn.none():Xn.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(u,l){let m=null;"setToServerValue"in l?(vt("REQUEST_TIME"===l.setToServerValue),m=new Mh):"appendMissingElements"in l?m=new _c(l.appendMissingElements.values||[]):"removeAllFromArray"in l?m=new Hl(l.removeAllFromArray.values||[]):"increment"in l?m=new zl(u,l.increment):st();const E=Dr.fromServerFormat(l.fieldPath);return new xh(E,m)}(n,o)):[];var o;if(e.update){const o=Ma(n,e.update.name),u=new Yr({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=new ys((e.updateMask.fieldPaths||[]).map(b=>Dr.fromServerFormat(b)));return new wc(o,u,l,t,r)}return new kp(o,u,t,r)}if(e.delete){const o=Ma(n,e.delete);return new Fp(o,t)}if(e.verify){const o=Ma(n,e.verify);return new HD(o,t)}return st()}function nC(n,e){return{documents:[Up(n,e.path)]}}function Qy(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Up(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Up(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(E){if(0!==E.length)return oC(bn.create(E,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const u=function(E){if(0!==E.length)return E.map(b=>{return{field:fu((S=b).field),direction:sC(S.dir)};var S})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const l=qy(n,e.limit);var m,E;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(E=e.endAt).inclusive,values:E.position}),t}function LS(n){let e=hu(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){vt(1===r);const S=t.from[0];S.allDescendants?o=S.collectionId:e=e.child(S.collectionId)}let u=[];t.where&&(u=function(S){const P=iC(S);return P instanceof bn&&Ny(P)?P.getFilters():[P]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(S=>{return new Ul(Gl((P=S).field),function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction));var P}));let m=null;t.limit&&(m=function(S){let P;return P="object"==typeof S?S.value:S,Cp(P)?null:P}(t.limit));let E=null;var S;t.startAt&&(E=new cu((S=t.startAt).values||[],!!S.before));let b=null;return t.endAt&&(b=function(S){return new cu(S.values||[],!S.before)}(t.endAt)),V0(e,o,l,u,m,"F",E,b)}function iC(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Gl(e.unaryFilter.field);return rn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Gl(e.unaryFilter.field);return rn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Gl(e.unaryFilter.field);return rn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Gl(e.unaryFilter.field);return rn.create(u,"!=",{nullValue:"NULL_VALUE"});default:return st()}}(n):void 0!==n.fieldFilter?rn.create(Gl((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return st()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return bn.create(e.compositeFilter.filters.map(t=>iC(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return st()}}(e.compositeFilter.op))}(n):st();var e}function sC(n){return PS[n]}function Yx(n){return kS[n]}function Q0(n){return Z0[n]}function fu(n){return{fieldPath:n.canonicalString()}}function Gl(n){return Dr.fromServerFormat(n.fieldPath)}function oC(n){return n instanceof rn?function(e){if("=="===e.op){if(Dh(e.value))return{unaryFilter:{field:fu(e.field),op:"IS_NAN"}};if(Sy(e.value))return{unaryFilter:{field:fu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Dh(e.value))return{unaryFilter:{field:fu(e.field),op:"IS_NOT_NAN"}};if(Sy(e.value))return{unaryFilter:{field:fu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fu(e.field),op:Yx(e.op),value:e.value}}}(n):n instanceof bn?function(e){const t=e.getFilters().map(r=>oC(r));return 1===t.length?t[0]:{compositeFilter:{op:Q0(e.op),filters:t}}}(n):st()}function aC(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function J0(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class ws{constructor(e,t,r,o,u=Et.min(),l=Et.min(),m=Kr.EMPTY_BYTE_STRING,E=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=m,this.expectedCount=E}withSequenceNumber(e){return new ws(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class $p{constructor(e){this.fe=e}}function X0(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Jy(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Ph(o=n.fe,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:Oh(o,u.version.toTimestamp()),createTime:Oh(o,u.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Wl(e.version)};else{if(!e.isUnknownDocument())return st();r.unknownDocument={path:t.path.toArray(),version:Wl(e.version)}}var o,u;return r}function Jy(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Wl(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Fh(n){const e=new sr(n.seconds,n.nanoseconds);return Et.fromTimestamp(e)}function Ec(n,e){const t=(e.baseMutations||[]).map(u=>Y0(n.fe,u));for(let u=0;u<e.mutations.length-1;++u)u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(e.mutations[u].updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u);const r=e.mutations.map(u=>Y0(n.fe,u)),o=sr.fromMillis(e.localWriteTimeMs);return new zD(e.batchId,o,t,r)}function jp(n){const e=Fh(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Fh(n.lastLimboFreeSnapshotVersion):Et.min();let r;var o;return void 0!==n.query.documents?(vt(1===(o=n.query).documents.length),r=Ji(bh(hu(o.documents[0])))):r=Ji(LS(n.query)),new ws(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Kr.fromBase64String(n.resumeToken))}function cC(n,e){const t=Wl(e.snapshotVersion),r=Wl(e.lastLimboFreeSnapshotVersion);let o;o=ky(e.target)?nC(n.fe,e.target):Qy(n.fe,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:lu(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function lC(n){const e=LS({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?$0(e,e.limit,"L"):e}function dC(n,e){return new Lp(e.largestBatchId,Y0(n.fe,e.overlayMutation))}function VS(n,e){const t=e.path.lastSegment();return[n,wi(e.path.popLast()),t]}function ew(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Wl(r.readTime),documentKey:wi(r.documentKey.path),largestBatchId:r.largestBatchId}}class US{getBundleMetadata(e,t){return hC(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:Fh(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return hC(e).put({bundleId:(r=t).id,createTime:Wl(br(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return fC(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:lC(o.bundledQuery),readTime:Fh(o.readTime)};var o})}saveNamedQuery(e,t){return fC(e).put({name:(r=t).name,readTime:Wl(br(r.readTime)),bundledQuery:r.bundledQuery});var r}}function hC(n){return Ei(n,"bundles")}function fC(n){return Ei(n,"namedQueries")}class tw{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new tw(e,t.uid||"")}getOverlay(e,t){return Xy(e).get(VS(this.userId,t)).next(r=>r?dC(this.serializer,r):null)}getOverlays(e,t){const r=Hs();return oe.forEach(t,o=>this.getOverlay(e,o).next(u=>{null!==u&&r.set(o,u)})).next(()=>r)}saveOverlays(e,t,r){const o=[];return r.forEach((u,l)=>{const m=new Lp(t,l);o.push(this.we(e,m))}),oe.waitFor(o)}removeOverlaysForBatchId(e,t,r){const o=new Set;t.forEach(l=>o.add(wi(l.getCollectionPath())));const u=[];return o.forEach(l=>{const m=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);u.push(Xy(e).J("collectionPathOverlayIndex",m))}),oe.waitFor(u)}getOverlaysForCollection(e,t,r){const o=Hs(),u=wi(t),l=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return Xy(e).j("collectionPathOverlayIndex",l).next(m=>{for(const E of m){const b=dC(this.serializer,E);o.set(b.getKey(),b)}return o})}getOverlaysForCollectionGroup(e,t,r,o){const u=Hs();let l;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Xy(e).X({index:"collectionGroupOverlayIndex",range:m},(E,b,S)=>{const P=dC(this.serializer,b);u.size()<o||P.largestBatchId===l?(u.set(P.getKey(),P),l=P.largestBatchId):S.done()}).next(()=>u)}we(e,t){return Xy(e).put(function(r,o,u){const[l,m,E]=VS(o,u.mutation.key);return{userId:o,collectionPath:m,documentId:E,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:Bp(r.fe,u.mutation)}}(this.serializer,this.userId,t))}}function Xy(n){return Ei(n,"documentOverlays")}class Lh{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Cr(e.integerValue));else if("doubleValue"in e){const r=Cr(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),Fl(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(js(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?vD(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):st()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const o of Object.keys(r))this.Te(o,t),this.me(r[o],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const o of r)this.me(o,t)}ve(e,t){this.ye(t,37),Qe.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function Qx(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function BS(n){const e=64-function(t){let r=0;for(let o=0;o<8;++o){const u=Qx(255&t[o]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}Lh.Ve=new Lh;class $S{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.De(r.value),r=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ne(r.value),r=t.next();this.ke()}Me(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const o=t.codePointAt(0);this.De(240|o>>>18),this.De(128|63&o>>>12),this.De(128|63&o>>>6),this.De(128|63&o)}}this.Ce()}$e(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const o=t.codePointAt(0);this.Ne(240|o>>>18),this.Ne(128|63&o>>>12),this.Ne(128|63&o>>>6),this.Ne(128|63&o)}}this.ke()}Oe(e){const t=this.Fe(e),r=BS(t);this.Be(1+r),this.buffer[this.position++]=255&r;for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=255&t[o]}Le(e){const t=this.Fe(e),r=BS(t);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let o=1;o<t.length;++o)t[o]^=r?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class ev{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class jS{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Hp{constructor(){this.je=new $S,this.ze=new ev(this.je),this.We=new jS(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Ic{constructor(e,t,r,o){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=o}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Ic(this.indexId,this.documentKey,this.arrayValue,r)}}function Es(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=nw(n.arrayValue,e.arrayValue),0!==t?t:(t=nw(n.directionalValue,e.directionalValue),0!==t?t:Qe.comparator(n.documentKey,e.documentKey)))}function nw(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class rw{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const r=t;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){vt(e.collectionGroup===this.collectionId);const t=yy(e);if(void 0!==t&&!this.en(t))return!1;const r=kl(e);let o=new Set,u=0,l=0;for(;u<r.length&&this.en(r[u]);++u)o=o.add(r[u].fieldPath.canonicalString());if(u===r.length)return!0;if(void 0!==this.Ze){if(!o.has(this.Ze.field.canonicalString())){const m=r[u];if(!this.nn(this.Ze,m)||!this.sn(this.Ye[l++],m))return!1}++u}for(;u<r.length;++u)if(l>=this.Ye.length||!this.sn(this.Ye[l++],r[u]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function tv(n){var e,t;if(vt(n instanceof rn||n instanceof bn),n instanceof rn){if(n instanceof xD){const o=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(u=>rn.create(n.field,"==",u)))||[];return bn.create(o,"or")}return n}const r=n.filters.map(o=>tv(o));return bn.create(r,n.op)}function HS(n){if(0===n.getFilters().length)return[];const e=pC(tv(n));return vt(Wp(e)),zp(e)||Gp(e)?[e]:e.getFilters()}function zp(n){return n instanceof rn}function Gp(n){return n instanceof bn&&Ny(n)}function Wp(n){return zp(n)||Gp(n)||function(e){if(e instanceof bn&&xp(e)){for(const t of e.getFilters())if(!zp(t)&&!Gp(t))return!1;return!0}return!1}(n)}function pC(n){if(vt(n instanceof rn||n instanceof bn),n instanceof rn)return n;if(1===n.filters.length)return pC(n.filters[0]);const e=n.filters.map(r=>pC(r));let t=bn.create(e,n.op);return t=qp(t),Wp(t)?t:(vt(t instanceof bn),vt(Bl(t)),vt(t.filters.length>1),t.filters.reduce((r,o)=>gC(r,o)))}function gC(n,e){let t;return vt(n instanceof rn||n instanceof bn),vt(e instanceof rn||e instanceof bn),t=n instanceof rn?e instanceof rn?bn.create([n,e],"and"):zS(n,e):e instanceof rn?zS(e,n):function(r,o){if(vt(r.filters.length>0&&o.filters.length>0),Bl(r)&&Bl(o))return SD(r,o.getFilters());const u=xp(r)?r:o,l=xp(r)?o:r,m=u.filters.map(E=>gC(E,l));return bn.create(m,"or")}(n,e),qp(t)}function zS(n,e){if(Bl(e))return SD(e,n.getFilters());{const t=e.filters.map(r=>gC(n,r));return bn.create(t,"or")}}function qp(n){if(vt(n instanceof rn||n instanceof bn),n instanceof rn)return n;const e=n.getFilters();if(1===e.length)return qp(e[0]);if(TD(n))return n;const t=e.map(o=>qp(o)),r=[];return t.forEach(o=>{o instanceof rn?r.push(o):o instanceof bn&&(o.op===n.op?r.push(...o.filters):r.push(o))}),1===r.length?r[0]:bn.create(r,n.op)}class GS{constructor(){this.rn=new iw}addToCollectionParentIndex(e,t){return this.rn.add(t),oe.resolve()}getCollectionParents(e,t){return oe.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return oe.resolve()}deleteFieldIndex(e,t){return oe.resolve()}getDocumentsMatchingTarget(e,t){return oe.resolve(null)}getIndexType(e,t){return oe.resolve(0)}getFieldIndexes(e,t){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,t){return oe.resolve(Bs.min())}getMinOffsetFromCollectionGroup(e,t){return oe.resolve(Bs.min())}updateCollectionGroup(e,t,r){return oe.resolve()}updateIndexEntries(e,t){return oe.resolve()}}class iw{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Qn(an.comparator),u=!o.has(r);return this.index[t]=o.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Qn(an.comparator)).toArray()}}const nv=new Uint8Array(0);class WS{constructor(e,t){this.user=e,this.databaseId=t,this.on=new iw,this.un=new du(r=>lu(r),(r,o)=>Ch(r,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const u={collectionId:r,parent:wi(o)};return sw(e).put(u)}return oe.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[E0(t),""],!1,!0);return sw(e).j(o).next(u=>{for(const l of u){if(l.collectionId!==t)break;r.push(Ta(l.parent))}return r})}addFieldIndex(e,t){const r=Zp(e),o={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])};var l;delete o.indexId;const u=r.add(o);if(t.indexState){const l=Kp(e);return u.next(m=>{l.put(ew(m,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const r=Zp(e),o=Kp(e),u=Vh(e);return r.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Vh(e);let o=!0;const u=new Map;return oe.forEach(this.cn(t),l=>this.an(e,l).next(m=>{o&&(o=!!m),u.set(l,m)})).next(()=>{if(o){let l=Gt();const m=[];return oe.forEach(u,(E,b)=>{var S;Fe("IndexedDbIndexManager",`Using index ${S=E,`id=${S.indexId}|cg=${S.collectionGroup}|f=${S.fields.map(Tt=>`${Tt.fieldPath}:${Tt.kind}`).join(",")}`} to execute ${lu(t)}`);const P=function(Tt,Lt){const Kt=yy(Lt);if(void 0===Kt)return null;for(const gn of Np(Tt,Kt.fieldPath))switch(gn.op){case"array-contains-any":return gn.value.arrayValue.values||[];case"array-contains":return[gn.value]}return null}(b,E),W=function(Tt,Lt){const Kt=new Map;for(const gn of kl(Lt))for(const Ds of Np(Tt,gn.fieldPath))switch(Ds.op){case"==":case"in":Kt.set(gn.fieldPath.canonicalString(),Ds.value);break;case"not-in":case"!=":return Kt.set(gn.fieldPath.canonicalString(),Ds.value),Array.from(Kt.values())}return null}(b,E),re=function(Tt,Lt){const Kt=[];let gn=!0;for(const Ds of kl(Lt)){const ug=0===Ds.kind?L0(Tt,Ds.fieldPath,Tt.startAt):ND(Tt,Ds.fieldPath,Tt.startAt);Kt.push(ug.value),gn&&(gn=ug.inclusive)}return new cu(Kt,gn)}(b,E),Ee=function(Tt,Lt){const Kt=[];let gn=!0;for(const Ds of kl(Lt)){const ug=0===Ds.kind?ND(Tt,Ds.fieldPath,Tt.endAt):L0(Tt,Ds.fieldPath,Tt.endAt);Kt.push(ug.value),gn&&(gn=ug.inclusive)}return new cu(Kt,gn)}(b,E),Le=this.hn(E,b,re),Ue=this.hn(E,b,Ee),It=this.ln(E,b,W),Ot=this.fn(E.indexId,P,Le,re.inclusive,Ue,Ee.inclusive,It);return oe.forEach(Ot,Tt=>r.H(Tt,t.limit).next(Lt=>{Lt.forEach(Kt=>{const gn=Qe.fromSegments(Kt.documentKey);l.has(gn)||(l=l.add(gn),m.push(gn))})}))}).next(()=>m)}return oe.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:HS(bn.create(e.filters,"and")).map(r=>Py(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,r,o,u,l,m){const E=(null!=t?t.length:1)*Math.max(r.length,u.length),b=E/(null!=t?t.length:1),S=[];for(let P=0;P<E;++P){const W=t?this.dn(t[P/b]):nv,re=this.wn(e,W,r[P%b],o),Ee=this._n(e,W,u[P%b],l),Le=m.map(Ue=>this.wn(e,W,Ue,!0));S.push(...this.createRange(re,Ee,Le))}return S}wn(e,t,r,o){const u=new Ic(e,Qe.empty(),t,r);return o?u:u.Je()}_n(e,t,r,o){const u=new Ic(e,Qe.empty(),t,r);return o?u.Je():u}an(e,t){const r=new rw(t),o=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next(u=>{let l=null;for(const m of u)r.tn(m)&&(!l||m.fields.length>l.fields.length)&&(l=m);return l})}getIndexType(e,t){let r=2;const o=this.cn(t);return oe.forEach(o,u=>this.an(e,u).next(l=>{l?0!==r&&l.fields.length<function(m){let E=new Qn(Dr.comparator),b=!1;for(const S of m.filters)for(const P of S.getFlattenedFilters())P.field.isKeyField()||("array-contains"===P.op||"array-contains-any"===P.op?b=!0:E=E.add(P.field));for(const S of m.orderBy)S.field.isKeyField()||(E=E.add(S.field));return E.size+(b?1:0)}(u)&&(r=1):r=0})).next(()=>null!==t.limit&&o.length>1&&2===r?1:r)}mn(e,t){const r=new Hp;for(const o of kl(e)){const u=t.data.field(o.fieldPath);if(null==u)return null;const l=r.He(o.kind);Lh.Ve._e(u,l)}return r.Qe()}dn(e){const t=new Hp;return Lh.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const r=new Hp;return Lh.Ve._e(uu(this.databaseId,t),r.He(function(o){const u=kl(o);return 0===u.length?0:u[u.length-1].kind}(e))),r.Qe()}ln(e,t,r){if(null===r)return[];let o=[];o.push(new Hp);let u=0;for(const l of kl(e)){const m=r[u++];for(const E of o)if(this.yn(t,l.fieldPath)&&Ap(m))o=this.pn(o,l,m);else{const b=E.He(l.kind);Lh.Ve._e(m,b)}}return this.In(o)}hn(e,t,r){return this.ln(e,t,r.position)}In(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Qe();return t}pn(e,t,r){const o=[...e],u=[];for(const l of r.arrayValue.values||[])for(const m of o){const E=new Hp;E.seed(m.Qe()),Lh.Ve._e(l,E.He(t.kind)),u.push(E)}return u}yn(e,t){return!!e.filters.find(r=>r instanceof rn&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Zp(e),o=Kp(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(u=>{const l=[];return oe.forEach(u,m=>o.get([m.indexId,this.uid]).next(E=>{l.push(function(b,S){const P=S?new vh(S.sequenceNumber,new Bs(Fh(S.readTime),new Qe(Ta(S.documentKey)),S.largestBatchId)):vh.empty(),W=b.fields.map(([re,Ee])=>new vy(Dr.fromServerFormat(re),Ee));return new my(b.indexId,b.collectionGroup,W,P)}(m,E))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,o)=>{const u=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==u?u:Ht(r.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const o=Zp(e),u=Kp(e);return this.Tn(e).next(l=>o.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>oe.forEach(m,E=>u.put(ew(E.indexId,this.user,l,r)))))}updateIndexEntries(e,t){const r=new Map;return oe.forEach(t,(o,u)=>{const l=r.get(o.collectionGroup);return(l?oe.resolve(l):this.getFieldIndexes(e,o.collectionGroup)).next(m=>(r.set(o.collectionGroup,m),oe.forEach(m,E=>this.En(e,o,E).next(b=>{const S=this.An(u,E);return b.isEqual(S)?oe.resolve():this.vn(e,u,E,b,S)}))))})}Rn(e,t,r,o){return Vh(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.gn(r,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,r,o){return Vh(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.gn(r,t.key),t.key.path.toArray()])}En(e,t,r){const o=Vh(e);let u=new Qn(Es);return o.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,t)])},(l,m)=>{u=u.add(new Ic(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>u)}An(e,t){let r=new Qn(Es);const o=this.mn(t,e);if(null==o)return r;const u=yy(t);if(null!=u){const l=e.data.field(u.fieldPath);if(Ap(l))for(const m of l.arrayValue.values||[])r=r.add(new Ic(t.indexId,e.key,this.dn(m),o))}else r=r.add(new Ic(t.indexId,e.key,nv,o));return r}vn(e,t,r,o,u){Fe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(m,E,b,S,P){const W=m.getIterator(),re=E.getIterator();let Ee=wh(W),Le=wh(re);for(;Ee||Le;){let Ue=!1,It=!1;if(Ee&&Le){const Ot=b(Ee,Le);Ot<0?It=!0:Ot>0&&(Ue=!0)}else null!=Ee?It=!0:Ue=!0;Ue?(S(Le),Le=wh(re)):It?(P(Ee),Ee=wh(W)):(Ee=wh(W),Le=wh(re))}}(o,u,Es,m=>{l.push(this.Rn(e,t,r,m))},m=>{l.push(this.Pn(e,t,r,m))}),oe.waitFor(l)}Tn(e){let t=1;return Kp(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,u)=>{u.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((l,m)=>Es(l,m)).filter((l,m,E)=>!m||0!==Es(l,E[m-1]));const o=[];o.push(e);for(const l of r){const m=Es(l,e),E=Es(l,t);if(0===m)o[0]=e.Je();else if(m>0&&E<0)o.push(l),o.push(l.Je());else if(E>0)break}o.push(t);const u=[];for(let l=0;l<o.length;l+=2){if(this.bn(o[l],o[l+1]))return[];u.push(IDBKeyRange.bound([o[l].indexId,this.uid,o[l].arrayValue,o[l].directionalValue,nv,[]],[o[l+1].indexId,this.uid,o[l+1].arrayValue,o[l+1].directionalValue,nv,[]]))}return u}bn(e,t){return Es(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(mC)}getMinOffset(e,t){return oe.mapArray(this.cn(t),r=>this.an(e,r).next(o=>o||st())).next(mC)}}function sw(n){return Ei(n,"collectionParents")}function Vh(n){return Ei(n,"indexEntries")}function Zp(n){return Ei(n,"indexConfiguration")}function Kp(n){return Ei(n,"indexState")}function mC(n){vt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const o=n[r].indexState.offset;Ip(o,e)<0&&(e=o),t<o.largestBatchId&&(t=o.largestBatchId)}return new Bs(e.readTime,e.documentKey,t)}const ow={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class di{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new di(e,di.DEFAULT_COLLECTION_PERCENTILE,di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function qS(n,e,t){const r=n.store("mutations"),o=n.store("documentMutations"),u=[],l=IDBKeyRange.only(t.batchId);let m=0;const E=r.X({range:l},(S,P,W)=>(m++,W.delete()));u.push(E.next(()=>{vt(1===m)}));const b=[];for(const S of t.mutations){const P=S0(e,S.key.path,t.batchId);u.push(o.delete(P)),b.push(S.key)}return oe.waitFor(u).next(()=>b)}function Yp(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw st();e=n.noDocument}return JSON.stringify(e).length}di.DEFAULT_COLLECTION_PERCENTILE=10,di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,di.DEFAULT=new di(41943040,di.DEFAULT_COLLECTION_PERCENTILE,di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),di.DISABLED=new di(-1,0,0);class Uh{constructor(e,t,r,o){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=o,this.Vn={}}static de(e,t,r,o){vt(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new Uh(u,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Dc(e).X({index:"userMutationsIndex",range:r},(o,u,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const u=Qp(e),l=Dc(e);return l.add({}).next(m=>{vt("number"==typeof m);const E=new zD(m,t,r,o),b=function(W,re,Ee){const Le=Ee.baseMutations.map(It=>Bp(W.fe,It)),Ue=Ee.mutations.map(It=>Bp(W.fe,It));return{userId:re,batchId:Ee.batchId,localWriteTimeMs:Ee.localWriteTime.toMillis(),baseMutations:Le,mutations:Ue}}(this.serializer,this.userId,E),S=[];let P=new Qn((W,re)=>Ht(W.canonicalString(),re.canonicalString()));for(const W of o){const re=S0(this.userId,W.key.path,m);P=P.add(W.key.path.popLast()),S.push(l.put(b)),S.push(u.put(re,_h))}return P.forEach(W=>{S.push(this.indexManager.addToCollectionParentIndex(e,W))}),e.addOnCommittedListener(()=>{this.Vn[m]=E.keys()}),oe.waitFor(S).next(()=>E)})}lookupMutationBatch(e,t){return Dc(e).get(t).next(r=>r?(vt(r.userId===this.userId),Ec(this.serializer,r)):null)}Sn(e,t){return this.Vn[t]?oe.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.Vn[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return Dc(e).X({index:"userMutationsIndex",range:o},(l,m,E)=>{m.userId===this.userId&&(vt(m.batchId>=r),u=Ec(this.serializer,m)),E.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Dc(e).X({index:"userMutationsIndex",range:t,reverse:!0},(o,u,l)=>{r=u.batchId,l.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Dc(e).j("userMutationsIndex",t).next(r=>r.map(o=>Ec(this.serializer,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Iy(this.userId,t.path),o=IDBKeyRange.lowerBound(r),u=[];return Qp(e).X({range:o},(l,m,E)=>{const[b,S,P]=l,W=Ta(S);if(b===this.userId&&t.path.isEqual(W))return Dc(e).get(P).next(re=>{if(!re)throw st();vt(re.userId===this.userId),u.push(Ec(this.serializer,re))});E.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Qn(Ht);const o=[];return t.forEach(u=>{const l=Iy(this.userId,u.path),m=IDBKeyRange.lowerBound(l),E=Qp(e).X({range:m},(b,S,P)=>{const[W,re,Ee]=b,Le=Ta(re);W===this.userId&&u.path.isEqual(Le)?r=r.add(Ee):P.done()});o.push(E)}),oe.waitFor(o).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,u=Iy(this.userId,r),l=IDBKeyRange.lowerBound(u);let m=new Qn(Ht);return Qp(e).X({range:l},(E,b,S)=>{const[P,W,re]=E,Ee=Ta(W);P===this.userId&&r.isPrefixOf(Ee)?Ee.length===o&&(m=m.add(re)):S.done()}).next(()=>this.Dn(e,m))}Dn(e,t){const r=[],o=[];return t.forEach(u=>{o.push(Dc(e).get(u).next(l=>{if(null===l)throw st();vt(l.userId===this.userId),r.push(Ec(this.serializer,l))}))}),oe.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return qS(e.ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),oe.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return oe.resolve();const r=IDBKeyRange.lowerBound([this.userId]),o=[];return Qp(e).X({range:r},(u,l,m)=>{if(u[0]===this.userId){const E=Ta(u[1]);o.push(E)}else m.done()}).next(()=>{vt(0===o.length)})})}containsKey(e,t){return yC(e,this.userId,t)}xn(e){return ZS(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function yC(n,e,t){const r=Iy(e,t.path),o=r[1],u=IDBKeyRange.lowerBound(r);let l=!1;return Qp(n).X({range:u,Y:!0},(m,E,b)=>{const[S,P,W]=m;S===e&&P===o&&(l=!0),b.done()}).next(()=>l)}function Dc(n){return Ei(n,"mutations")}function Qp(n){return Ei(n,"documentMutations")}function ZS(n){return Ei(n,"mutationQueues")}class ql{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new ql(0)}static Mn(){return new ql(-1)}}class KS{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const r=new ql(t.highestTargetId);return t.highestTargetId=r.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>Et.fromTimestamp(new sr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.$n(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.On(e,o)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(t,r),this.On(e,r))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Bh(e).delete(t.targetId)).next(()=>this.$n(e)).next(r=>(vt(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,t,r){let o=0;const u=[];return Bh(e).X((l,m)=>{const E=jp(m);E.sequenceNumber<=t&&null===r.get(E.targetId)&&(o++,u.push(this.removeTargetData(e,E)))}).next(()=>oe.waitFor(u)).next(()=>o)}forEachTarget(e,t){return Bh(e).X((r,o)=>{const u=jp(o);t(u)})}$n(e){return vC(e).get("targetGlobalKey").next(t=>(vt(null!==t),t))}On(e,t){return vC(e).put("targetGlobalKey",t)}Fn(e,t){return Bh(e).put(cC(this.serializer,t))}Bn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const r=lu(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return Bh(e).X({range:o,index:"queryTargetsIndex"},(l,m,E)=>{const b=jp(m);Ch(t,b.target)&&(u=b,E.done())}).next(()=>u)}addMatchingKeys(e,t,r){const o=[],u=pu(e);return t.forEach(l=>{const m=wi(l.path);o.push(u.put({targetId:r,path:m})),o.push(this.referenceDelegate.addReference(e,r,l))}),oe.waitFor(o)}removeMatchingKeys(e,t,r){const o=pu(e);return oe.forEach(t,u=>{const l=wi(u.path);return oe.waitFor([o.delete([r,l]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=pu(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=pu(e);let u=Gt();return o.X({range:r,Y:!0},(l,m,E)=>{const b=Ta(l[1]),S=new Qe(b);u=u.add(S)}).next(()=>u)}containsKey(e,t){const r=wi(t.path),o=IDBKeyRange.bound([r],[E0(r)],!1,!0);let u=0;return pu(e).X({index:"documentTargetsIndex",Y:!0,range:o},([l,m],E,b)=>{0!==l&&(u++,b.done())}).next(()=>u>0)}le(e,t){return Bh(e).get(t).next(r=>r?jp(r):null)}}function Bh(n){return Ei(n,"targets")}function vC(n){return Ei(n,"targetGlobal")}function pu(n){return Ei(n,"targetDocuments")}function aw([n,e],[t,r]){const o=Ht(n,t);return 0===o?Ht(e,r):o}class Jx{constructor(e){this.Ln=e,this.buffer=new Qn(aw),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();aw(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class _C{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;Fe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ve.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){hc(r)?Fe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield dc(r)}yield t.Qn(3e5)}))}}class uw{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return oe.resolve($s.ct);const r=new Jx(t);return this.jn.forEachTarget(e,o=>r.Kn(o.sequenceNumber)).next(()=>this.jn.Wn(e,o=>r.Kn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(ow)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ow):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let r,o,u,l,m,E,b;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(P=>(P>this.params.maximumSequenceNumbersToCollect?(Fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${P}`),o=this.params.maximumSequenceNumbersToCollect):o=P,l=Date.now(),this.nthSequenceNumber(e,o))).next(P=>(r=P,m=Date.now(),this.removeTargets(e,r,t))).next(P=>(u=P,E=Date.now(),this.removeOrphanedDocuments(e,r))).next(P=>(b=Date.now(),w0()<=ic.in.DEBUG&&Fe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-S}ms\n\tDetermined least recently used ${o} in `+(m-l)+`ms\n\tRemoved ${u} targets in `+(E-m)+`ms\n\tRemoved ${P} documents in `+(b-E)+`ms\nTotal Duration: ${b-S}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:P})))}}class wC{constructor(e,t){this.db=e,this.garbageCollector=function cw(n,e){return new uw(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}Jn(e){let t=0;return this.Wn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(r,o)=>t(o))}addReference(e,t,r){return rv(e,r)}removeReference(e,t,r){return rv(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return rv(e,t)}Xn(e,t){return function(r,o){let u=!1;return ZS(r).Z(l=>yC(r,l,o).next(m=>(m&&(u=!0),oe.resolve(!m)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let u=0;return this.Yn(e,(l,m)=>{if(m<=t){const E=this.Xn(e,l).next(b=>{if(!b)return u++,r.getEntry(e,l).next(()=>(r.removeEntry(l,Et.min()),pu(e).delete([0,wi(l.path)])))});o.push(E)}}).next(()=>oe.waitFor(o)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return rv(e,t)}Yn(e,t){const r=pu(e);let o,u=$s.ct;return r.X({index:"documentTargetsIndex"},([l,m],{path:E,sequenceNumber:b})=>{0===l?(u!==$s.ct&&t(new Qe(Ta(o)),u),u=b,o=E):u=$s.ct}).next(()=>{u!==$s.ct&&t(new Qe(Ta(o)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function rv(n,e){return pu(n).put((r=n.currentSequenceNumber,{targetId:0,path:wi(e.path),sequenceNumber:r}));var r}class iv{constructor(){this.changes=new du(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Jn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?oe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class YS{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return $h(e).put(r)}removeEntry(e,t,r){return $h(e).delete(function(o,u){const l=o.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],Jy(u),l[l.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Zn(e,r)))}getEntry(e,t){let r=Jn.newInvalidDocument(t);return $h(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Jp(t))},(o,u)=>{r=this.ts(t,u)}).next(()=>r)}es(e,t){let r={size:0,document:Jn.newInvalidDocument(t)};return $h(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Jp(t))},(o,u)=>{r={document:this.ts(t,u),size:Yp(u)}}).next(()=>r)}getEntries(e,t){let r=vs();return this.ns(e,t,(o,u)=>{const l=this.ts(o,u);r=r.insert(o,l)}).next(()=>r)}ss(e,t){let r=vs(),o=new Yn(Qe.comparator);return this.ns(e,t,(u,l)=>{const m=this.ts(u,l);r=r.insert(u,m),o=o.insert(u,Yp(l))}).next(()=>({documents:r,rs:o}))}ns(e,t,r){if(t.isEmpty())return oe.resolve();let o=new Qn(QS);t.forEach(E=>o=o.add(E));const u=IDBKeyRange.bound(Jp(o.first()),Jp(o.last())),l=o.getIterator();let m=l.getNext();return $h(e).X({index:"documentKeyIndex",range:u},(E,b,S)=>{const P=Qe.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;m&&QS(m,P)<0;)r(m,null),m=l.getNext();m&&m.isEqual(P)&&(r(m,b),m=l.hasNext()?l.getNext():null),m?S.G(Jp(m)):S.done()}).next(()=>{for(;m;)r(m,null),m=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,r,o){const u=t.path,l=[u.popLast().toArray(),u.lastSegment(),Jy(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],m=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return $h(e).j(IDBKeyRange.bound(l,m,!0)).next(E=>{let b=vs();for(const S of E){const P=this.ts(Qe.fromSegments(S.prefixPath.concat(S.collectionGroup,S.documentId)),S);P.isFoundDocument()&&(Rp(t,P)||o.has(P.key))&&(b=b.insert(P.key,P))}return b})}getAllFromCollectionGroup(e,t,r,o){let u=vs();const l=Xp(t,r),m=Xp(t,Bs.max());return $h(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,m,!0)},(E,b,S)=>{const P=this.ts(Qe.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);u=u.insert(P.key,P),u.size===o&&S.done()}).next(()=>u)}newChangeBuffer(e){return new IC(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return lw(e).get("remoteDocumentGlobalKey").next(t=>(vt(!!t),t))}Zn(e,t){return lw(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const r=function uC(n,e){let t;if(e.document)t=eC(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Qe.fromSegments(e.noDocument.path),o=Fh(e.noDocument.readTime);t=Jn.newNoDocument(r,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return st();{const r=Qe.fromSegments(e.unknownDocument.path),o=Fh(e.unknownDocument.version);t=Jn.newUnknownDocument(r,o)}}return e.readTime&&t.setReadTime(function(r){const o=new sr(r[0],r[1]);return Et.fromTimestamp(o)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(Et.min()))return r}return Jn.newInvalidDocument(e)}}function EC(n){return new YS(n)}class IC extends iv{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new du(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new Qn((u,l)=>Ht(u.canonicalString(),l.canonicalString()));return this.changes.forEach((u,l)=>{const m=this.us.get(u);if(t.push(this.os.removeEntry(e,u,m.readTime)),l.isValidDocument()){const E=X0(this.os.serializer,l);o=o.add(u.path.popLast());const b=Yp(E);r+=b-m.size,t.push(this.os.addEntry(e,u,E))}else if(r-=m.size,this.trackRemovals){const E=X0(this.os.serializer,l.convertToNoDocument(Et.min()));t.push(this.os.addEntry(e,u,E))}}),o.forEach(u=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.os.updateMetadata(e,r)),oe.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(r=>(this.us.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:r,rs:o})=>(o.forEach((u,l)=>{this.us.set(u,{size:l,readTime:r.get(u).readTime})}),r))}}function lw(n){return Ei(n,"remoteDocumentGlobal")}function $h(n){return Ei(n,"remoteDocumentsV14")}function Jp(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Xp(n,e){const t=e.documentKey.path.toArray();return[n,Jy(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function QS(n,e){const t=n.path.toArray(),r=e.path.toArray();let o=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(o=Ht(t[u],r[u]),o)return o;return o=Ht(t.length,r.length),o||(o=Ht(t[t.length-2],r[r.length-2]),o||Ht(t[t.length-1],r[r.length-1]))}class JS{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class XS{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(null!==r&&Hy(r.mutation,o,ys.empty(),sr.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Gt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Gt()){const o=Hs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(u=>{let l=Sh();return u.forEach((m,E)=>{l=l.insert(m,E.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Hs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Gt()))}populateOverlays(e,t,r){const o=[];return r.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((l,m)=>{t.set(l,m)})})}computeViews(e,t,r,o){let u=vs();const l=By(),m=By();return t.forEach((E,b)=>{const S=r.get(b.key);o.has(b.key)&&(void 0===S||S.mutation instanceof wc)?u=u.insert(b.key,b):void 0!==S?(l.set(b.key,S.mutation.getFieldMask()),Hy(S.mutation,b,S.mutation.getFieldMask(),sr.now())):l.set(b.key,ys.empty())}),this.recalculateAndSaveOverlays(e,u).next(E=>(E.forEach((b,S)=>l.set(b,S)),t.forEach((b,S)=>{var P;return m.set(b,new JS(S,null!==(P=l.get(b))&&void 0!==P?P:null))}),m))}recalculateAndSaveOverlays(e,t){const r=By();let o=new Yn((l,m)=>l-m),u=Gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const m of l)m.keys().forEach(E=>{const b=t.get(E);if(null===b)return;let S=r.get(E)||ys.empty();S=m.applyToLocalView(b,S),r.set(E,S);const P=(o.get(m.batchId)||Gt()).add(E);o=o.insert(m.batchId,P)})}).next(()=>{const l=[],m=o.getReverseIterator();for(;m.hasNext();){const E=m.getNext(),b=E.key,S=E.value,P=Uy();S.forEach(W=>{if(!u.has(W)){const re=$D(t.get(W),r.get(W));null!==re&&P.set(W,re),u=u.add(W)}}),l.push(this.documentOverlayCache.saveOverlays(e,b,P))}return oe.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Qe.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):vc(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var o}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(u=>{const l=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-u.size):oe.resolve(Hs());let m=-1,E=u;return l.next(b=>oe.forEach(b,(S,P)=>(m<P.largestBatchId&&(m=P.largestBatchId),u.get(S)?oe.resolve():this.remoteDocumentCache.getEntry(e,S).next(W=>{E=E.insert(S,W)}))).next(()=>this.populateOverlays(e,b,u)).next(()=>this.computeViews(e,E,b,Gt())).next(S=>({batchId:m,changes:kD(S)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Qe(t)).next(r=>{let o=Sh();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const o=t.collectionGroup;let u=Sh();return this.indexManager.getCollectionParents(e,o).next(l=>oe.forEach(l,m=>{const E=(b=t,S=m.child(o),new Aa(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,S;return this.getDocumentsMatchingCollectionQuery(e,E,r).next(b=>{b.forEach((S,P)=>{u=u.insert(S,P)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o))).next(u=>{o.forEach((m,E)=>{const b=E.getKey();null===u.get(b)&&(u=u.insert(b,Jn.newInvalidDocument(b)))});let l=Sh();return u.forEach((m,E)=>{const b=o.get(m);void 0!==b&&Hy(b.mutation,E,ys.empty(),sr.now()),Rp(t,E)&&(l=l.insert(m,E))}),l})}}class Xx{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return oe.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:br(r.createTime)}),oe.resolve()}getNamedQuery(e,t){return oe.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:lC(r.bundledQuery),readTime:br(r.readTime)}),oe.resolve();var r}}class eA{constructor(){this.overlays=new Yn(Qe.comparator),this.ls=new Map}getOverlay(e,t){return oe.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Hs();return oe.forEach(t,o=>this.getOverlay(e,o).next(u=>{null!==u&&r.set(o,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,u)=>{this.we(e,t,u)}),oe.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.ls.get(r);return void 0!==o&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.ls.delete(r)),oe.resolve()}getOverlaysForCollection(e,t,r){const o=Hs(),u=t.length+1,l=new Qe(t.child("")),m=this.overlays.getIteratorFrom(l);for(;m.hasNext();){const E=m.getNext().value,b=E.getKey();if(!t.isPrefixOf(b.path))break;b.path.length===u&&E.largestBatchId>r&&o.set(E.getKey(),E)}return oe.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let u=new Yn((b,S)=>b-S);const l=this.overlays.getIterator();for(;l.hasNext();){const b=l.getNext().value;if(b.getKey().getCollectionGroup()===t&&b.largestBatchId>r){let S=u.get(b.largestBatchId);null===S&&(S=Hs(),u=u.insert(b.largestBatchId,S)),S.set(b.getKey(),b)}}const m=Hs(),E=u.getIterator();for(;E.hasNext()&&(E.getNext().value.forEach((b,S)=>m.set(b,S)),!(m.size()>=o)););return oe.resolve(m)}we(e,t,r){const o=this.overlays.get(r.key);if(null!==o){const l=this.ls.get(o.largestBatchId).delete(r.key);this.ls.set(o.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new Lp(t,r));let u=this.ls.get(t);void 0===u&&(u=Gt(),this.ls.set(t,u)),this.ls.set(t,u.add(r.key))}}class DC{constructor(){this.fs=new Qn(Di.ds),this.ws=new Qn(Di._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new Di(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new Di(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new Qe(new an([])),r=new Di(t,e),o=new Di(t,e+1),u=[];return this.ws.forEachInRange([r,o],l=>{this.ys(l),u.push(l.key)}),u}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Qe(new an([])),r=new Di(t,e),o=new Di(t,e+1);let u=Gt();return this.ws.forEachInRange([r,o],l=>{u=u.add(l.key)}),u}containsKey(e){const t=new Di(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Di{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Qe.comparator(e.key,t.key)||Ht(e.As,t.As)}static _s(e,t){return Ht(e.As,t.As)||Qe.comparator(e.key,t.key)}}class eN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Qn(Di.ds)}checkEmpty(e){return oe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,o){const u=this.vs;this.vs++;const l=new zD(u,t,r,o);this.mutationQueue.push(l);for(const m of o)this.Rs=this.Rs.add(new Di(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return oe.resolve(l)}lookupMutationBatch(e,t){return oe.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.bs(t+1),u=o<0?0:o;return oe.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Di(t,0),o=new Di(t,Number.POSITIVE_INFINITY),u=[];return this.Rs.forEachInRange([r,o],l=>{const m=this.Ps(l.As);u.push(m)}),oe.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Qn(Ht);return t.forEach(o=>{const u=new Di(o,0),l=new Di(o,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([u,l],m=>{r=r.add(m.As)})}),oe.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let u=r;Qe.isDocumentKey(u)||(u=u.child(""));const l=new Di(new Qe(u),0);let m=new Qn(Ht);return this.Rs.forEachWhile(E=>{const b=E.key.path;return!!r.isPrefixOf(b)&&(b.length===o&&(m=m.add(E.As)),!0)},l),oe.resolve(this.Vs(m))}Vs(e){const t=[];return e.forEach(r=>{const o=this.Ps(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){vt(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return oe.forEach(t.mutations,o=>{const u=new Di(o.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new Di(t,0),o=this.Rs.firstAfterOrEqual(r);return oe.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return oe.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class tN{constructor(e){this.Ds=e,this.docs=new Yn(Qe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),u=o?o.size:0,l=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return oe.resolve(r?r.document.mutableCopy():Jn.newInvalidDocument(t))}getEntries(e,t){let r=vs();return t.forEach(o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():Jn.newInvalidDocument(o))}),oe.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let u=vs();const l=t.path,m=new Qe(l.child("")),E=this.docs.getIteratorFrom(m);for(;E.hasNext();){const{key:b,value:{document:S}}=E.getNext();if(!l.isPrefixOf(b.path))break;b.path.length>l.length+1||Ip(JI(S),r)<=0||(o.has(S.key)||Rp(t,S))&&(u=u.insert(S.key,S.mutableCopy()))}return oe.resolve(u)}getAllFromCollectionGroup(e,t,r,o){st()}Cs(e,t){return oe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new nN(this)}getSize(e){return oe.resolve(this.size)}}class nN extends iv{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.os.addEntry(e,o)):this.os.removeEntry(r)}),oe.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class tA{constructor(e){this.persistence=e,this.xs=new du(t=>lu(t),Ch),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.Ns=0,this.ks=new DC,this.targetCount=0,this.Ms=ql.kn()}forEachTarget(e,t){return this.xs.forEach((r,o)=>t(o)),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),oe.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new ql(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,oe.resolve()}updateTargetData(e,t){return this.Fn(t),oe.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,t,r){let o=0;const u=[];return this.xs.forEach((l,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.xs.delete(l),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),oe.waitFor(u).next(()=>o)}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return oe.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),oe.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(l=>{u.push(o.markPotentiallyOrphaned(e,l))}),oe.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),oe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return oe.resolve(r)}containsKey(e,t){return oe.resolve(this.ks.containsKey(t))}}class CC{constructor(e,t){this.$s={},this.overlays={},this.Os=new $s(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new tA(this),this.indexManager=new GS,this.remoteDocumentCache=new tN(r=>this.referenceDelegate.Ls(r)),this.serializer=new $p(t),this.qs=new Xx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new eA,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new eN(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){Fe("MemoryPersistence","Starting transaction:",e);const o=new rN(this.Os.next());return this.referenceDelegate.Us(),r(o).next(u=>this.referenceDelegate.Ks(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Gs(e,t){return oe.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class rN extends D0{constructor(e){super(),this.currentSequenceNumber=e}}class dw{constructor(e){this.persistence=e,this.Qs=new DC,this.js=null}static zs(e){return new dw(e)}get Ws(){if(this.js)return this.js;throw st()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),oe.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),oe.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),oe.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(o=>this.Ws.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.Ws.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.Ws,r=>{const o=Qe.fromPath(r);return this.Hs(e,o).next(u=>{u||t.removeEntry(o,Et.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return oe.or([()=>oe.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class iN{constructor(e){this.serializer=e}O(e,t,r,o){const u=new _y("createOrUpgrade",t);var m;r<1&&o>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ey,{unique:!0}),m.createObjectStore("documentMutations"),bC(e),function(m){m.createObjectStore("remoteDocuments")}(e));let l=oe.resolve();return r<3&&o>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),bC(e)),l=l.next(()=>function(m){const E=m.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Et.min().toTimestamp(),targetCount:0};return E.put("targetGlobalKey",b)}(u))),r<4&&o>=4&&(0!==r&&(l=l.next(()=>function(m,E){return E.store("mutations").j().next(b=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ey,{unique:!0});const S=E.store("mutations"),P=b.map(W=>S.put(W));return oe.waitFor(P)})}(e,u))),l=l.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&o>=5&&(l=l.next(()=>this.Ys(u))),r<6&&o>=6&&(l=l.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(u)))),r<7&&o>=7&&(l=l.next(()=>this.Zs(u))),r<8&&o>=8&&(l=l.next(()=>this.ti(e,u))),r<9&&o>=9&&(l=l.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&o>=10&&(l=l.next(()=>this.ei(u))),r<11&&o>=11&&(l=l.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&o>=12&&(l=l.next(()=>{!function(m){const E=m.createObjectStore("documentOverlays",{keyPath:uD});E.createIndex("collectionPathOverlayIndex",cD,{unique:!1}),E.createIndex("collectionGroupOverlayIndex",lD,{unique:!1})}(e)})),r<13&&o>=13&&(l=l.next(()=>function(m){const E=m.createObjectStore("remoteDocumentsV14",{keyPath:iD});E.createIndex("documentKeyIndex",uS),E.createIndex("collectionGroupIndex",qx)}(e)).next(()=>this.ni(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(l=l.next(()=>this.si(e,u))),r<15&&o>=15&&(l=l.next(()=>function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:oD}).createIndex("sequenceNumberIndex",lS,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:aD}).createIndex("documentKeyIndex",x0,{unique:!1})}(e))),l}Xs(e){let t=0;return e.store("remoteDocuments").X((r,o)=>{t+=Yp(o)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(o=>oe.forEach(o,u=>{const l=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",l).next(m=>oe.forEach(m,E=>{vt(E.userId===u.userId);const b=Ec(this.serializer,E);return qS(e,u.userId,b).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const u=[];return r.X((l,m)=>{const E=new an(l),b=[0,wi(E)];u.push(t.get(b).next(S=>S?oe.resolve():t.put({targetId:0,path:wi(E),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>oe.waitFor(u))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:sD});const r=t.store("collectionParents"),o=new iw,u=l=>{if(o.add(l)){const m=l.lastSegment(),E=l.popLast();return r.put({collectionId:m,parent:wi(E)})}};return t.store("remoteDocuments").X({Y:!0},(l,m)=>{const E=new an(l);return u(E.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([l,m,E],b)=>{const S=Ta(m);return u(S.popLast())}))}ei(e){const t=e.store("targets");return t.X((r,o)=>{const u=jp(o),l=cC(this.serializer,u);return t.put(l)})}ni(e,t){const r=t.store("remoteDocuments"),o=[];return r.X((u,l)=>{const m=t.store("remoteDocumentsV14"),E=(b=l,b.document?new Qe(an.fromString(b.document.name).popFirst(5)):b.noDocument?Qe.fromSegments(b.noDocument.path):b.unknownDocument?Qe.fromSegments(b.unknownDocument.path):st()).path.toArray();var b;const S={prefixPath:E.slice(0,E.length-2),collectionGroup:E[E.length-2],documentId:E[E.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};o.push(m.put(S))}).next(()=>oe.waitFor(o))}si(e,t){const r=t.store("mutations"),o=EC(this.serializer),u=new CC(dw.zs,this.serializer.fe);return r.j().next(l=>{const m=new Map;return l.forEach(E=>{var b;let S=null!==(b=m.get(E.userId))&&void 0!==b?b:Gt();Ec(this.serializer,E).keys().forEach(P=>S=S.add(P)),m.set(E.userId,S)}),oe.forEach(m,(E,b)=>{const S=new ui(b),P=tw.de(this.serializer,S),W=u.getIndexManager(S),re=Uh.de(S,this.serializer,W,u.referenceDelegate);return new XS(o,re,P,W).recalculateAndSaveOverlaysForDocumentKeys(new Dy(t,$s.ct),E).next()})})}}function bC(n){n.createObjectStore("targetDocuments",{keyPath:M0}).createIndex("documentTargetsIndex",cS,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",A0,{unique:!0}),n.createObjectStore("targetGlobal")}const TC="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class i{constructor(e,t,r,o,u,l,m,E,b,S,P=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ii=u,this.window=l,this.document=m,this.ri=b,this.oi=S,this.ui=P,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=W=>Promise.resolve(),!i.D())throw new Me(ce.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new wC(this,o),this.di=t+"main",this.serializer=new $p(E),this.wi=new zo(this.di,this.ui,new iN(this.serializer)),this.Bs=new KS(this.referenceDelegate,this.serializer),this.remoteDocumentCache=EC(this.serializer),this.qs=new US,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===S&&Ir("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Me(ce.FAILED_PRECONDITION,TC);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new $s(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var r=(0,ve.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,ve.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,ve.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>a(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(hc(e))return Fe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Fe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return s(e).get("owner").next(t=>oe.resolve(this.Ri(t)))}Pi(e){return a(e).delete(this.clientId)}bi(){var e=this;return(0,ve.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=Ei(r,"clientMetadata");return o.j().next(u=>{const l=e.Si(u,18e5),m=u.filter(E=>-1===l.indexOf(E));return oe.forEach(m,E=>o.delete(E.clientId)).next(()=>m)})}).catch(()=>[]);if(e._i)for(const r of t)e._i.removeItem(e.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?oe.resolve(!0):s(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Me(ce.FAILED_PRECONDITION,TC);return!1}}return!(!this.networkEnabled||!this.inForeground)||a(e).j().next(r=>void 0===this.Si(r,5e3).find(o=>!(this.clientId===o.clientId||!(!this.networkEnabled&&o.networkEnabled||!this.inForeground&&o.inForeground&&this.networkEnabled===o.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Fe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ve.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new Dy(t,$s.ct);return e.Ai(r).next(()=>e.Pi(r))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(r=>this.Vi(r.updateTimeMs,t)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>a(e).j().next(t=>this.Si(t,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return Uh.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new WS(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return tw.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,r){Fe("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",u=15===(l=this.ui)?hS:14===l?hD:13===l?dD:12===l?dS:11===l?N0:void st();var l;let m;return this.wi.runTransaction(e,o,u,E=>(m=new Dy(E,this.Os?this.Os.next():$s.ct),"readwrite-primary"===t?this.Ti(m).next(b=>!!b||this.Ei(m)).next(b=>{if(!b)throw Ir(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Me(ce.FAILED_PRECONDITION,XI);return r(m)}).next(b=>this.vi(m).next(()=>b)):this.Oi(m).next(()=>r(m)))).then(E=>(m.raiseOnCommittedEvent(),E))}Oi(e){return s(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Me(ce.FAILED_PRECONDITION,TC)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return s(e).put("owner",t)}static D(){return zo.D()}Ai(e){const t=s(e);return t.get("owner").next(r=>this.Ri(r)?(Fe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):oe.resolve())}Vi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Ir(`Detected an update time that is in the future: ${e} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,fn.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const r=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Fe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Ir("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Ir("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function s(n){return Ei(n,"owner")}function a(n){return Ei(n,"clientMetadata")}function c(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class d{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=o}static Li(e,t){let r=Gt(),o=Gt();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new d(e,t.fromCache,r,o)}}class f{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,o){return this.Ki(e,t).next(u=>u||this.Gi(e,t,o,r)).next(u=>u||this.Qi(e,t))}Ki(e,t){if(U0(t))return oe.resolve(null);let r=Ji(t);return this.indexManager.getIndexType(e,r).next(o=>0===o?null:(null!==t.limit&&1===o&&(t=$0(t,null,"F"),r=Ji(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const l=Gt(...u);return this.Ui.getDocuments(e,l).next(m=>this.indexManager.getMinOffset(e,r).next(E=>{const b=this.ji(t,m);return this.zi(t,b,l,E.readTime)?this.Ki(e,$0(t,null,"F")):this.Wi(e,b,t,E)}))})))}Gi(e,t,r,o){return U0(t)||o.isEqual(Et.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(u=>{const l=this.ji(t,u);return this.zi(t,l,r,o)?this.Qi(e,t):(w0()<=ic.in.DEBUG&&Fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),jl(t)),this.Wi(e,l,t,QI(o,-1)))})}ji(e,t){let r=new Qn(OD(e));return t.forEach((o,u)=>{Rp(e,u)&&(r=r.add(u))}),r}zi(e,t,r,o){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Qi(e,t){return w0()<=ic.in.DEBUG&&Fe("QueryEngine","Using full collection scan to execute query:",jl(t)),this.Ui.getDocumentsMatchingQuery(e,t,Bs.min())}Wi(e,t,r,o){return this.Ui.getDocumentsMatchingQuery(e,r,o).next(u=>(t.forEach(l=>{u=u.insert(l.key,l)}),u))}}class y{constructor(e,t,r,o){this.persistence=e,this.Hi=t,this.serializer=o,this.Ji=new Yn(Ht),this.Yi=new du(u=>lu(u),Ch),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new XS(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function _(n,e,t,r){return new y(n,e,t,r)}function D(n,e){return T.apply(this,arguments)}function T(){return T=(0,ve.Z)(function*(n,e){const t=tt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(u=>(o=u,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const l=[],m=[];let E=Gt();for(const b of o){l.push(b.batchId);for(const S of b.mutations)E=E.add(S.key)}for(const b of u){m.push(b.batchId);for(const S of b.mutations)E=E.add(S.key)}return t.localDocuments.getDocuments(r,E).next(b=>({er:b,removedBatchIds:l,addedBatchIds:m}))})})}),T.apply(this,arguments)}function U(n){const e=tt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function J(n,e,t){let r=Gt(),o=Gt();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let l=vs();return t.forEach((m,E)=>{const b=u.get(m);E.isFoundDocument()!==b.isFoundDocument()&&(o=o.add(m)),E.isNoDocument()&&E.version.isEqual(Et.min())?(e.removeEntry(m,E.readTime),l=l.insert(m,E)):!b.isValidDocument()||E.version.compareTo(b.version)>0||0===E.version.compareTo(b.version)&&b.hasPendingWrites?(e.addEntry(E),l=l.insert(m,E)):Fe("LocalStore","Ignoring outdated watch update for ",m,". Current version:",b.version," Watch version:",E.version)}),{nr:l,sr:o}})}function we(n,e){const t=tt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Oe(n,e){const t=tt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Bs.getTargetData(r,e).next(u=>u?(o=u,oe.resolve(o)):t.Bs.allocateTargetId(r).next(l=>(o=new ws(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Ji.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}function Ke(n,e,t){return ft.apply(this,arguments)}function ft(){return ft=(0,ve.Z)(function*(n,e,t){const r=tt(n),o=r.Ji.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,l=>r.persistence.referenceDelegate.removeTarget(l,o)))}catch(l){if(!hc(l))throw l;Fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(o.target)}),ft.apply(this,arguments)}function De(n,e,t){const r=tt(n);let o=Et.min(),u=Gt();return r.persistence.runTransaction("Execute query","readonly",l=>function(m,E,b){const S=tt(m),P=S.Yi.get(b);return void 0!==P?oe.resolve(S.Ji.get(P)):S.Bs.getTargetData(E,b)}(r,l,Ji(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(l,m.targetId).next(E=>{u=E})}).next(()=>r.Hi.getDocumentsMatchingQuery(l,e,t?o:Et.min(),t?u:Gt())).next(m=>(sn(r,Ly(e),m),{documents:m,ir:u})))}function Ut(n,e){const t=tt(n),r=tt(t.Bs),o=t.Ji.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",u=>r.le(u,e).next(l=>l?l.target:null))}function nn(n,e){const t=tt(n),r=t.Xi.get(e)||Et.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.Zi.getAllFromCollectionGroup(o,e,QI(r,-1),Number.MAX_SAFE_INTEGER)).then(o=>(sn(t,e,o),o))}function sn(n,e,t){let r=n.Xi.get(e)||Et.min();t.forEach((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Xi.set(e,r)}function jh(){return jh=(0,ve.Z)(function*(n,e,t,r){const o=tt(n);let u=Gt(),l=vs();for(const b of t){const S=e.rr(b.metadata.name);b.document&&(u=u.add(S));const P=e.ur(b);P.setReadTime(e.cr(b.metadata.readTime)),l=l.insert(S,P)}const m=o.Zi.newChangeBuffer({trackRemovals:!0}),E=yield Oe(o,(b=r,Ji(bh(an.fromString(`__bundle__/docs/${b}`)))));var b;return o.persistence.runTransaction("Apply bundle documents","readwrite",b=>J(b,m,l).next(S=>(m.apply(b),S)).next(S=>o.Bs.removeMatchingKeysForTargetId(b,E.targetId).next(()=>o.Bs.addMatchingKeys(b,u,E.targetId)).next(()=>o.localDocuments.getLocalViewOfDocuments(b,S.nr,S.sr)).next(()=>S.nr)))}),jh.apply(this,arguments)}function nA(n,e){return fw.apply(this,arguments)}function fw(){return fw=(0,ve.Z)(function*(n,e,t=Gt()){const r=yield Oe(n,Ji(lC(e.bundledQuery))),o=tt(n);return o.persistence.runTransaction("Save named query","readwrite",u=>{const l=br(e.readTime);if(r.snapshotVersion.compareTo(l)>=0)return o.qs.saveNamedQuery(u,e);const m=r.withResumeToken(Kr.EMPTY_BYTE_STRING,l);return o.Ji=o.Ji.insert(m.targetId,m),o.Bs.updateTargetData(u,m).next(()=>o.Bs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>o.Bs.addMatchingKeys(u,t,r.targetId)).next(()=>o.qs.saveNamedQuery(u,e))})}),fw.apply(this,arguments)}function sN(n,e){return`firestore_clients_${n}_${e}`}function oN(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function rA(n,e){return`firestore_targets_${n}_${e}`}class SC{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static ar(e,t,r){const o=JSON.parse(r);let u,l="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return l&&o.error&&(l="string"==typeof o.error.message&&"string"==typeof o.error.code,l&&(u=new Me(o.error.code,o.error.message))),l?new SC(e,t,o.state,u):(Ir("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class pw{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static ar(e,t){const r=JSON.parse(t);let o,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(o=new Me(r.error.code,r.error.message))),u?new pw(e,r.state,o):(Ir("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class AC{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,u=j0();for(let l=0;o&&l<r.activeTargetIds.length;++l)o=wy(r.activeTargetIds[l]),u=u.add(r.activeTargetIds[l]);return o?new AC(e,u):(Ir("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class iA{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new iA(t.clientId,t.onlineState):(Ir("SharedClientState",`Failed to parse online state: ${e}`),null)}}class sA{constructor(){this.activeTargetIds=j0()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oA{constructor(e,t,r,o,u){this.window=e,this.ii=t,this.persistenceKey=r,this.wr=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Yn(Ht),this.started=!1,this.yr=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.pr=sN(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new sA),this.Tr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ve.Z)(function*(){const t=yield e.syncEngine.$i();for(const o of t){if(o===e.wr)continue;const u=e.getItem(sN(e.persistenceKey,o));if(u){const l=AC.ar(o,u);l&&(e.gr=e.gr.insert(l.clientId,l))}}e.Pr();const r=e.storage.getItem(e.vr);if(r){const o=e.br(r);o&&e.Vr(o)}for(const o of e.yr)e.mr(o);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,r){this.Dr(e,t,r),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(rA(this.persistenceKey,e));if(r){const o=pw.ar(e,r);o&&(t=o.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(rA(this.persistenceKey,e))}updateQueryState(e,t,r){this.kr(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.Cr(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Fe("SharedClientState","READ",e,t),t}setItem(e,t){Fe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Fe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Fe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void Ir("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,ve.Z)(function*(){if(t.started){if(null!==r.key)if(t.Tr.test(r.key)){if(null==r.newValue){const o=t.Or(r.key);return t.Fr(o,null)}{const o=t.Br(r.key,r.newValue);if(o)return t.Fr(o.clientId,o)}}else if(t.Er.test(r.key)){if(null!==r.newValue){const o=t.Lr(r.key,r.newValue);if(o)return t.qr(o)}}else if(t.Ar.test(r.key)){if(null!==r.newValue){const o=t.Ur(r.key,r.newValue);if(o)return t.Kr(o)}}else if(r.key===t.vr){if(null!==r.newValue){const o=t.br(r.newValue);if(o)return t.Vr(o)}}else if(r.key===t.Ir){const o=function(u){let l=$s.ct;if(null!=u)try{const m=JSON.parse(u);vt("number"==typeof m),l=m}catch(m){Ir("SharedClientState","Failed to read sequence number from WebStorage",m)}return l}(r.newValue);o!==$s.ct&&t.sequenceNumberHandler(o)}else if(r.key===t.Rr){const o=t.Gr(r.newValue);yield Promise.all(o.map(u=>t.syncEngine.Qr(u)))}}else t.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,r){const o=new SC(this.currentUser,e,t,r),u=oN(this.persistenceKey,this.currentUser,e);this.setItem(u,o.hr())}Cr(e){const t=oN(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,r){const o=rA(this.persistenceKey,e),u=new pw(e,t,r);this.setItem(o,u.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const r=this.Or(e);return AC.ar(r,t)}Lr(e,t){const r=this.Er.exec(e),o=Number(r[1]);return SC.ar(new ui(void 0!==r[2]?r[2]:null),o,t)}Ur(e,t){const r=this.Ar.exec(e),o=Number(r[1]);return pw.ar(o,t)}br(e){return iA.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,ve.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);Fe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const r=t?this.gr.insert(e,t):this.gr.remove(e),o=this.Sr(this.gr),u=this.Sr(r),l=[],m=[];return u.forEach(E=>{o.has(E)||l.push(E)}),o.forEach(E=>{u.has(E)||m.push(E)}),this.syncEngine.Wr(l,m).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=j0();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class aN{constructor(){this.Hr=new sA,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new sA,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class f1{Yr(e){}shutdown(){}}class uN{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let MC=null;function aA(){return null===MC?MC=268435456+Math.round(2147483648*Math.random()):MC++,"0x"+MC.toString(16)}const p1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class g1{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Is="WebChannelConnection";class m1 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,o,u){const l=aA(),m=this.To(e,t);Fe("RestConnection",`Sending RPC '${e}' ${l}:`,m,r);const E={};return this.Eo(E,o,u),this.Ao(e,m,E,r).then(b=>(Fe("RestConnection",`Received RPC '${e}' ${l}: `,b),b),b=>{throw Us("RestConnection",`RPC '${e}' ${l} failed with error: `,b,"url: ",m,"request:",r),b})}vo(e,t,r,o,u,l){return this.Io(e,t,r,o,u)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ba,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),r&&r.headers.forEach((o,u)=>e[u]=o)}To(e,t){return`${this.mo}/v1/${t}:${p1[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,o){const u=aA();return new Promise((l,m)=>{const E=new fy;E.setWithCredentials(!0),E.listenOnce(QT.COMPLETE,()=>{try{switch(E.getLastErrorCode()){case v0.NO_ERROR:const S=E.getResponseJson();Fe(Is,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(S)),l(S);break;case v0.TIMEOUT:Fe(Is,`RPC '${e}' ${u} timed out`),m(new Me(ce.DEADLINE_EXCEEDED,"Request time out"));break;case v0.HTTP_ERROR:const P=E.getStatus();if(Fe(Is,`RPC '${e}' ${u} failed with status:`,P,"response text:",E.getResponseText()),P>0){let W=E.getResponseJson();Array.isArray(W)&&(W=W[0]);const re=W?.error;if(re&&re.status&&re.message){const Ee=function(Le){const Ue=Le.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(Ue)>=0?Ue:ce.UNKNOWN}(re.status);m(new Me(Ee,re.message))}else m(new Me(ce.UNKNOWN,"Server responded with status "+E.getStatus()))}else m(new Me(ce.UNAVAILABLE,"Connection failed."));break;default:st()}}finally{Fe(Is,`RPC '${e}' ${u} completed.`)}});const b=JSON.stringify(o);Fe(Is,`RPC '${e}' ${u} sending request:`,o),E.send(t,"POST",b,r,15)})}Ro(e,t,r){const o=aA(),u=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=HI(),m=YT(),E={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},b=this.longPollingOptions.timeoutSeconds;void 0!==b&&(E.longPollingTimeout=Math.round(1e3*b)),this.useFetchStreams&&(E.xmlHttpFactory=new JT({})),this.Eo(E.initMessageHeaders,t,r),E.encodeInitMessageHeaders=!0;const S=u.join("");Fe(Is,`Creating RPC '${e}' stream ${o}: ${S}`,E);const P=l.createWebChannel(S,E);let W=!1,re=!1;const Ee=new g1({ro:Ue=>{re?Fe(Is,`Not sending because RPC '${e}' stream ${o} is closed:`,Ue):(W||(Fe(Is,`Opening RPC '${e}' stream ${o} transport.`),P.open(),W=!0),Fe(Is,`RPC '${e}' stream ${o} sending:`,Ue),P.send(Ue))},oo:()=>P.close()}),Le=(Ue,It,Ot)=>{Ue.listen(It,Tt=>{try{Ot(Tt)}catch(Lt){setTimeout(()=>{throw Lt},0)}})};return Le(P,hy.EventType.OPEN,()=>{re||Fe(Is,`RPC '${e}' stream ${o} transport opened.`)}),Le(P,hy.EventType.CLOSE,()=>{re||(re=!0,Fe(Is,`RPC '${e}' stream ${o} transport closed`),Ee.wo())}),Le(P,hy.EventType.ERROR,Ue=>{re||(re=!0,Us(Is,`RPC '${e}' stream ${o} transport errored:`,Ue),Ee.wo(new Me(ce.UNAVAILABLE,"The operation could not be completed")))}),Le(P,hy.EventType.MESSAGE,Ue=>{var It;if(!re){const Ot=Ue.data[0];vt(!!Ot);const Lt=Ot.error||(null===(It=Ot[0])||void 0===It?void 0:It.error);if(Lt){Fe(Is,`RPC '${e}' stream ${o} received error:`,Lt);const Kt=Lt.status;let gn=function(ug){const c1=pr[ug];if(void 0!==c1)return xS(c1)}(Kt),Ds=Lt.message;void 0===gn&&(gn=ce.INTERNAL,Ds="Unknown error status: "+Kt+" with message "+Lt.message),re=!0,Ee.wo(new Me(gn,Ds)),P.close()}else Fe(Is,`RPC '${e}' stream ${o} received:`,Ot),Ee._o(Ot)}}),Le(m,Ep.STAT_EVENT,Ue=>{Ue.stat===zI.PROXY?Fe(Is,`RPC '${e}' stream ${o} detected buffering proxy`):Ue.stat===zI.NOPROXY&&Fe(Is,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{Ee.fo()},0),Ee}}function cN(){return typeof window<"u"?window:null}function xC(){return typeof document<"u"?document:null}function gw(n){return new QD(n,!0)}class uA{constructor(e,t,r=1e3,o=1.5,u=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=o,this.Vo=u,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),o=Math.max(0,t-r);o>0&&Fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,o,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class lN{constructor(e,t,r,o,u,l,m,E){this.ii=e,this.$o=r,this.Oo=o,this.connection=u,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=m,this.listener=E,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new uA(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,ve.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,ve.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,ve.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===ce.RESOURCE_EXHAUSTED?(Ir(t.toString()),Ir("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===ce.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Fo===t&&this.Zo(r,o)},r=>{e(()=>{const o=new Me(ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(o)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(o=>{r(()=>this.tu(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}Go(){var e=this;this.state=5,this.qo.No((0,ve.Z)(function*(){e.state=0,e.start()}))}tu(e){return Fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class y1 extends lN{constructor(e,t,r,o,u,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,l),this.serializer=u}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function tC(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(E=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===E?1:"REMOVE"===E?2:"CURRENT"===E?3:"RESET"===E?4:st(),o=e.targetChange.targetIds||[],u=function(E,b){return E.useProto3Json?(vt(void 0===b||"string"==typeof b),Kr.fromBase64String(b||"")):(vt(void 0===b||b instanceof Uint8Array),Kr.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,m=l&&function(E){const b=void 0===E.code?ce.UNKNOWN:xS(E.code);return new Me(b,E.message||"")}(l);t=new KD(r,o,u,m||null)}else if("documentChange"in e){const r=e.documentChange,o=Ma(n,r.document.name),u=br(r.document.updateTime),l=r.document.createTime?br(r.document.createTime):Et.min(),m=new Yr({mapValue:{fields:r.document.fields}}),E=Jn.newFoundDocument(o,u,l,m);t=new _s(r.targetIds||[],r.removedTargetIds||[],E.key,E)}else if("documentDelete"in e){const r=e.documentDelete,o=Ma(n,r.document),u=r.readTime?br(r.readTime):Et.min(),l=Jn.newNoDocument(o,u);t=new _s([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const r=e.documentRemove,o=Ma(n,r.document);t=new _s([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return st();{const r=e.filter,{count:o=0,unchangedNames:u}=r,l=new AS(o,u);t=new q0(r.targetId,l)}}var E;return t}(this.serializer,e),r=function(o){if(!("targetChange"in o))return Et.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Et.min():u.readTime?br(u.readTime):Et.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=kh(this.serializer),t.addTarget=function(o,u){let l;const m=u.target;if(l=ky(m)?{documents:nC(o,m)}:{query:Qy(o,m)},l.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){l.resumeToken=K0(o,u.resumeToken);const E=qy(o,u.expectedCount);null!==E&&(l.expectedCount=E)}else if(u.snapshotVersion.compareTo(Et.min())>0){l.readTime=Oh(o,u.snapshotVersion.toTimestamp());const E=qy(o,u.expectedCount);null!==E&&(l.expectedCount=E)}return l}(this.serializer,e);const r=function rC(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return st()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=kh(this.serializer),t.removeTarget=e,this.Wo(t)}}class v1 extends lN{constructor(e,t,r,o,u,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,l),this.serializer=u,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(vt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function FS(n,e){return n&&n.length>0?(vt(void 0!==e),n.map(t=>function(r,o){let u=br(r.updateTime?r.updateTime:o);return u.isEqual(Et.min())&&(u=br(o)),new BD(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=br(e.commitTime);return this.listener.cu(r,t)}return vt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=kh(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Bp(this.serializer,r))};this.Wo(t)}}class _1 extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.lu=!1}fu(){if(this.lu)throw new Me(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Io(e,t,r,o,u)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Me(ce.UNKNOWN,o.toString())})}vo(e,t,r,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.connection.vo(e,t,r,u,l,o)).catch(u=>{throw"FirebaseError"===u.name?(u.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Me(ce.UNKNOWN,u.toString())})}terminate(){this.lu=!0}}class E1{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Ir(t),this.mu=!1):Fe("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class I1{constructor(e,t,r,o,u){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=u,this.Pu.Yr(m=>{r.enqueueAndForget((0,ve.Z)(function*(){var E;Hh(l)&&(Fe("RemoteStore","Restarting streams for network reachability change."),yield(E=(0,ve.Z)(function*(b){const S=tt(b);S.vu.add(4),yield sv(S),S.bu.set("Unknown"),S.vu.delete(4),yield mw(S)}),function(b){return E.apply(this,arguments)})(l))}))}),this.bu=new E1(r,o)}}function mw(n){return lA.apply(this,arguments)}function lA(){return lA=(0,ve.Z)(function*(n){if(Hh(n))for(const e of n.Ru)yield e(!0)}),lA.apply(this,arguments)}function sv(n){return dA.apply(this,arguments)}function dA(){return dA=(0,ve.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),dA.apply(this,arguments)}function NC(n,e){const t=tt(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),pA(t)?fA(t):av(t).Ko()&&hA(t,e))}function yw(n,e){const t=tt(n),r=av(t);t.Au.delete(e),r.Ko()&&dN(t,e),0===t.Au.size&&(r.Ko()?r.jo():Hh(t)&&t.bu.set("Unknown"))}function hA(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Et.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}av(n).su(e)}function dN(n,e){n.Vu.qt(e),av(n).iu(e)}function fA(n){n.Vu=new Xi({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),av(n).start(),n.bu.gu()}function pA(n){return Hh(n)&&!av(n).Uo()&&n.Au.size>0}function Hh(n){return 0===tt(n).vu.size}function hN(n){n.Vu=void 0}function D1(n){return gA.apply(this,arguments)}function gA(){return gA=(0,ve.Z)(function*(n){n.Au.forEach((e,t)=>{hA(n,e)})}),gA.apply(this,arguments)}function C1(n,e){return mA.apply(this,arguments)}function mA(){return mA=(0,ve.Z)(function*(n,e){hN(n),pA(n)?(n.bu.Iu(e),fA(n)):n.bu.set("Unknown")}),mA.apply(this,arguments)}function b1(n,e,t){return yA.apply(this,arguments)}function yA(){return yA=(0,ve.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof KD&&2===e.state&&e.cause)try{yield(r=(0,ve.Z)(function*(o,u){const l=u.cause;for(const m of u.targetIds)o.Au.has(m)&&(yield o.remoteSyncer.rejectListen(m,l),o.Au.delete(m),o.Vu.removeTarget(m))}),function(o,u){return r.apply(this,arguments)})(n,e)}catch(r){Fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield RC(n,r)}else if(e instanceof _s?n.Vu.Ht(e):e instanceof q0?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(Et.min()))try{const r=yield U(n.localStore);t.compareTo(r)>=0&&(yield function(o,u){const l=o.Vu.ce(u);return l.targetChanges.forEach((m,E)=>{if(m.resumeToken.approximateByteSize()>0){const b=o.Au.get(E);b&&o.Au.set(E,b.withResumeToken(m.resumeToken,u))}}),l.targetMismatches.forEach((m,E)=>{const b=o.Au.get(m);if(!b)return;o.Au.set(m,b.withResumeToken(Kr.EMPTY_BYTE_STRING,b.snapshotVersion)),dN(o,m);const S=new ws(b.target,m,E,b.sequenceNumber);hA(o,S)}),o.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(r){Fe("RemoteStore","Failed to raise snapshot:",r),yield RC(n,r)}var r}),yA.apply(this,arguments)}function RC(n,e,t){return vA.apply(this,arguments)}function vA(){return vA=(0,ve.Z)(function*(n,e,t){if(!hc(e))throw e;n.vu.add(1),yield sv(n),n.bu.set("Offline"),t||(t=()=>U(n.localStore)),n.asyncQueue.enqueueRetryable((0,ve.Z)(function*(){Fe("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield mw(n)}))}),vA.apply(this,arguments)}function fN(n,e){return e().catch(t=>RC(n,t,e))}function ov(n){return _A.apply(this,arguments)}function _A(){return _A=(0,ve.Z)(function*(n){const e=tt(n),t=zh(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;T1(e);)try{const o=yield we(e.localStore,r);if(null===o){0===e.Eu.length&&t.jo();break}r=o.batchId,S1(e,o)}catch(o){yield RC(e,o)}pN(e)&&gN(e)}),_A.apply(this,arguments)}function T1(n){return Hh(n)&&n.Eu.length<10}function S1(n,e){n.Eu.push(e);const t=zh(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function pN(n){return Hh(n)&&!zh(n).Uo()&&n.Eu.length>0}function gN(n){zh(n).start()}function A1(n){return wA.apply(this,arguments)}function wA(){return wA=(0,ve.Z)(function*(n){zh(n).hu()}),wA.apply(this,arguments)}function M1(n){return EA.apply(this,arguments)}function EA(){return EA=(0,ve.Z)(function*(n){const e=zh(n);for(const t of n.Eu)e.uu(t.mutations)}),EA.apply(this,arguments)}function x1(n,e,t){return IA.apply(this,arguments)}function IA(){return IA=(0,ve.Z)(function*(n,e,t){const r=n.Eu.shift(),o=zy.from(r,e,t);yield fN(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield ov(n)}),IA.apply(this,arguments)}function N1(n,e){return DA.apply(this,arguments)}function DA(){return DA=(0,ve.Z)(function*(n,e){var t;e&&zh(n).ou&&(yield(t=(0,ve.Z)(function*(r,o){if(MS(u=o.code)&&u!==ce.ABORTED){const l=r.Eu.shift();zh(r).Qo(),yield fN(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,o)),yield ov(r)}var u}),function(r,o){return t.apply(this,arguments)})(n,e)),pN(n)&&gN(n)}),DA.apply(this,arguments)}function mN(n,e){return CA.apply(this,arguments)}function CA(){return CA=(0,ve.Z)(function*(n,e){const t=tt(n);t.asyncQueue.verifyOperationInProgress(),Fe("RemoteStore","RemoteStore received new credentials");const r=Hh(t);t.vu.add(3),yield sv(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield mw(t)}),CA.apply(this,arguments)}function bA(n,e){return TA.apply(this,arguments)}function TA(){return TA=(0,ve.Z)(function*(n,e){const t=tt(n);e?(t.vu.delete(2),yield mw(t)):e||(t.vu.add(2),yield sv(t),t.bu.set("Unknown"))}),TA.apply(this,arguments)}function av(n){return n.Su||(n.Su=function(e,t,r){const o=tt(e);return o.fu(),new y1(t,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{uo:D1.bind(null,n),ao:C1.bind(null,n),nu:b1.bind(null,n)}),n.Ru.push(function(){var e=(0,ve.Z)(function*(t){t?(n.Su.Qo(),pA(n)?fA(n):n.bu.set("Unknown")):(yield n.Su.stop(),hN(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function zh(n){return n.Du||(n.Du=function(e,t,r){const o=tt(e);return o.fu(),new v1(t,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{uo:A1.bind(null,n),ao:N1.bind(null,n),au:M1.bind(null,n),cu:x1.bind(null,n)}),n.Ru.push(function(){var e=(0,ve.Z)(function*(t){t?(n.Du.Qo(),yield ov(n)):(yield n.Du.stop(),n.Eu.length>0&&(Fe("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class SA{constructor(e,t,r,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,r,o,u){const l=Date.now()+r,m=new SA(e,t,l,o,u);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Me(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function uv(n,e){if(Ir("AsyncQueue",`${e}: ${n}`),hc(n))return new Me(ce.UNAVAILABLE,`${e}: ${n}`);throw n}class cv{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Qe.comparator(t.key,r.key):(t,r)=>Qe.comparator(t.key,r.key),this.keyedMap=Sh(),this.sortedSet=new Yn(this.comparator)}static emptySet(e){return new cv(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof cv)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new cv;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class yN{constructor(){this.Cu=new Yn(Qe.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):st():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class lv{constructor(e,t,r,o,u,l,m,E,b){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=l,this.syncStateChanged=m,this.excludesMetadataChanges=E,this.hasCachedResults=b}static fromInitialDocuments(e,t,r,o,u){const l=[];return t.forEach(m=>{l.push({type:0,doc:m})}),new lv(e,t,cv.emptySet(t),l,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Th(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class R1{constructor(){this.Nu=void 0,this.listeners=[]}}class O1{constructor(){this.queries=new du(e=>Fy(e),Th),this.onlineState="Unknown",this.ku=new Set}}function AA(n,e){return MA.apply(this,arguments)}function MA(){return MA=(0,ve.Z)(function*(n,e){const t=tt(n),r=e.query;let o=!1,u=t.queries.get(r);if(u||(o=!0,u=new R1),o)try{u.Nu=yield t.onListen(r)}catch(l){const m=uv(l,`Initialization of query '${jl(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,u),u.listeners.push(e),e.Mu(t.onlineState),u.Nu&&e.$u(u.Nu)&&RA(t)}),MA.apply(this,arguments)}function xA(n,e){return NA.apply(this,arguments)}function NA(){return NA=(0,ve.Z)(function*(n,e){const t=tt(n),r=e.query;let o=!1;const u=t.queries.get(r);if(u){const l=u.listeners.indexOf(e);l>=0&&(u.listeners.splice(l,1),o=0===u.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),NA.apply(this,arguments)}function P1(n,e){const t=tt(n);let r=!1;for(const o of e){const l=t.queries.get(o.query);if(l){for(const m of l.listeners)m.$u(o)&&(r=!0);l.Nu=o}}r&&RA(t)}function k1(n,e,t){const r=tt(n),o=r.queries.get(e);if(o)for(const u of o.listeners)u.onError(t);r.queries.delete(e)}function RA(n){n.ku.forEach(e=>{e.next()})}class OA{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new lv(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=lv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class F1{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class vN{constructor(e){this.serializer=e}rr(e){return Ma(this.serializer,e)}ur(e){return e.metadata.exists?eC(this.serializer,e.document,!1):Jn.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return br(e)}}class L1{constructor(e,t,r){this.ju=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=_N(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const r=an.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,r=new vN(this.serializer);for(const o of e)if(o.metadata.queries){const u=r.rr(o.metadata.name);for(const l of o.metadata.queries){const m=(t.get(l)||Gt()).add(u);t.set(l,m)}}return t}complete(){var e=this;return(0,ve.Z)(function*(){const t=yield function Fi(n,e,t,r){return jh.apply(this,arguments)}(e.localStore,new vN(e.serializer),e.documents,e.ju.id),r=e.Wu(e.documents);for(const o of e.queries)yield nA(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function _N(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class wN{constructor(e){this.key=e}}class EN{constructor(e){this.key=e}}class IN{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Gt(),this.mutatedKeys=Gt(),this.tc=OD(e),this.ec=new cv(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new yN,o=t?t.ec:this.ec;let u=t?t.mutatedKeys:this.mutatedKeys,l=o,m=!1;const E="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,b="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((S,P)=>{const W=o.get(S),re=Rp(this.query,P)?P:null,Ee=!!W&&this.mutatedKeys.has(W.key),Le=!!re&&(re.hasLocalMutations||this.mutatedKeys.has(re.key)&&re.hasCommittedMutations);let Ue=!1;W&&re?W.data.isEqual(re.data)?Ee!==Le&&(r.track({type:3,doc:re}),Ue=!0):this.rc(W,re)||(r.track({type:2,doc:re}),Ue=!0,(E&&this.tc(re,E)>0||b&&this.tc(re,b)<0)&&(m=!0)):!W&&re?(r.track({type:0,doc:re}),Ue=!0):W&&!re&&(r.track({type:1,doc:W}),Ue=!0,(E||b)&&(m=!0)),Ue&&(re?(l=l.add(re),u=Le?u.add(S):u.delete(S)):(l=l.delete(S),u=u.delete(S)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const S="F"===this.query.limitType?l.last():l.first();l=l.delete(S.key),u=u.delete(S.key),r.track({type:1,doc:S})}return{ec:l,ic:r,zi:m,mutatedKeys:u}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const u=e.ic.xu();u.sort((b,S)=>function(P,W){const re=Ee=>{switch(Ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return st()}};return re(P)-re(W)}(b.type,S.type)||this.tc(b.doc,S.doc)),this.oc(r);const l=t?this.uc():[],m=0===this.Zu.size&&this.current?1:0,E=m!==this.Xu;return this.Xu=m,0!==u.length||E?{snapshot:new lv(this.query,e.ec,o,u,e.mutatedKeys,0===m,E,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new yN,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Gt(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new EN(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new wN(r))}),t}hc(e){this.Yu=e.ir,this.Zu=Gt();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return lv.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class V1{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class U1{constructor(e){this.key=e,this.fc=!1}}class B1{constructor(e,t,r,o,u,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new du(m=>Fy(m),Th),this._c=new Map,this.mc=new Set,this.gc=new Yn(Qe.comparator),this.yc=new Map,this.Ic=new DC,this.Tc={},this.Ec=new Map,this.Ac=ql.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function $1(n,e){return PA.apply(this,arguments)}function PA(){return PA=(0,ve.Z)(function*(n,e){const t=rM(n);let r,o;const u=t.wc.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),o=u.view.lc();else{const l=yield Oe(t.localStore,Ji(e)),m=t.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,o=yield kA(t,e,r,"current"===m,l.resumeToken),t.isPrimaryClient&&NC(t.remoteStore,l)}return o}),PA.apply(this,arguments)}function kA(n,e,t,r,o){return FA.apply(this,arguments)}function FA(){return FA=(0,ve.Z)(function*(n,e,t,r,o){n.Rc=(P,W,re)=>{return(Ee=(0,ve.Z)(function*(Le,Ue,It,Ot){let Tt=Ue.view.sc(It);Tt.zi&&(Tt=yield De(Le.localStore,Ue.query,!1).then(({documents:gn})=>Ue.view.sc(gn,Tt)));const Lt=Ot&&Ot.targetChanges.get(Ue.targetId),Kt=Ue.view.applyChanges(Tt,Le.isPrimaryClient,Lt);return WA(Le,Ue.targetId,Kt.cc),Kt.snapshot}),function(Le,Ue,It,Ot){return Ee.apply(this,arguments)})(n,P,W,re);var Ee};const u=yield De(n.localStore,e,!0),l=new IN(e,u.ir),m=l.sc(u.documents),E=Gy.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,o),b=l.applyChanges(m,n.isPrimaryClient,E);WA(n,t,b.cc);const S=new V1(e,t,l);return n.wc.set(e,S),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),b.snapshot}),FA.apply(this,arguments)}function j1(n,e){return LA.apply(this,arguments)}function LA(){return LA=(0,ve.Z)(function*(n,e){const t=tt(n),r=t.wc.get(e),o=t._c.get(r.targetId);if(o.length>1)return t._c.set(r.targetId,o.filter(u=>!Th(u,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Ke(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),yw(t.remoteStore,r.targetId),dv(t,r.targetId)}).catch(dc))):(dv(t,r.targetId),yield Ke(t.localStore,r.targetId,!0))}),LA.apply(this,arguments)}function VA(){return VA=(0,ve.Z)(function*(n,e,t){const r=iM(n);try{const o=yield function(u,l){const m=tt(u),E=sr.now(),b=l.reduce((W,re)=>W.add(re.key),Gt());let S,P;return m.persistence.runTransaction("Locally write mutations","readwrite",W=>{let re=vs(),Ee=Gt();return m.Zi.getEntries(W,b).next(Le=>{re=Le,re.forEach((Ue,It)=>{It.isValidDocument()||(Ee=Ee.add(Ue))})}).next(()=>m.localDocuments.getOverlayedDocuments(W,re)).next(Le=>{S=Le;const Ue=[];for(const It of l){const Ot=jD(It,S.get(It.key).overlayedDocument);null!=Ot&&Ue.push(new wc(It.key,Ot,ID(Ot.value.mapValue),Xn.exists(!0)))}return m.mutationQueue.addMutationBatch(W,E,Ue,l)}).next(Le=>{P=Le;const Ue=Le.applyToLocalDocumentSet(S,Ee);return m.documentOverlayCache.saveOverlays(W,Le.batchId,Ue)})}).then(()=>({batchId:P.batchId,changes:kD(S)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,l,m){let E=u.Tc[u.currentUser.toKey()];E||(E=new Yn(Ht)),E=E.insert(l,m),u.Tc[u.currentUser.toKey()]=E}(r,o.batchId,t),yield Zl(r,o.changes),yield ov(r.remoteStore)}catch(o){const u=uv(o,"Failed to persist write");t.reject(u)}}),VA.apply(this,arguments)}function DN(n,e){return UA.apply(this,arguments)}function UA(){return UA=(0,ve.Z)(function*(n,e){const t=tt(n);try{const r=yield function q(n,e){const t=tt(n),r=e.snapshotVersion;let o=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const l=t.Zi.newChangeBuffer({trackRemovals:!0});o=t.Ji;const m=[];e.targetChanges.forEach((S,P)=>{const W=o.get(P);if(!W)return;m.push(t.Bs.removeMatchingKeys(u,S.removedDocuments,P).next(()=>t.Bs.addMatchingKeys(u,S.addedDocuments,P)));let re=W.withSequenceNumber(u.currentSequenceNumber);var Ee,Le,Ue;null!==e.targetMismatches.get(P)?re=re.withResumeToken(Kr.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):S.resumeToken.approximateByteSize()>0&&(re=re.withResumeToken(S.resumeToken,r)),o=o.insert(P,re),Le=re,Ue=S,(0===(Ee=W).resumeToken.approximateByteSize()||Le.snapshotVersion.toMicroseconds()-Ee.snapshotVersion.toMicroseconds()>=3e8||Ue.addedDocuments.size+Ue.modifiedDocuments.size+Ue.removedDocuments.size>0)&&m.push(t.Bs.updateTargetData(u,re))});let E=vs(),b=Gt();if(e.documentUpdates.forEach(S=>{e.resolvedLimboDocuments.has(S)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,S))}),m.push(J(u,l,e.documentUpdates).next(S=>{E=S.nr,b=S.sr})),!r.isEqual(Et.min())){const S=t.Bs.getLastRemoteSnapshotVersion(u).next(P=>t.Bs.setTargetsMetadata(u,u.currentSequenceNumber,r));m.push(S)}return oe.waitFor(m).next(()=>l.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,E,b)).next(()=>E)}).then(u=>(t.Ji=o,u))}(t.localStore,e);e.targetChanges.forEach((o,u)=>{const l=t.yc.get(u);l&&(vt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?l.fc=!0:o.modifiedDocuments.size>0?vt(l.fc):o.removedDocuments.size>0&&(vt(l.fc),l.fc=!1))}),yield Zl(t,r,e)}catch(r){yield dc(r)}}),UA.apply(this,arguments)}function CN(n,e,t){const r=tt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.wc.forEach((u,l)=>{const m=l.view.Mu(e);m.snapshot&&o.push(m.snapshot)}),function(u,l){const m=tt(u);m.onlineState=l;let E=!1;m.queries.forEach((b,S)=>{for(const P of S.listeners)P.Mu(l)&&(E=!0)}),E&&RA(m)}(r.eventManager,e),o.length&&r.dc.nu(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function z1(n,e,t){return BA.apply(this,arguments)}function BA(){return BA=(0,ve.Z)(function*(n,e,t){const r=tt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.yc.get(e),u=o&&o.key;if(u){let l=new Yn(Qe.comparator);l=l.insert(u,Jn.newNoDocument(u,Et.min()));const m=Gt().add(u),E=new Rh(Et.min(),new Map,new Yn(Ht),l,m);yield DN(r,E),r.gc=r.gc.remove(u),r.yc.delete(e),qA(r)}else yield Ke(r.localStore,e,!1).then(()=>dv(r,e,t)).catch(dc)}),BA.apply(this,arguments)}function G1(n,e){return $A.apply(this,arguments)}function $A(){return $A=(0,ve.Z)(function*(n,e){const t=tt(n),r=e.batch.batchId;try{const o=yield function x(n,e){const t=tt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),u=t.Zi.newChangeBuffer({trackRemovals:!0});return function(l,m,E,b){const S=E.batch,P=S.keys();let W=oe.resolve();return P.forEach(re=>{W=W.next(()=>b.getEntry(m,re)).next(Ee=>{const Le=E.docVersions.get(re);vt(null!==Le),Ee.version.compareTo(Le)<0&&(S.applyToRemoteDocument(Ee,E),Ee.isValidDocument()&&(Ee.setReadTime(E.commitVersion),b.addEntry(Ee)))})}),W.next(()=>l.mutationQueue.removeMutationBatch(m,S))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let m=Gt();for(let E=0;E<l.mutationResults.length;++E)l.mutationResults[E].transformResults.length>0&&(m=m.add(l.batch.mutations[E].key));return m}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}(t.localStore,e);GA(t,r,null),zA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Zl(t,o)}catch(o){yield dc(o)}}),$A.apply(this,arguments)}function W1(n,e,t){return jA.apply(this,arguments)}function jA(){return jA=(0,ve.Z)(function*(n,e,t){const r=tt(n);try{const o=yield function(u,l){const m=tt(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",E=>{let b;return m.mutationQueue.lookupMutationBatch(E,l).next(S=>(vt(null!==S),b=S.keys(),m.mutationQueue.removeMutationBatch(E,S))).next(()=>m.mutationQueue.performConsistencyCheck(E)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(E,b,l)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(E,b)).next(()=>m.localDocuments.getDocuments(E,b))})}(r.localStore,e);GA(r,e,t),zA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Zl(r,o)}catch(o){yield dc(o)}}),jA.apply(this,arguments)}function HA(){return HA=(0,ve.Z)(function*(n,e){const t=tt(n);Hh(t.remoteStore)||Fe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const l=tt(u);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>l.mutationQueue.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const o=t.Ec.get(r)||[];o.push(e),t.Ec.set(r,o)}catch(r){const o=uv(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),HA.apply(this,arguments)}function zA(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function GA(n,e,t){const r=tt(n);let o=r.Tc[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),r.Tc[r.currentUser.toKey()]=o}}function dv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||bN(n,r)})}function bN(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(yw(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),qA(n))}function WA(n,e,t){for(const r of t)r instanceof wN?(n.Ic.addReference(r.key,e),Z1(n,r)):r instanceof EN?(Fe("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||bN(n,r.key)):st()}function Z1(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(Fe("SyncEngine","New document in limbo: "+t),n.mc.add(r),qA(n))}function qA(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new Qe(an.fromString(e)),r=n.Ac.next();n.yc.set(r,new U1(t)),n.gc=n.gc.insert(t,r),NC(n.remoteStore,new ws(Ji(bh(t.path)),r,"TargetPurposeLimboResolution",$s.ct))}}function Zl(n,e,t){return ZA.apply(this,arguments)}function ZA(){return ZA=(0,ve.Z)(function*(n,e,t){const r=tt(n),o=[],u=[],l=[];var m;r.wc.isEmpty()||(r.wc.forEach((m,E)=>{l.push(r.Rc(E,e,t).then(b=>{if((b||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(E.targetId,b?.fromCache?"not-current":"current"),b){o.push(b);const S=d.Li(E.targetId,b);u.push(S)}}))}),yield Promise.all(l),r.dc.nu(o),yield(m=(0,ve.Z)(function*(E,b){const S=tt(E);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",P=>oe.forEach(b,W=>oe.forEach(W.Fi,re=>S.persistence.referenceDelegate.addReference(P,W.targetId,re)).next(()=>oe.forEach(W.Bi,re=>S.persistence.referenceDelegate.removeReference(P,W.targetId,re)))))}catch(P){if(!hc(P))throw P;Fe("LocalStore","Failed to update sequence numbers: "+P)}for(const P of b){const W=P.targetId;if(!P.fromCache){const re=S.Ji.get(W),Le=re.withLastLimboFreeSnapshotVersion(re.snapshotVersion);S.Ji=S.Ji.insert(W,Le)}}}),function(E,b){return m.apply(this,arguments)})(r.localStore,u))}),ZA.apply(this,arguments)}function K1(n,e){return KA.apply(this,arguments)}function KA(){return KA=(0,ve.Z)(function*(n,e){const t=tt(n);if(!t.currentUser.isEqual(e)){Fe("SyncEngine","User change. New user:",e.toKey());const r=yield D(t.localStore,e);t.currentUser=e,(o=t).Ec.forEach(l=>{l.forEach(m=>{m.reject(new Me(ce.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Zl(t,r.er)}var o}),KA.apply(this,arguments)}function Y1(n,e){const t=tt(n),r=t.yc.get(e);if(r&&r.fc)return Gt().add(r.key);{let o=Gt();const u=t._c.get(e);if(!u)return o;for(const l of u){const m=t.wc.get(l);o=o.unionWith(m.view.nc)}return o}}function Q1(n,e){return YA.apply(this,arguments)}function YA(){return YA=(0,ve.Z)(function*(n,e){const t=tt(n),r=yield De(t.localStore,e.query,!0),o=e.view.hc(r);return t.isPrimaryClient&&WA(t,e.targetId,o.cc),o}),YA.apply(this,arguments)}function J1(n,e){return QA.apply(this,arguments)}function QA(){return QA=(0,ve.Z)(function*(n,e){const t=tt(n);return nn(t.localStore,e).then(r=>Zl(t,r))}),QA.apply(this,arguments)}function X1(n,e,t,r){return JA.apply(this,arguments)}function JA(){return JA=(0,ve.Z)(function*(n,e,t,r){const o=tt(n),u=yield function(l,m){const E=tt(l),b=tt(E.mutationQueue);return E.persistence.runTransaction("Lookup mutation documents","readonly",S=>b.Sn(S,m).next(P=>P?E.localDocuments.getDocuments(S,P):oe.resolve(null)))}(o.localStore,e);var m;null!==u?("pending"===t?yield ov(o.remoteStore):"acknowledged"===t||"rejected"===t?(GA(o,e,r||null),zA(o,e),m=e,tt(tt(o.localStore).mutationQueue).Cn(m)):st(),yield Zl(o,u)):Fe("SyncEngine","Cannot apply mutation batch with id: "+e)}),JA.apply(this,arguments)}function XA(){return XA=(0,ve.Z)(function*(n,e){const t=tt(n);if(rM(t),iM(t),!0===e&&!0!==t.vc){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield TN(t,r.toArray());t.vc=!0,yield bA(t.remoteStore,!0);for(const u of o)NC(t.remoteStore,u)}else if(!1===e&&!1!==t.vc){const r=[];let o=Promise.resolve();t._c.forEach((u,l)=>{t.sharedClientState.isLocalQueryTarget(l)?r.push(l):o=o.then(()=>(dv(t,l),Ke(t.localStore,l,!0))),yw(t.remoteStore,l)}),yield o,yield TN(t,r),function(u){const l=tt(u);l.yc.forEach((m,E)=>{yw(l.remoteStore,E)}),l.Ic.Ts(),l.yc=new Map,l.gc=new Yn(Qe.comparator)}(t),t.vc=!1,yield bA(t.remoteStore,!1)}}),XA.apply(this,arguments)}function TN(n,e,t){return eM.apply(this,arguments)}function eM(){return eM=(0,ve.Z)(function*(n,e,t){const r=tt(n),o=[],u=[];for(const l of e){let m;const E=r._c.get(l);if(E&&0!==E.length){m=yield Oe(r.localStore,Ji(E[0]));for(const b of E){const S=r.wc.get(b),P=yield Q1(r,S);P.snapshot&&u.push(P.snapshot)}}else{const b=yield Ut(r.localStore,l);m=yield Oe(r.localStore,b),yield kA(r,SN(b),l,!1,m.resumeToken)}o.push(m)}return r.dc.nu(u),o}),eM.apply(this,arguments)}function SN(n){return V0(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function tO(n){const e=tt(n);return tt(tt(e.localStore).persistence).$i()}function nO(n,e,t,r){return tM.apply(this,arguments)}function tM(){return tM=(0,ve.Z)(function*(n,e,t,r){const o=tt(n);if(o.vc)return void Fe("SyncEngine","Ignoring unexpected query state notification.");const u=o._c.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const l=yield nn(o.localStore,Ly(u[0])),m=Rh.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Kr.EMPTY_BYTE_STRING);yield Zl(o,l,m);break}case"rejected":yield Ke(o.localStore,e,!0),dv(o,e,r);break;default:st()}}),tM.apply(this,arguments)}function rO(n,e,t){return nM.apply(this,arguments)}function nM(){return nM=(0,ve.Z)(function*(n,e,t){const r=rM(n);if(r.vc){for(const o of e){if(r._c.has(o)){Fe("SyncEngine","Adding an already active target "+o);continue}const u=yield Ut(r.localStore,o),l=yield Oe(r.localStore,u);yield kA(r,SN(u),l.targetId,!1,l.resumeToken),NC(r.remoteStore,l)}for(const o of t)r._c.has(o)&&(yield Ke(r.localStore,o,!1).then(()=>{yw(r.remoteStore,o),dv(r,o)}).catch(dc))}}),nM.apply(this,arguments)}function rM(n){const e=tt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=DN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Y1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=z1.bind(null,e),e.dc.nu=P1.bind(null,e.eventManager),e.dc.Pc=k1.bind(null,e.eventManager),e}function iM(n){const e=tt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=G1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=W1.bind(null,e),e}class vw{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ve.Z)(function*(){t.serializer=gw(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return _(this.persistence,new f,e.initialUser,this.serializer)}createPersistence(e){return new CC(dw.zs,this.serializer)}createSharedClientState(e){return new aN}terminate(){var e=this;return(0,ve.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class sM extends vw{constructor(e,t,r){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,ve.Z)(function*(){yield t().call(r,e),yield r.Vc.initialize(r,e),yield iM(r.Vc.syncEngine),yield ov(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return _(this.persistence,new f,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new _C(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new aS(t,this.persistence);return new nD(e.asyncQueue,r)}createPersistence(e){const t=c(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?di.withCacheSize(this.cacheSizeBytes):di.DEFAULT;return new i(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,cN(),xC(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new aN}}class AN extends sM{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,ve.Z)(function*(){yield t().call(r,e);const o=r.Vc.syncEngine;r.sharedClientState instanceof oA&&(r.sharedClientState.syncEngine={jr:X1.bind(null,o),zr:nO.bind(null,o),Wr:rO.bind(null,o),$i:tO.bind(null,o),Qr:J1.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(){var u=(0,ve.Z)(function*(l){yield function eO(n,e){return XA.apply(this,arguments)}(r.Vc.syncEngine,l),r.gcScheduler&&(l&&!r.gcScheduler.started?r.gcScheduler.start():l||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(l&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():l||r.indexBackfillerScheduler.stop())});return function(l){return u.apply(this,arguments)}}())})()}createSharedClientState(e){const t=cN();if(!oA.D(t))throw new Me(ce.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=c(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new oA(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class hv{initialize(e,t){var r=this;return(0,ve.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>CN(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=K1.bind(null,r.syncEngine),yield bA(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new O1}createDatastore(e){const t=gw(e.databaseInfo.databaseId),r=new m1(e.databaseInfo);return new _1(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,u=m=>CN(this.syncEngine,m,0),l=uN.D()?new uN:new f1,new I1(t,r,o,u,l);var t,r,o,u,l}createSyncEngine(e,t){return function(r,o,u,l,m,E,b){const S=new B1(r,o,u,l,m,E);return b&&(S.vc=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ve.Z)(function*(t){const r=tt(t);Fe("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield sv(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function MN(n,e=10240){let t=0;return{read:()=>(0,ve.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,ve.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class OC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Ir("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class oO{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new ci,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,ve.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,ve.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,ve.Z)(function*(){const t=yield e.kc();if(null===t)return null;const r=e.xc.decode(t),o=Number(r);isNaN(o)&&e.Mc(`length string (${r}) is not valid number`);const u=yield e.$c(o);return new F1(JSON.parse(u),t.length+o)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,ve.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}$c(e){var t=this;return(0,ve.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const r=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,ve.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class aO{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ve.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Me(ce.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,ve.Z)(function*(u,l){const m=tt(u),E=kh(m.serializer)+"/documents",b={documents:l.map(re=>Ph(m.serializer,re))},S=yield m.vo("BatchGetDocuments",E,b,l.length),P=new Map;S.forEach(re=>{const Ee=function Kx(n,e){return"found"in e?function(t,r){vt(!!r.found);const o=Ma(t,r.found.name),u=br(r.found.updateTime),l=r.found.createTime?br(r.found.createTime):Et.min(),m=new Yr({mapValue:{fields:r.found.fields}});return Jn.newFoundDocument(o,u,l,m)}(n,e):"missing"in e?function(t,r){vt(!!r.missing),vt(!!r.readTime);const o=Ma(t,r.missing),u=br(r.readTime);return Jn.newNoDocument(o,u)}(n,e):st()}(m.serializer,re);P.set(Ee.key.toString(),Ee)});const W=[];return l.forEach(re=>{const Ee=P.get(re.toString());vt(!!Ee),W.push(Ee)}),W}),function(u,l){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Fp(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ve.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const u=Qe.fromPath(o);e.mutations.push(new HD(u,e.precondition(u)))}),yield(r=(0,ve.Z)(function*(o,u){const l=tt(o),m=kh(l.serializer)+"/documents",E={writes:u.map(b=>Bp(l.serializer,b))};yield l.Io("Commit",m,E)}),function(o,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw st();t=Et.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Me(ce.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Et.min())?Xn.exists(!1):Xn.updateTime(t):Xn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Et.min()))throw new Me(ce.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Xn.updateTime(t)}return Xn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class uO{constructor(e,t,r,o,u){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=o,this.deferred=u,this.Bc=r.maxAttempts,this.qo=new uA(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,ve.Z)(function*(){const t=new aO(e.datastore),r=e.qc(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(u=>{e.Uc(u)}))}).catch(o=>{e.Uc(o)})}))}qc(e){try{const t=this.updateFunction(e);return!Cp(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!MS(t)}return!1}}class cO{constructor(e,t,r,o){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=ui.UNAUTHENTICATED,this.clientId=ZI.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,ve.Z)(function*(m){Fe("FirestoreClient","Received user=",m.uid),yield u.authCredentialListener(m),u.user=m});return function(m){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(Fe("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,ve.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Me(ce.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=uv(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function PC(n,e){return oM.apply(this,arguments)}function oM(){return oM=(0,ve.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Fe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,ve.Z)(function*(u){r.isEqual(u)||(yield D(e.localStore,u),r=u)});return function(u){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),oM.apply(this,arguments)}function aM(n,e){return uM.apply(this,arguments)}function uM(){return uM=(0,ve.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield cM(n);Fe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>mN(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,u)=>mN(e.remoteStore,u)),n._onlineComponents=e}),uM.apply(this,arguments)}function xN(n){return"FirebaseError"===n.name?n.code===ce.FAILED_PRECONDITION||n.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function cM(n){return lM.apply(this,arguments)}function lM(){return lM=(0,ve.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Fe("FirestoreClient","Using user provided OfflineComponentProvider");try{yield PC(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!xN(t))throw t;Us("Error using user provided cache. Falling back to memory cache: "+t),yield PC(n,new vw)}}else Fe("FirestoreClient","Using default OfflineComponentProvider"),yield PC(n,new vw);return n._offlineComponents}),lM.apply(this,arguments)}function kC(n){return dM.apply(this,arguments)}function dM(){return dM=(0,ve.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Fe("FirestoreClient","Using user provided OnlineComponentProvider"),yield aM(n,n._uninitializedComponentsProvider._online)):(Fe("FirestoreClient","Using default OnlineComponentProvider"),yield aM(n,new hv))),n._onlineComponents}),dM.apply(this,arguments)}function NN(n){return cM(n).then(e=>e.persistence)}function FC(n){return cM(n).then(e=>e.localStore)}function RN(n){return kC(n).then(e=>e.remoteStore)}function hM(n){return kC(n).then(e=>e.syncEngine)}function fv(n){return fM.apply(this,arguments)}function fM(){return fM=(0,ve.Z)(function*(n){const e=yield kC(n),t=e.eventManager;return t.onListen=$1.bind(null,e.syncEngine),t.onUnlisten=j1.bind(null,e.syncEngine),t}),fM.apply(this,arguments)}function PN(n,e,t={}){const r=new ci;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(o,u,l,m,E){const b=new OC({next:P=>{u.enqueueAndForget(()=>xA(o,S));const W=P.docs.has(l);!W&&P.fromCache?E.reject(new Me(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):W&&P.fromCache&&m&&"server"===m.source?E.reject(new Me(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):E.resolve(P)},error:P=>E.reject(P)}),S=new OA(bh(l.path),b,{includeMetadataChanges:!0,Ku:!0});return AA(o,S)}(yield fv(n),n.asyncQueue,e,t,r)})),r.promise}function kN(n,e,t={}){const r=new ci;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(o,u,l,m,E){const b=new OC({next:P=>{u.enqueueAndForget(()=>xA(o,S)),P.fromCache&&"server"===m.source?E.reject(new Me(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(P)},error:P=>E.reject(P)}),S=new OA(l,b,{includeMetadataChanges:!0,Ku:!0});return AA(o,S)}(yield fv(n),n.asyncQueue,e,t,r)})),r.promise}function FN(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const LN=new Map;function pM(n,e,t){if(!t)throw new Me(ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function VN(n,e,t,r){if(!0===e&&!0===r)throw new Me(ce.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function UN(n){if(!Qe.isDocumentKey(n))throw new Me(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function BN(n){if(Qe.isDocumentKey(n))throw new Me(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function LC(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":st()}function cn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Me(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=LC(n);throw new Me(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function $N(n,e){if(e<=0)throw new Me(ce.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class jN{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Me(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Me(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}VN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=FN(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new Me(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Me(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Me(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _w{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jN({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Me(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Me(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jN(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new WI;switch(t.type){case"firstParty":return new qI(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Me(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=LN.get(e);t&&(Fe("ComponentProvider","Removing Datastore"),LN.delete(e),t.terminate())}(this),Promise.resolve()}}function HN(n,e,t,r={}){var o;const u=(n=cn(n,_w))._getSettings(),l=`${e}:${t}`;if("firestore.googleapis.com"!==u.host&&u.host!==l&&Us("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},u),{host:l,ssl:!1})),r.mockUserToken){let m,E;if("string"==typeof r.mockUserToken)m=r.mockUserToken,E=ui.MOCK_USER;else{m=(0,fn.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new Me(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new ui(b)}n._authCredentials=new gy(new tS(m,E))}}class gr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gr(this.firestore,e,this._key)}}class es{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new es(this.firestore,e,this._query)}}class Cc extends es{constructor(e,t,r){super(e,t,bh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gr(this.firestore,null,new Qe(e))}withConverter(e){return new Cc(this.firestore,e,this._path)}}function zN(n,e,...t){if(n=(0,fn.m9)(n),pM("collection","path",e),n instanceof _w){const r=an.fromString(e,...t);return BN(r),new Cc(n,null,r)}{if(!(n instanceof gr||n instanceof Cc))throw new Me(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(an.fromString(e,...t));return BN(r),new Cc(n.firestore,null,r)}}function VC(n,e,...t){if(n=(0,fn.m9)(n),1===arguments.length&&(e=ZI.A()),pM("doc","path",e),n instanceof _w){const r=an.fromString(e,...t);return UN(r),new gr(n,null,new Qe(r))}{if(!(n instanceof gr||n instanceof Cc))throw new Me(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(an.fromString(e,...t));return UN(r),new gr(n.firestore,n instanceof Cc?n.converter:null,new Qe(r))}}function GN(n,e){return n=(0,fn.m9)(n),e=(0,fn.m9)(e),(n instanceof gr||n instanceof Cc)&&(e instanceof gr||e instanceof Cc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function gM(n,e){return n=(0,fn.m9)(n),e=(0,fn.m9)(e),n instanceof es&&e instanceof es&&n.firestore===e.firestore&&Th(n._query,e._query)&&n.converter===e.converter}class _O{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new uA(this,"async_queue_retry"),this.Xc=()=>{const t=xC();t&&Fe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=xC();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=xC();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new ci;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,ve.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!hc(t))throw t;Fe("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Ir("INTERNAL UNHANDLED ERROR: ",function(u){let l=u.message||"";return u.stack&&(l=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),l}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const o=SA.createAndSchedule(this,e,t,r,u=>this.na(u));return this.zc.push(o),o}Zc(){this.Wc&&st()}verifyOperationInProgress(){}sa(){var e=this;return(0,ve.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function mM(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class wO{constructor(){this._progressObserver={},this._taskCompletionResolver=new ci,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class mr extends _w{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new _O,this._persistenceKey=o?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||WN(this),this._firestoreClient.terminate()}}function IO(n,e){const t="object"==typeof n?n:(0,ru.getApp)(),r="string"==typeof n?n:e||"(default)",o=(0,ru._getProvider)(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=(0,fn.P0)("firestore");u&&HN(o,...u)}return o}function Qr(n){return n._firestoreClient||WN(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function WN(n){var e,t,r;const o=n._freezeSettings(),u=(m=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new mD(n._databaseId,m,n._persistenceKey,(b=o).host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,FN(b.experimentalLongPollingOptions),b.useFetchStreams));var m,b;n._firestoreClient=new cO(n._authCredentials,n._appCheckCredentials,n._queue,u),null!==(t=o.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=o.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:o.cache.kind,_offline:o.cache._offlineComponentProvider,_online:o.cache._onlineComponentProvider})}function qN(n,e,t){const r=new ci;return n.asyncQueue.enqueue((0,ve.Z)(function*(){try{yield PC(n,t),yield aM(n,e),r.resolve()}catch(o){const u=o;if(!xN(u))throw u;Us("Error enabling indexeddb cache. Falling back to memory cache: "+u),r.reject(u)}})).then(()=>r.promise)}function ZN(n){if(n._initialized||n._terminated)throw new Me(ce.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class bc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bc(Kr.fromBase64String(e))}catch(t){throw new Me(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new bc(Kr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Kl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Me(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class eg{constructor(e){this._methodName=e}}class UC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Me(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Me(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ht(this._lat,e._lat)||Ht(this._long,e._long)}}const RO=/^__.*__$/;class OO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new wc(e,this.data,this.fieldMask,t,this.fieldTransforms):new kp(e,this.data,t,this.fieldTransforms)}}class KN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new wc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function YN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw st()}}class BC{constructor(e,t,r,o,u,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,void 0===u&&this.ua(),this.fieldTransforms=u||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new BC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.aa({path:r,la:!1});return o.fa(e),o}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.aa({path:r,la:!1});return o.ua(),o}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return HC(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(YN(this.ca)&&RO.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class PO{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||gw(e)}ya(e,t,r,o=!1){return new BC({ca:e,methodName:t,ga:r,path:Dr.emptyPath(),la:!1,ma:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tg(n){const e=n._freezeSettings(),t=gw(n._databaseId);return new PO(n._databaseId,!!e.ignoreUndefinedProperties,t)}function $C(n,e,t,r,o,u={}){const l=n.ya(u.merge||u.mergeFields?2:0,e,t,o);wM("Data must be an object, but it was:",l,r);const m=XN(r,l);let E,b;if(u.merge)E=new ys(l.fieldMask),b=l.fieldTransforms;else if(u.mergeFields){const S=[];for(const P of u.mergeFields){const W=Iw(e,P,t);if(!l.contains(W))throw new Me(ce.INVALID_ARGUMENT,`Field '${W}' is specified in your field mask but missing from your input data.`);tR(S,W)||S.push(W)}E=new ys(S),b=l.fieldTransforms.filter(P=>E.covers(P.field))}else E=null,b=l.fieldTransforms;return new OO(new Yr(m),E,b)}class Ew extends eg{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ew}}function QN(n,e,t){return new BC({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class yM extends eg{_toFieldTransform(e){return new xh(e.path,new Mh)}isEqual(e){return e instanceof yM}}class kO extends eg{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=QN(this,e,!0),r=this.pa.map(u=>ng(u,t)),o=new _c(r);return new xh(e.path,o)}isEqual(e){return this===e}}class FO extends eg{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=QN(this,e,!0),r=this.pa.map(u=>ng(u,t)),o=new Hl(r);return new xh(e.path,o)}isEqual(e){return this===e}}class LO extends eg{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new zl(e.serializer,wS(e.serializer,this.Ia));return new xh(e.path,t)}isEqual(e){return this===e}}function vM(n,e,t,r){const o=n.ya(1,e,t);wM("Data must be an object, but it was:",o,r);const u=[],l=Yr.empty();pc(r,(E,b)=>{const S=jC(e,E,t);b=(0,fn.m9)(b);const P=o.da(S);if(b instanceof Ew)u.push(S);else{const W=ng(b,P);null!=W&&(u.push(S),l.set(S,W))}});const m=new ys(u);return new KN(l,m,o.fieldTransforms)}function _M(n,e,t,r,o,u){const l=n.ya(1,e,t),m=[Iw(e,r,t)],E=[o];if(u.length%2!=0)throw new Me(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let W=0;W<u.length;W+=2)m.push(Iw(e,u[W])),E.push(u[W+1]);const b=[],S=Yr.empty();for(let W=m.length-1;W>=0;--W)if(!tR(b,m[W])){const re=m[W];let Ee=E[W];Ee=(0,fn.m9)(Ee);const Le=l.da(re);if(Ee instanceof Ew)b.push(re);else{const Ue=ng(Ee,Le);null!=Ue&&(b.push(re),S.set(re,Ue))}}const P=new ys(b);return new KN(S,P,l.fieldTransforms)}function JN(n,e,t,r=!1){return ng(t,n.ya(r?4:3,e))}function ng(n,e){if(eR(n=(0,fn.m9)(n)))return wM("Unsupported field value:",e,n),XN(n,e);if(n instanceof eg)return function(t,r){if(!YN(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const o=[];let u=0;for(const l of t){let m=ng(l,r.wa(u));null==m&&(m={nullValue:"NULL_VALUE"}),o.push(m),u++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,fn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return wS(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=sr.fromDate(t);return{timestampValue:Oh(r.serializer,o)}}if(t instanceof sr){const o=new sr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Oh(r.serializer,o)}}if(t instanceof UC)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof bc)return{bytesValue:K0(r.serializer,t._byteString)};if(t instanceof gr){const o=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(o))throw r._a(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Zy(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${LC(t)}`)}(n,e)}function XN(n,e){const t={};return fD(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pc(n,(r,o)=>{const u=ng(o,e.ha(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function eR(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof sr||n instanceof UC||n instanceof bc||n instanceof gr||n instanceof eg)}function wM(n,e,t){if(!eR(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=LC(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function Iw(n,e,t){if((e=(0,fn.m9)(e))instanceof Kl)return e._internalPath;if("string"==typeof e)return jC(n,e);throw HC("Field path arguments must be of type string or ",n,!1,void 0,t)}const VO=new RegExp("[~\\*/\\[\\]]");function jC(n,e,t){if(e.search(VO)>=0)throw HC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Kl(...e.split("."))._internalPath}catch{throw HC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function HC(n,e,t,r,o){const u=r&&!r.isEmpty(),l=void 0!==o;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let E="";return(u||l)&&(E+=" (found",u&&(E+=` in field ${r}`),l&&(E+=` in document ${o}`),E+=")"),new Me(ce.INVALID_ARGUMENT,m+n+E)}function tR(n,e){return n.some(t=>t.isEqual(e))}class Dw{constructor(e,t,r,o,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new gr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new UO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(zC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class UO extends Dw{data(){return super.data()}}function zC(n,e){return"string"==typeof e?jC(n,e):e instanceof Kl?e._internalPath:e._delegate._internalPath}function nR(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Me(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class EM{}class Cw extends EM{}function Gh(n,e,...t){let r=[];e instanceof EM&&r.push(e),r=r.concat(t),function(o){const u=o.filter(m=>m instanceof pv).length,l=o.filter(m=>m instanceof bw).length;if(u>1||u>0&&l>0)throw new Me(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)n=o._apply(n);return n}class bw extends Cw{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new bw(e,t,r)}_apply(e){const t=this._parse(e);return oR(e._query,t),new es(e.firestore,e.converter,RD(e._query,t))}_parse(e){const t=tg(e.firestore);return function(o,u,l,m,E,b,S){let P;if(E.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new Me(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){sR(S,b);const W=[];for(const re of S)W.push(iR(m,o,re));P={arrayValue:{values:W}}}else P=iR(m,o,S)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||sR(S,b),P=JN(l,"where",S,"in"===b||"not-in"===b);return rn.create(E,b,P)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class pv extends EM{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new pv(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:bn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,o){let u=r;const l=o.getFlattenedFilters();for(const m of l)oR(u,m),u=RD(u,m)}(e._query,t),new es(e.firestore,e.converter,RD(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class IM extends Cw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new IM(e,t)}_apply(e){const t=function(r,o,u){if(null!==r.startAt)throw new Me(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Me(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new Ul(o,u);return function(m,E){if(null===B0(m)){const b=li(m);null!==b&&aR(0,b,E.field)}}(r,l),l}(e._query,this._field,this._direction);return new es(e.firestore,e.converter,function(r,o){const u=r.explicitOrderBy.concat([o]);return new Aa(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class GC extends Cw{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new GC(e,t,r)}_apply(e){return new es(e.firestore,e.converter,$0(e._query,this._limit,this._limitType))}}class WC extends Cw{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new WC(e,t,r)}_apply(e){const t=rR(e,this.type,this._docOrFields,this._inclusive);return new es(e.firestore,e.converter,(o=t,new Aa((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class qC extends Cw{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new qC(e,t,r)}_apply(e){const t=rR(e,this.type,this._docOrFields,this._inclusive);return new es(e.firestore,e.converter,(o=t,new Aa((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function rR(n,e,t,r){if(t[0]=(0,fn.m9)(t[0]),t[0]instanceof Dw)return function(o,u,l,m,E){if(!m)throw new Me(ce.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const b=[];for(const S of $l(o))if(S.field.isKeyField())b.push(uu(u,m.key));else{const P=m.data.field(S.field);if(bp(P))throw new Me(ce.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===P){const W=S.field.canonicalString();throw new Me(ce.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${W}' (used as the orderBy) does not exist.`)}b.push(P)}return new cu(b,E)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=tg(n.firestore);return function(u,l,m,E,b,S){const P=u.explicitOrderBy;if(b.length>P.length)throw new Me(ce.INVALID_ARGUMENT,`Too many arguments provided to ${E}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const W=[];for(let re=0;re<b.length;re++){const Ee=b[re];if(P[re].field.isKeyField()){if("string"!=typeof Ee)throw new Me(ce.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${E}(), but got a ${typeof Ee}`);if(!vc(u)&&-1!==Ee.indexOf("/"))throw new Me(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${E}() must be a plain document ID, but '${Ee}' contains a slash.`);const Le=u.path.child(an.fromString(Ee));if(!Qe.isDocumentKey(Le))throw new Me(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${E}() must result in a valid document path, but '${Le}' is not because it contains an odd number of segments.`);const Ue=new Qe(Le);W.push(uu(l,Ue))}else{const Le=JN(m,E,Ee);W.push(Le)}}return new cu(W,S)}(n._query,n.firestore._databaseId,o,e,t,r)}}function iR(n,e,t){if("string"==typeof(t=(0,fn.m9)(t))){if(""===t)throw new Me(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vc(e)&&-1!==t.indexOf("/"))throw new Me(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(an.fromString(t));if(!Qe.isDocumentKey(r))throw new Me(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return uu(n,new Qe(r))}if(t instanceof gr)return uu(n,t._key);throw new Me(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${LC(t)}.`)}function sR(n,e){if(!Array.isArray(n)||0===n.length)throw new Me(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function oR(n,e){if(e.isInequality()){const r=li(n),o=e.field;if(null!==r&&!r.isEqual(o))throw new Me(ce.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${o.toString()}'`);const u=B0(n);null!==u&&aR(0,o,u)}const t=function(r,o){for(const u of r)for(const l of u.getFlattenedFilters())if(o.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Me(ce.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function aR(n,e,t){if(!t.isEqual(e))throw new Me(ce.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class DM{convertValue(e,t="none"){switch(Ll(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Cr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(js(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw st()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return pc(e,(o,u)=>{r[o]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new UC(Cr(e.latitude),Cr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Tp(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Eh(e));default:return null}}convertTimestamp(e){const t=gc(e);return new sr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=an.fromString(e);vt(J0(r));const o=new au(r.get(1),r.get(3)),u=new Qe(r.popFirst(5));return o.isEqual(t)||Ir(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function ZC(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class ZO extends DM{constructor(e){super(),this.firestore=e}convertBytes(e){return new bc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new gr(this.firestore,null,t)}}class rg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Yl extends Dw{constructor(e,t,r,o,u,l){super(e,t,r,o,l),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Tw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(zC("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Tw extends Yl{data(e={}){return super.data(e)}}class Wh{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new rg(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Tw(this._firestore,this._userDataWriter,r.key,r,new rg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Me(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new Tw(r._firestore,r._userDataWriter,l.doc.key,l.doc,new rg(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>o||3!==l.type).map(l=>{const m=new Tw(r._firestore,r._userDataWriter,l.doc.key,l.doc,new rg(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let E=-1,b=-1;return 0!==l.type&&(E=u.indexOf(l.doc.key),u=u.delete(l.doc.key)),1!==l.type&&(u=u.add(l.doc),b=u.indexOf(l.doc.key)),{type:YO(l.type),doc:m,oldIndex:E,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function YO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return st()}}function cR(n,e){return n instanceof Yl&&e instanceof Yl?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Wh&&e instanceof Wh&&n._firestore===e._firestore&&gM(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class qh extends DM{constructor(e){super(),this.firestore=e}convertBytes(e){return new bc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new gr(this.firestore,null,t)}}function lR(n,e,t){n=cn(n,gr);const r=cn(n.firestore,mr),o=ZC(n.converter,e,t);return gv(r,[$C(tg(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,Xn.none())])}function dR(n,e,t,...r){n=cn(n,gr);const o=cn(n.firestore,mr),u=tg(o);let l;return l="string"==typeof(e=(0,fn.m9)(e))||e instanceof Kl?_M(u,"updateDoc",n._key,e,t,r):vM(u,"updateDoc",n._key,e),gv(o,[l.toMutation(n._key,Xn.exists(!0))])}function hR(n,...e){var t,r,o;n=(0,fn.m9)(n);let u={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||mM(e[l])||(u=e[l],l++);const m={includeMetadataChanges:u.includeMetadataChanges};if(mM(e[l])){const P=e[l];e[l]=null===(t=P.next)||void 0===t?void 0:t.bind(P),e[l+1]=null===(r=P.error)||void 0===r?void 0:r.bind(P),e[l+2]=null===(o=P.complete)||void 0===o?void 0:o.bind(P)}let E,b,S;if(n instanceof gr)b=cn(n.firestore,mr),S=bh(n._key.path),E={next:P=>{e[l]&&e[l](CM(b,n,P))},error:e[l+1],complete:e[l+2]};else{const P=cn(n,es);b=cn(P.firestore,mr),S=P._query;const W=new qh(b);E={next:re=>{e[l]&&e[l](new Wh(b,W,P,re))},error:e[l+1],complete:e[l+2]},nR(n._query)}return function(P,W,re,Ee){const Le=new OC(Ee),Ue=new OA(W,Le,re);return P.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return AA(yield fv(P),Ue)})),()=>{Le.Dc(),P.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return xA(yield fv(P),Ue)}))}}(Qr(b),S,m,E)}function gv(n,e){return function(t,r){const o=new ci;return t.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function H1(n,e,t){return VA.apply(this,arguments)}(yield hM(t),r,o)})),o.promise}(Qr(n),e)}function CM(n,e,t){const r=t.docs.get(e._key),o=new qh(n);return new Yl(n,o,e._key,r,new rg(t.hasPendingWrites,t.fromCache),e.converter)}const pP={maxAttempts:5};class fR{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=tg(e)}set(e,t,r){this._verifyNotCommitted();const o=Zh(e,this._firestore),u=ZC(o.converter,t,r),l=$C(this._dataReader,"WriteBatch.set",o._key,u,null!==o.converter,r);return this._mutations.push(l.toMutation(o._key,Xn.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const u=Zh(e,this._firestore);let l;return l="string"==typeof(t=(0,fn.m9)(t))||t instanceof Kl?_M(this._dataReader,"WriteBatch.update",u._key,t,r,o):vM(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(l.toMutation(u._key,Xn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Zh(e,this._firestore);return this._mutations=this._mutations.concat(new Fp(t._key,Xn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Me(ce.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Zh(n,e){if((n=(0,fn.m9)(n)).firestore!==e)throw new Me(ce.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class gP extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=tg(e)}get(e){const t=Zh(e,this._firestore),r=new ZO(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return st();const u=o[0];if(u.isFoundDocument())return new Dw(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new Dw(this._firestore,r,t._key,null,t.converter);throw st()})}set(e,t,r){const o=Zh(e,this._firestore),u=ZC(o.converter,t,r),l=$C(this._dataReader,"Transaction.set",o._key,u,null!==o.converter,r);return this._transaction.set(o._key,l),this}update(e,t,r,...o){const u=Zh(e,this._firestore);let l;return l="string"==typeof(t=(0,fn.m9)(t))||t instanceof Kl?_M(this._dataReader,"Transaction.update",u._key,t,r,o):vM(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,l),this}delete(e){const t=Zh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Zh(e,this._firestore),r=new qh(this._firestore);return super.get(e).then(o=>new Yl(this._firestore,r,t._key,o._document,new rg(!1,!1),t.converter))}}function bM(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Me("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function gR(){if(typeof Uint8Array>"u")throw new Me("unimplemented","Uint8Arrays are not available in this environment.")}function mR(){if(!function fS(){return typeof atob<"u"}())throw new Me("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){ba=ru.SDK_VERSION,(0,ru._registerComponent)(new Sm.wA("firestore",(t,{instanceIdentifier:r,options:o})=>{const u=t.getProvider("app").getImmediate(),l=new mr(new nS(t.getProvider("auth-internal")),new iS(t.getProvider("app-check-internal")),function(m,E){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Me(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new au(m.options.projectId,E)}(u,r),u);return o=Object.assign({useFetchStreams:e},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),(0,ru.registerVersion)(_0,"3.13.0",n),(0,ru.registerVersion)(_0,"3.13.0","esm2017")}();class Sw{constructor(e){this._delegate=e}static fromBase64String(e){return mR(),new Sw(bc.fromBase64String(e))}static fromUint8Array(e){return gR(),new Sw(bc.fromUint8Array(e))}toBase64(){return mR(),this._delegate.toBase64()}toUint8Array(){return gR(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function TM(n){return function CP(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class bP{enableIndexedDbPersistence(e,t){return function DO(n,e){ZN(n=cn(n,mr));const t=Qr(n);if(t._uninitializedComponentsProvider)throw new Me(ce.FAILED_PRECONDITION,"SDK cache is already specified.");Us("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),o=new hv;return qN(t,o,new sM(o,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function CO(n){ZN(n=cn(n,mr));const e=Qr(n);if(e._uninitializedComponentsProvider)throw new Me(ce.FAILED_PRECONDITION,"SDK cache is already specified.");Us("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new hv;return qN(e,r,new AN(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function bO(n){if(n._initialized&&!n._terminated)throw new Me(ce.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ci;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{yield(t=(0,ve.Z)(function*(r){if(!zo.D())return Promise.resolve();const o=r+"main";yield zo.delete(o)}),function(r){return t.apply(this,arguments)})(c(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class yR{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof au||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Us("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){HN(this._delegate,e,t,r)}enableNetwork(){return function SO(n){return function lO(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const e=yield NN(n),t=yield RN(n);return e.setNetworkEnabled(!0),function(r){const o=tt(r);return o.vu.delete(0),mw(o)}(t)}))}(Qr(n=cn(n,mr)))}(this._delegate)}disableNetwork(){return function AO(n){return function dO(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const e=yield NN(n),t=yield RN(n);return e.setNetworkEnabled(!1),(r=(0,ve.Z)(function*(o){const u=tt(o);u.vu.add(0),yield sv(u),u.bu.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(Qr(n=cn(n,mr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,VN("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function TO(n){return function(e){const t=new ci;return e.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function q1(n,e){return HA.apply(this,arguments)}(yield hM(e),t)})),t.promise}(Qr(n=cn(n,mr)))}(this._delegate)}onSnapshotsInSync(e){return function sP(n,e){return function pO(n,e){const t=new OC(e);return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return r=yield fv(n),o=t,tt(r).ku.add(o),void o.next();var r,o})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return r=yield fv(n),o=t,void tt(r).ku.delete(o);var r,o}))}}(Qr(n=cn(n,mr)),mM(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Me("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new mv(this,zN(this._delegate,e))}catch(t){throw zs(t,"collection()","Firestore.collection()")}}doc(e){try{return new xa(this,VC(this._delegate,e))}catch(t){throw zs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Gs(this,function vO(n,e){if(n=cn(n,_w),pM("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Me(ce.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new es(n,null,(t=e,new Aa(an.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw zs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function mP(n,e,t){n=cn(n,mr);const r=Object.assign(Object.assign({},pP),t);return function(o){if(o.maxAttempts<1)throw new Me(ce.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,u,l){const m=new ci;return o.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){const E=yield function ON(n){return kC(n).then(e=>e.datastore)}(o);new uO(o.asyncQueue,E,l,u,m).run()})),m.promise}(Qr(n),o=>e(new gP(n,o)),r)}(this._delegate,t=>e(new vR(this,t)))}batch(){return Qr(this._delegate),new _R(new fR(this._delegate,e=>gv(this._delegate,e)))}loadBundle(e){return function MO(n,e){const t=Qr(n=cn(n,mr)),r=new wO;return function gO(n,e,t,r){const o=function(u,l){let m;return m="string"==typeof u?qD().encode(u):u,E=function(E,b){if(E instanceof Uint8Array)return MN(E,b);if(E instanceof ArrayBuffer)return MN(new Uint8Array(E),b);if(E instanceof ReadableStream)return E.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new oO(E,l);var E}(t,gw(e));n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){!function iO(n,e,t){const r=tt(n);var o;(o=(0,ve.Z)(function*(u,l,m){try{const E=yield l.getMetadata();if(yield function(W,re){const Ee=tt(W),Le=br(re.createTime);return Ee.persistence.runTransaction("hasNewerBundle","readonly",Ue=>Ee.qs.getBundleMetadata(Ue,re.id)).then(Ue=>!!Ue&&Ue.createTime.compareTo(Le)>=0)}(u.localStore,E))return yield l.close(),m._completeWith({taskState:"Success",documentsLoaded:(W=E).totalDocuments,bytesLoaded:W.totalBytes,totalDocuments:W.totalDocuments,totalBytes:W.totalBytes}),Promise.resolve(new Set);m._updateProgress(_N(E));const b=new L1(E,u.localStore,l.serializer);let S=yield l.bc();for(;S;){const W=yield b.zu(S);W&&m._updateProgress(W),S=yield l.bc()}const P=yield b.complete();return yield Zl(u,P.Ju,void 0),yield function(W,re){const Ee=tt(W);return Ee.persistence.runTransaction("Save bundle","readwrite",Le=>Ee.qs.saveBundleMetadata(Le,re))}(u.localStore,E),m._completeWith(P.progress),Promise.resolve(P.Hu)}catch(E){return Us("SyncEngine",`Loading bundle failed with ${E}`),m._failWith(E),Promise.resolve(new Set)}var W}),function(u,l,m){return o.apply(this,arguments)})(r,e,t).then(o=>{r.sharedClientState.notifyBundleLoaded(o)})}(yield hM(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function xO(n,e){return function mO(n,e){return n.asyncQueue.enqueue((0,ve.Z)(function*(){return function(t,r){const o=tt(t);return o.persistence.runTransaction("Get named query","readonly",u=>o.qs.getNamedQuery(u,r))}(yield FC(n),e)}))}(Qr(n=cn(n,mr)),e).then(t=>t?new es(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Gs(this,t):null)}}class KC extends DM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sw(new bc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return xa.forKey(t,this.firestore,null)}}class vR{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new KC(e)}get(e){const t=sg(e);return this._delegate.get(t).then(r=>new Aw(this._firestore,new Yl(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=sg(e);return r?(bM("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=sg(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=sg(e);return this._delegate.delete(t),this}}class _R{constructor(e){this._delegate=e}set(e,t,r){const o=sg(e);return r?(bM("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=sg(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=sg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class ig{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Tw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Mw(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=ig.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let u=o.get(t);return u||(u=new ig(e,new KC(e),t),o.set(t,u)),u}}ig.INSTANCES=new WeakMap;class xa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new KC(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Me("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new xa(t,new gr(t._delegate,r,new Qe(e)))}static forKey(e,t,r){return new xa(t,new gr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new mv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new mv(this.firestore,zN(this._delegate,e))}catch(t){throw zs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,fn.m9)(e))instanceof gr&&GN(this._delegate,e)}set(e,t){t=bM("DocumentReference.set",t);try{return t?lR(this._delegate,e,t):lR(this._delegate,e)}catch(r){throw zs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?dR(this._delegate,e):dR(this._delegate,e,t,...r)}catch(o){throw zs(o,"updateDoc()","DocumentReference.update()")}}delete(){return function rP(n){return gv(cn(n.firestore,mr),[new Fp(n._key,Xn.none())])}(this._delegate)}onSnapshot(...e){const t=wR(e),r=ER(e,o=>new Aw(this.firestore,new Yl(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return hR(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function JO(n){n=cn(n,gr);const e=cn(n.firestore,mr),t=Qr(e),r=new qh(e);return function hO(n,e){const t=new ci;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(r=(0,ve.Z)(function*(o,u,l){try{const m=yield function(E,b){const S=tt(E);return S.persistence.runTransaction("read document","readonly",P=>S.localDocuments.getDocument(P,b))}(o,u);m.isFoundDocument()?l.resolve(m):m.isNoDocument()?l.resolve(null):l.reject(new Me(ce.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const E=uv(m,`Failed to get document '${u} from cache`);l.reject(E)}}),function(o,u,l){return r.apply(this,arguments)})(yield FC(n),e,t);var r})),t.promise}(t,n._key).then(o=>new Yl(e,r,n._key,o,new rg(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function XO(n){n=cn(n,gr);const e=cn(n.firestore,mr);return PN(Qr(e),n._key,{source:"server"}).then(t=>CM(e,n,t))}(this._delegate):function QO(n){n=cn(n,gr);const e=cn(n.firestore,mr);return PN(Qr(e),n._key).then(t=>CM(e,n,t))}(this._delegate),t.then(r=>new Aw(this.firestore,new Yl(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new xa(this.firestore,this._delegate.withConverter(e?ig.getInstance(this.firestore,e):null))}}function zs(n,e,t){return n.message=n.message.replace(e,t),n}function wR(n){for(const e of n)if("object"==typeof e&&!TM(e))return e;return{}}function ER(n,e){var t,r;let o;return o=TM(n[0])?n[0]:TM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{o.next&&o.next(e(u))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class Aw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new xa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return cR(this._delegate,e._delegate)}}class Mw extends Aw{data(e){const t=this._delegate.data(e);return function eS(n,e){n||st()}(void 0!==t),t}}class Gs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new KC(e)}where(e,t,r){try{return new Gs(this.firestore,Gh(this._delegate,function BO(n,e,t){const r=e,o=zC("where",n);return bw._create(o,r,t)}(e,t,r)))}catch(o){throw zs(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Gs(this.firestore,Gh(this._delegate,function $O(n,e="asc"){const t=e,r=zC("orderBy",n);return IM._create(r,t)}(e,t)))}catch(r){throw zs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Gs(this.firestore,Gh(this._delegate,function jO(n){return $N("limit",n),GC._create("limit",n,"F")}(e)))}catch(t){throw zs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Gs(this.firestore,Gh(this._delegate,function HO(n){return $N("limitToLast",n),GC._create("limitToLast",n,"L")}(e)))}catch(t){throw zs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Gs(this.firestore,Gh(this._delegate,function zO(...n){return WC._create("startAt",n,!0)}(...e)))}catch(t){throw zs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Gs(this.firestore,Gh(this._delegate,function GO(...n){return WC._create("startAfter",n,!1)}(...e)))}catch(t){throw zs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Gs(this.firestore,Gh(this._delegate,function WO(...n){return qC._create("endBefore",n,!1)}(...e)))}catch(t){throw zs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Gs(this.firestore,Gh(this._delegate,function qO(...n){return qC._create("endAt",n,!0)}(...e)))}catch(t){throw zs(t,"endAt()","Query.endAt()")}}isEqual(e){return gM(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function tP(n){n=cn(n,es);const e=cn(n.firestore,mr),t=Qr(e),r=new qh(e);return function fO(n,e){const t=new ci;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(r=(0,ve.Z)(function*(o,u,l){try{const m=yield De(o,u,!0),E=new IN(u,m.ir),b=E.sc(m.documents),S=E.applyChanges(b,!1);l.resolve(S.snapshot)}catch(m){const E=uv(m,`Failed to execute query '${u} against cache`);l.reject(E)}}),function(o,u,l){return r.apply(this,arguments)})(yield FC(n),e,t);var r})),t.promise}(t,n._query).then(o=>new Wh(e,r,n,o))}(this._delegate):"server"===e?.source?function nP(n){n=cn(n,es);const e=cn(n.firestore,mr),t=Qr(e),r=new qh(e);return kN(t,n._query,{source:"server"}).then(o=>new Wh(e,r,n,o))}(this._delegate):function eP(n){n=cn(n,es);const e=cn(n.firestore,mr),t=Qr(e),r=new qh(e);return nR(n._query),kN(t,n._query).then(o=>new Wh(e,r,n,o))}(this._delegate),t.then(r=>new SM(this.firestore,new Wh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=wR(e),r=ER(e,o=>new SM(this.firestore,new Wh(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return hR(this._delegate,t,r)}withConverter(e){return new Gs(this.firestore,this._delegate.withConverter(e?ig.getInstance(this.firestore,e):null))}}class SP{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Mw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class SM{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Gs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Mw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new SP(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Mw(this._firestore,r))})}isEqual(e){return cR(this._delegate,e._delegate)}}class mv extends Gs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new xa(this.firestore,e):null}doc(e){try{return new xa(this.firestore,void 0===e?VC(this._delegate):VC(this._delegate,e))}catch(t){throw zs(t,"doc()","CollectionReference.doc()")}}add(e){return function iP(n,e){const t=cn(n.firestore,mr),r=VC(n),o=ZC(n.converter,e);return gv(t,[$C(tg(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,Xn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new xa(this.firestore,t))}isEqual(e){return GN(this._delegate,e._delegate)}withConverter(e){return new mv(this.firestore,this._delegate.withConverter(e?ig.getInstance(this.firestore,e):null))}}function sg(n){return cn(n,gr)}class AM{constructor(...e){this._delegate=new Kl(...e)}static documentId(){return new AM(Dr.keyField().canonicalString())}isEqual(e){return(e=(0,fn.m9)(e))instanceof Kl&&this._delegate._internalPath.isEqual(e._internalPath)}}class og{constructor(e){this._delegate=e}static serverTimestamp(){const e=function vP(){return new yM("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new og(e)}static delete(){const e=function yP(){return new Ew("deleteField")}();return e._methodName="FieldValue.delete",new og(e)}static arrayUnion(...e){const t=function _P(...n){return new kO("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new og(t)}static arrayRemove(...e){const t=function wP(...n){return new FO("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new og(t)}static increment(e){const t=function EP(n){return new LO("increment",n)}(e);return t._methodName="FieldValue.increment",new og(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const AP={Firestore:yR,GeoPoint:UC,Timestamp:sr,Blob:Sw,Transaction:vR,WriteBatch:_R,DocumentReference:xa,DocumentSnapshot:Aw,Query:Gs,QueryDocumentSnapshot:Mw,QuerySnapshot:SM,CollectionReference:mv,FieldPath:AM,FieldValue:og,setLogLevel:function TP(n){!function XT(n){yo.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function xP(n){(function MP(n,e){n.INTERNAL.registerComponent(new Sm.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(r,o)},"PUBLIC").setServiceProps(Object.assign({},AP)))})(n,(e,t)=>new yR(e,t,new bP)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(Tm.Z);var NP=L(3019),YC=L(3093),RP=L(4552);class OP extends ao.x{constructor(e=1/0,t=1/0,r=RP.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:u,_windowTime:l}=this;t||(r.push(e),!o&&r.push(u.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,u=o.slice();for(let l=0;l<u.length&&!e.closed;l+=r?1:2)e.next(u[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,u=(o?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!o){const l=t.now();let m=0;for(let E=1;E<r.length&&r[E]<=l;E+=2)m=E;m&&r.splice(0,m+1)}}}var PP=L(3020);function IR(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=n??1/0,(0,PP.B)({connector:()=>new OP(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function DR(n,e){return(0,ro.m)(e)?(0,dr.w)(()=>n,e):(0,dr.w)(()=>n)}var MM=L(5137),ag=L(3182);class yv{constructor(e){return e}}class CR{constructor(){return(0,ag.C6)()}}const xM=new h.OlP("angularfire2._apps"),FP={provide:yv,useFactory:function kP(n){return n&&1===n.length?n[0]:new yv((0,ag.Mq)())},deps:[[new h.FiY,xM]]},LP={provide:CR,deps:[[new h.FiY,xM]]};function VP(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new yv(r)}}let UP=(()=>{class n{constructor(t){(0,ag.KN)("angularfire",On.q4.full,"core"),(0,ag.KN)("angularfire",On.q4.full,"app"),(0,ag.KN)("angular",h.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.Lbi))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[FP,LP]}),n})();function BP(n,...e){return{ngModule:UP,providers:[{provide:xM,useFactory:VP(n),multi:!0,deps:[h.R0b,h.zs3,On.HU,...e]}]}}const $P=(0,On.u3)(ag.ZF,!0),NM=new Map,bR={activated:!1,tokenObservers:[]},jP={initialized:!1,enabled:!1};function Br(n){return NM.get(n)||Object.assign({},bR)}function QC(){return jP}const RM="https://content-firebaseappcheck.googleapis.com/v1",WP="exchangeDebugToken",TR={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class ZP{constructor(e,t,r,o,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=o,o>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ve.Z)(function*(){t.stop();try{t.pending=new fn.BH,yield function KP(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new fn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ts=new fn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function OM(n){if(!Br(n).activated)throw ts.create("use-before-activation",{appName:n.name})}function eb(n,e){return kM.apply(this,arguments)}function kM(){return kM=(0,ve.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){const P=yield o.getHeartbeatsHeader();P&&(r["X-Firebase-Client"]=P)}const u={method:"POST",body:JSON.stringify(e),headers:r};let l,m;try{l=yield fetch(n,u)}catch(P){throw ts.create("fetch-network-error",{originalErrorMessage:P?.message})}if(200!==l.status)throw ts.create("fetch-status-error",{httpStatus:l.status});try{m=yield l.json()}catch(P){throw ts.create("fetch-parse-error",{originalErrorMessage:P?.message})}const E=m.ttl.match(/^([\d.]+)(s)$/);if(!E||!E[2]||isNaN(Number(E[1])))throw ts.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const b=1e3*Number(E[1]),S=Date.now();return{token:m.token,expireTimeMillis:S+b,issuedAtTimeMillis:S}}),kM.apply(this,arguments)}function SR(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`${RM}/projects/${t}/apps/${r}:${WP}?key=${o}`,body:{debug_token:e}}}const XP="firebase-app-check-database",ek=1,xw="firebase-app-check-store";let tb=null;function FM(){return FM=(0,ve.Z)(function*(n,e){const r=(yield function MR(){return tb||(tb=new Promise((n,e)=>{try{const t=indexedDB.open(XP,ek);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e(ts.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(xw,{keyPath:"compositeKey"})}}catch(t){e(ts.create("storage-open",{originalErrorMessage:t?.message}))}}),tb)}()).transaction(xw,"readwrite"),u=r.objectStore(xw).put({compositeKey:n,value:e});return new Promise((l,m)=>{u.onsuccess=E=>{l()},r.onerror=E=>{var b;m(ts.create("storage-set",{originalErrorMessage:null===(b=E.target.error)||void 0===b?void 0:b.message}))}})}),FM.apply(this,arguments)}const Nw=new ic.Yd("@firebase/app-check");function UM(n,e){return(0,fn.hl)()?function nk(n,e){return function xR(n,e){return FM.apply(this,arguments)}(function RR(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Nw.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function $M(){return QC().enabled}function jM(){return HM.apply(this,arguments)}function HM(){return HM=(0,ve.Z)(function*(){const n=QC();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),HM.apply(this,arguments)}const uk={error:"UNKNOWN_ERROR"};function ck(n){return fn.US.encodeString(JSON.stringify(n),!1)}function nb(n){return zM.apply(this,arguments)}function zM(){return zM=(0,ve.Z)(function*(n,e=!1){const t=n.app;OM(t);const r=Br(t);let u,o=r.token;if(o&&!vv(o)&&(r.token=void 0,o=void 0),!o){const E=yield r.cachedTokenPromise;E&&(vv(E)?o=E:yield UM(t,void 0))}if(!e&&o&&vv(o))return{token:o.token};let m,l=!1;if($M()){r.exchangeTokenPromise||(r.exchangeTokenPromise=eb(SR(t,yield jM()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),l=!0);const E=yield r.exchangeTokenPromise;return yield UM(t,E),r.token=E,{token:E.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),l=!0),o=yield Br(t).exchangeTokenPromise}catch(E){"appCheck/throttled"===E.code?Nw.warn(E.message):Nw.error(E),u=E}return o?u?m=vv(o)?{token:o.token,internalError:u}:FR(u):(m={token:o.token},r.token=o,yield UM(t,o)):m=FR(u),l&&function kR(n,e){const t=Br(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,m),m}),zM.apply(this,arguments)}function GM(){return GM=(0,ve.Z)(function*(n){const e=n.app;OM(e);const{provider:t}=Br(e);if($M()){const r=yield jM(),{token:o}=yield eb(SR(e,r),n.heartbeatServiceProvider);return{token:o}}{const{token:r}=yield t.getToken();return{token:r}}}),GM.apply(this,arguments)}function qM(n,e){const t=Br(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function PR(n){const{app:e}=n,t=Br(e);let r=t.tokenRefresher;r||(r=function lk(n){const{app:e}=n;return new ZP((0,ve.Z)(function*(){let r;if(r=Br(e).token?yield nb(n,!0):yield nb(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Br(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},TR.RETRIAL_MIN_WAIT,TR.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function vv(n){return n.expireTimeMillis-Date.now()>0}function FR(n){return{token:ck(uk),error:n}}class dk{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Br(this.app);for(const t of e)qM(this.app,t.next);return Promise.resolve()}}const zR="app-check-internal";!function bk(){(0,ru._registerComponent)(new Sm.wA("app-check",n=>function hk(n,e){return new dk(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(zR).initialize()})),(0,ru._registerComponent)(new Sm.wA(zR,n=>function fk(n){return{getToken:e=>nb(n,e),getLimitedUseToken:()=>function OR(n){return GM.apply(this,arguments)}(n),addTokenListener:e=>function WM(n,e,t,r){const{app:o}=n,u=Br(o);if(u.tokenObservers=[...u.tokenObservers,{next:t,error:r,type:e}],u.token&&vv(u.token)){const m=u.token;Promise.resolve().then(()=>{t({token:m.token}),PR(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>PR(n))}(n,"INTERNAL",e),removeTokenListener:e=>qM(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ru.registerVersion)("@firebase/app-check","0.8.0")}();class ib{constructor(){return(0,On.vb)("app-check")}}typeof window<"u"&&window;var xk=L(7142);const WR=new h.OlP("angularfire2.auth.use-emulator"),qR=new h.OlP("angularfire2.auth.settings"),ZR=new h.OlP("angularfire2.auth.tenant-id"),KR=new h.OlP("angularfire2.auth.langugage-code"),YR=new h.OlP("angularfire2.auth.use-device-language"),QR=new h.OlP("angularfire.auth.persistence"),JR=(n,e,t,r,o,u,l,m)=>(0,Fs.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const E=e.runOutsideAngular(()=>n.auth());if(t&&E.useEmulator(...t),r&&(E.tenantId=r),E.languageCode=o,u&&E.useDeviceLanguage(),l)for(const[b,S]of Object.entries(l))E.settings[b]=S;return m&&E.setPersistence(m),E},[t,r,o,u,l,m]);let sb=(()=>{class n{constructor(t,r,o,u,l,m,E,b,S,P,W,re){const Ee=new ao.x,Le=(0,mt.of)(void 0).pipe((0,YC.Q)(l.outsideAngular),(0,dr.w)(()=>u.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,6365)))),(0,$t.U)(()=>(0,Fs.on)(t,u,r)),(0,$t.U)(Ue=>JR(Ue,u,m,b,S,P,E,W)),IR({bufferSize:1,refCount:!1}));if(Bi(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,mt.of)(null);else{Le.pipe(ds()).subscribe();const It=Le.pipe((0,dr.w)(Lt=>Lt.getRedirectResult().then(Kt=>Kt,()=>null)),On.iC,IR({bufferSize:1,refCount:!1})),Ot=Le.pipe((0,dr.w)(Lt=>new Ai.y(Kt=>({unsubscribe:u.runOutsideAngular(()=>Lt.onAuthStateChanged(gn=>Kt.next(gn),gn=>Kt.error(gn),()=>Kt.complete()))})))),Tt=Le.pipe((0,dr.w)(Lt=>new Ai.y(Kt=>({unsubscribe:u.runOutsideAngular(()=>Lt.onIdTokenChanged(gn=>Kt.next(gn),gn=>Kt.error(gn),()=>Kt.complete()))}))));this.authState=It.pipe(DR(Ot),(0,MM.R)(l.outsideAngular),(0,YC.Q)(l.insideAngular)),this.user=It.pipe(DR(Tt),(0,MM.R)(l.outsideAngular),(0,YC.Q)(l.insideAngular)),this.idToken=this.user.pipe((0,dr.w)(Lt=>Lt?(0,hn.D)(Lt.getIdToken()):(0,mt.of)(null))),this.idTokenResult=this.user.pipe((0,dr.w)(Lt=>Lt?(0,hn.D)(Lt.getIdTokenResult()):(0,mt.of)(null))),this.credential=(0,NP.T)(It,Ee,this.authState.pipe(qi(Lt=>!Lt))).pipe((0,$t.U)(Lt=>Lt?.user?Lt:null),(0,MM.R)(l.outsideAngular),(0,YC.Q)(l.insideAngular))}return(0,Fs.pX)(this,Le,u,{spy:{apply:(Ue,It,Ot)=>{(Ue.startsWith("signIn")||Ue.startsWith("createUser"))&&Ot.then(Tt=>Ee.next(Tt))}}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Fs.Dh),h.LFG(Fs.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(On.HU),h.LFG(WR,8),h.LFG(qR,8),h.LFG(ZR,8),h.LFG(KR,8),h.LFG(YR,8),h.LFG(QR,8),h.LFG(ib,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Rk=(()=>{class n{constructor(){xk.Z.registerVersion("angularfire",On.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[sb]}),n})();function XR(n,e){return function Ok(n,e=NT.z){return new Ai.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function JM(n,e){return XR(n,e).pipe((0,$t.U)(t=>({payload:t,type:"query"})))}function ob(n,e){return JM(n,e).pipe(xs(void 0),b_(),(0,$t.U)(([t,r])=>{const o=r.payload.docChanges(),u=o.map(l=>({type:l.type,payload:l}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((l,m)=>{const E=o.find(S=>S.doc.ref.isEqual(l.ref)),b=t?.payload.docs.find(S=>S.ref.isEqual(l.ref));E&&JSON.stringify(E.doc.metadata)===JSON.stringify(l.metadata)||!E&&b&&JSON.stringify(b.metadata)===JSON.stringify(l.metadata)||u.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:l}})}),u}))}function e1(n,e,t){return ob(n,t).pipe(uo((r,o)=>function kk(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function Fk(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return XM(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return XM(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return XM(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(u=>u.payload),e),[]),(0,QE.x)(),(0,$t.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function XM(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function t1(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class n1{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=ob(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,$t.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(xs(void 0),b_(),qi(([r,o])=>o.length>0||!r),(0,$t.U)(([r,o])=>o),On.iC)}auditTrail(e){return this.stateChanges(e).pipe(uo((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=t1(e);return e1(this.query,t,this.afs.schedulers.outsideAngular).pipe(On.iC)}valueChanges(e={}){return JM(this.query,this.afs.schedulers.outsideAngular).pipe((0,$t.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),On.iC)}get(e){return(0,hn.D)(this.query.get(e)).pipe(On.iC)}add(e){return this.ref.add(e)}doc(e){return new r1(this.ref.doc(e),this.afs)}}class r1{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:u}=i1(r,t);return new n1(o,u,this.afs)}snapshotChanges(){return function Pk(n,e){return XR(n,e).pipe(xs(void 0),b_(),(0,$t.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(On.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,$t.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,hn.D)(this.ref.get(e)).pipe(On.iC)}}class Lk{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?ob(this.query,this.afs.schedulers.outsideAngular).pipe((0,$t.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),qi(t=>t.length>0),On.iC):ob(this.query,this.afs.schedulers.outsideAngular).pipe(On.iC)}auditTrail(e){return this.stateChanges(e).pipe(uo((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=t1(e);return e1(this.query,t,this.afs.schedulers.outsideAngular).pipe(On.iC)}valueChanges(e={}){return JM(this.query,this.afs.schedulers.outsideAngular).pipe((0,$t.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),On.iC)}get(e){return(0,hn.D)(this.query.get(e)).pipe(On.iC)}}const Vk=new h.OlP("angularfire2.enableFirestorePersistence"),Uk=new h.OlP("angularfire2.firestore.persistenceSettings"),Bk=new h.OlP("angularfire2.firestore.settings"),$k=new h.OlP("angularfire2.firestore.use-emulator");function i1(n,e=(t=>t)){return{query:e(n),ref:n}}let jk=(()=>{class n{constructor(t,r,o,u,l,m,E,b,S,P,W,re,Ee,Le,Ue,It,Ot){this.schedulers=E;const Tt=(0,Fs.on)(t,m,r),Lt=S;P&&JR(Tt,m,W,Ee,Le,Ue,re,It),[this.firestore,this.persistenceEnabled$]=(0,Fs.cc)(`${Tt.name}.firestore`,"AngularFirestore",Tt.name,()=>{const Kt=m.runOutsideAngular(()=>Tt.firestore());if(u&&Kt.settings(u),Lt&&Kt.useEmulator(...Lt),o&&!Bi(l)){const gn=()=>{try{return(0,hn.D)(Kt.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(Ds){return typeof console<"u"&&console.warn(Ds),(0,mt.of)(!1)}};return[Kt,m.runOutsideAngular(gn)]}return[Kt,(0,mt.of)(!1)]},[u,Lt,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:l}=i1(o,r),m=this.schedulers.ngZone.run(()=>u);return new n1(m,l,this)}collectionGroup(t,r){const o=r||(l=>l),u=this.firestore.collectionGroup(t);return new Lk(o(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new r1(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Fs.Dh),h.LFG(Fs.xv,8),h.LFG(Vk,8),h.LFG(Bk,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(On.HU),h.LFG(Uk,8),h.LFG($k,8),h.LFG(sb,8),h.LFG(WR,8),h.LFG(qR,8),h.LFG(ZR,8),h.LFG(KR,8),h.LFG(YR,8),h.LFG(QR,8),h.LFG(ib,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),ab=(()=>{class n{constructor(t,r,o){this.afs=t,this.afAuth=r,this.router=o}SignUp(t,r,o){return this.afAuth.createUserWithEmailAndPassword(t,r).then(u=>{this.SendVerificationMail(),this.SetUserData(u.user,o)}).catch(u=>{console.log("ENTSADSADSADSAD"),window.alert(u.message)})}SendVerificationMail(){return this.afAuth.currentUser.then(t=>t.sendEmailVerification()).then(()=>{this.router.navigate(["dashboard"])})}SetUserData(t,r){return this.afs.doc(`users/${t.uid}`).set({uid:t.uid,email:t.email,identificacion:r.identificacion,name:r.name,apellido:r.apellido,telefono:r.telefono,password:r.password,rol:r.rol},{merge:!0})}SignIn(t,r){return this.afAuth.signInWithEmailAndPassword(t,r).then(o=>{this.afAuth.authState.subscribe(u=>{localStorage.setItem("uid",u.uid),u&&this.router.navigate(["dashboard"])})})}SignOut(){return this.afAuth.signOut().then(()=>{localStorage.removeItem("uid"),this.router.navigate(["login"])})}getUserData(t){return this.afs.collection("users").doc(t).snapshotChanges()}getAllUserData(){return this.afs.collection("users").valueChanges()}editInfoUser(t,r){return this.afs.collection("users").doc(t).update(r)}deleteUser(t){return this.afs.collection("users").doc(t).delete()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(jk),h.LFG(sb),h.LFG(gs))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Hk(n,e){1&n&&(h.TgZ(0,"div")(1,"p"),h._uU(2,"Contrase\xf1a Incorrecta"),h.qZA(),h.TgZ(3,"p"),h._uU(4,"Valide su informacion de usuario"),h.qZA()())}let zk=(()=>{class n{constructor(t,r){this.fb=t,this.user=r,this.loginError=!1,this.iniciarSession=this.fb.group({email:["",Vr.required],password:["",Vr.required]})}ngOnInit(){}sendData(){if(this.iniciarSession.value.email||""==this.iniciarSession.value.password)return window.alert("Ingrese credenciales");this.user.SignIn(this.iniciarSession.value.email,this.iniciarSession.value.password).catch(t=>{"Firebase: The password is invalid or the user does not have a password. (auth/wrong-password)."==t.message&&(this.loginError=!0,setTimeout(()=>{this.loginError=!1},5e3))})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(C_),h.Y36(ab))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-login"]],decls:25,vars:2,consts:[[1,"container"],[1,"row"],[1,"col-12","col-lg-6","align-items-center","justify-content-center","d-flex",2,"height","100vh"],[3,"formGroup","ngSubmit"],[4,"ngIf"],[1,"form-floating","mb-3"],["type","email","placeholder","name@example.com","formControlName","email",1,"form-control"],[1,"form-floating"],["type","password","placeholder","Password","formControlName","password",1,"form-control"],[1,"d-grid","gap-2","d-grid","mx-auto"],["type","button",1,"btn","btn-primary",3,"click"],[1,"mt-3"],["routerLink","/register"],["src","../../../assets/img/perfil-del-usuario.png",1,"d-none","d-sm-block"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1"),h._uU(5,"Registro"),h.qZA(),h.TgZ(6,"form",3),h.NdJ("ngSubmit",function(){return r.sendData()}),h.YNc(7,Hk,5,0,"div",4),h.TgZ(8,"div",5),h._UZ(9,"input",6),h.TgZ(10,"label"),h._uU(11,"Email"),h.qZA()(),h.TgZ(12,"div",7),h._UZ(13,"input",8),h.TgZ(14,"label"),h._uU(15,"Password"),h.qZA()(),h.TgZ(16,"div",9)(17,"button",10),h.NdJ("click",function(){return r.sendData()}),h._uU(18," Continuar "),h.qZA()(),h.TgZ(19,"p",11),h._uU(20," No tienes cuenta "),h.TgZ(21,"a",12),h._uU(22,"Registrate"),h.qZA()()()()(),h.TgZ(23,"div",2),h._UZ(24,"img",13),h.qZA()()()),2&t&&(h.xp6(6),h.Q6J("formGroup",r.iniciarSession),h.xp6(1),h.Q6J("ngIf",r.loginError))},dependencies:[Wo,Im,tc,Uf,hm,ml,Wd,Yf],styles:["h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:90px}.form-floating[_ngcontent-%COMP%]{margin-bottom:10px}img[_ngcontent-%COMP%]{width:340px}"]}),n})(),Gk=(()=>{class n{constructor(t,r){this.fb=t,this.user=r,this.registrarUsuario=this.fb.group({identifiacion:["",Vr.required],name:["",Vr.required],apellido:["",Vr.required],telefono:["",Vr.required],email:["",Vr.required],password:["",Vr.required],rol:["",Vr.required]})}ngOnInit(){}enviarFormulario(){this.user.SignUp(this.registrarUsuario.value.email,this.registrarUsuario.value.password,{identificacion:this.registrarUsuario.value.identifiacion,name:this.registrarUsuario.value.name,apellido:this.registrarUsuario.value.apellido,telefono:this.registrarUsuario.value.telefono,email:this.registrarUsuario.value.email,password:this.registrarUsuario.value.password,rol:this.registrarUsuario.value.rol})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(C_),h.Y36(ab))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-register"]],decls:45,vars:1,consts:[[1,"container"],[1,"row"],[1,"col-12"],[3,"formGroup","ngSubmit"],[1,"form-floating","mb-3"],["type","text","formControlName","identifiacion","placeholder","identificacion",1,"form-control"],["type","text","formControlName","name","placeholder","Name",1,"form-control"],["type","lastname","formControlName","apellido","placeholder","Lastname",1,"form-control"],["type","phone","formControlName","telefono","placeholder","Phone",1,"form-control"],["type","email","formControlName","email","placeholder","name@example.com",1,"form-control"],["for","floatingInput"],["type","password","formControlName","password","placeholder","Password",1,"form-control"],["formControlName","rol"],["value","Administrador"],["value","Desarrollador"],["value","Comercial"],["value","Call center"],[1,"d-grid","gap-2","d-grid","mx-auto"],["type","button",1,"btn","btn-primary",3,"click"],["routerLink","/login"],["src","../../../assets/img/flecha-hacia-atras.png","width","40","alt","button "]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),h._uU(4,"Registro"),h.qZA(),h.TgZ(5,"form",3),h.NdJ("ngSubmit",function(){return r.enviarFormulario()}),h.TgZ(6,"div",4),h._UZ(7,"input",5),h.TgZ(8,"label"),h._uU(9,"Identificaci\xf3n"),h.qZA()(),h.TgZ(10,"div",4),h._UZ(11,"input",6),h.TgZ(12,"label"),h._uU(13,"Nombre"),h.qZA()(),h.TgZ(14,"div",4),h._UZ(15,"input",7),h.TgZ(16,"label"),h._uU(17,"Apellido"),h.qZA()(),h.TgZ(18,"div",4),h._UZ(19,"input",8),h.TgZ(20,"label"),h._uU(21,"Telefono"),h.qZA()(),h.TgZ(22,"div",4),h._UZ(23,"input",9),h.TgZ(24,"label",10),h._uU(25,"Email"),h.qZA()(),h.TgZ(26,"div",4),h._UZ(27,"input",11),h.TgZ(28,"label"),h._uU(29,"Password"),h.qZA()(),h.TgZ(30,"div")(31,"select",12)(32,"option",13),h._uU(33,"Administrador"),h.qZA(),h.TgZ(34,"option",14),h._uU(35,"Desarrollador"),h.qZA(),h.TgZ(36,"option",15),h._uU(37,"Comercial"),h.qZA(),h.TgZ(38,"option",16),h._uU(39,"Call center"),h.qZA()()(),h.TgZ(40,"div",17)(41,"button",18),h.NdJ("click",function(){return r.enviarFormulario()}),h._uU(42," Crear cuenta "),h.qZA(),h.TgZ(43,"a",19),h._UZ(44,"img",20),h.qZA()()()()()()),2&t&&(h.xp6(5),h.Q6J("formGroup",r.registrarUsuario))},dependencies:[Im,jE,Vo,tc,Cl,Uf,hm,ml,Wd,Yf],styles:[".wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100%;text-align:center}.logo[_ngcontent-%COMP%]{height:136px;margin-top:15px}.body[_ngcontent-%COMP%]{width:100%;max-width:330px;margin:auto;padding:30px;text-align:center}h1[_ngcontent-%COMP%]{margin-bottom:20px;margin-top:50px}select[_ngcontent-%COMP%]{margin-bottom:10px;width:90vw;text-align:center;border-radius:5px}"]}),n})();function Wk(n,e){1&n&&(h.TgZ(0,"div",4),h._UZ(1,"div",5),h.qZA())}function qk(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"nav",6)(1,"div",7)(2,"p",8),h._uU(3," Bienvenido: "),h.TgZ(4,"span",9),h._uU(5),h.qZA()(),h.TgZ(6,"p",8),h._uU(7," Rol: "),h.TgZ(8,"span",9),h._uU(9),h.qZA()(),h.TgZ(10,"div",10)(11,"button",11),h.NdJ("click",function(){h.CHM(t);const o=h.oxw();return h.KtG(o.editUser())}),h._UZ(12,"i",12),h.qZA(),h.TgZ(13,"button",13),h._uU(14," Agregar "),h.qZA(),h.TgZ(15,"button",14),h.NdJ("click",function(){h.CHM(t);const o=h.oxw();return h.KtG(o.logOut())}),h._uU(16," Salir "),h.qZA()()()()}if(2&n){const t=h.oxw();h.xp6(5),h.AsE("",t.loggedUser.name," ",t.loggedUser.apellido,""),h.xp6(4),h.Oqu(t.loggedUser.rol),h.xp6(2),h.Q6J("disabled",!t.canEdit)}}function Zk(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"div")(1,"div",22)(2,"div",23)(3,"div"),h._uU(4),h.qZA()(),h.TgZ(5,"div",19)(6,"div")(7,"input",24),h.NdJ("input",function(o){h.CHM(t);const u=h.oxw(2);return h.KtG(u.capturarNombre(o))}),h.qZA()()(),h.TgZ(8,"div",19)(9,"div")(10,"input",24),h.NdJ("input",function(o){h.CHM(t);const u=h.oxw(2);return h.KtG(u.capturarApellido(o))}),h.qZA()()(),h.TgZ(11,"div",20)(12,"div")(13,"input",25),h.NdJ("input",function(o){h.CHM(t);const u=h.oxw(2);return h.KtG(u.capturarCorreo(o))}),h.qZA()()(),h.TgZ(14,"div",19)(15,"div"),h._uU(16),h.qZA()(),h.TgZ(17,"div",19)(18,"div",26)(19,"button",27),h.NdJ("click",function(){const u=h.CHM(t).$implicit,l=h.oxw(2);return h.KtG(l.editInfoUser(u))}),h._UZ(20,"i",28),h.qZA(),h.TgZ(21,"button",27),h.NdJ("click",function(){const u=h.CHM(t).$implicit,l=h.oxw(2);return h.KtG(l.deleteInfoUser(u.uid))}),h._UZ(22,"i",29),h.qZA()()()()()}if(2&n){const t=e.$implicit,r=e.index,o=h.oxw(2);h.xp6(4),h.Oqu(r+1),h.xp6(3),h.Q6J("value",t.name)("disabled",o.canEditUser),h.xp6(3),h.Q6J("value",t.apellido)("disabled",o.canEditUser),h.xp6(3),h.Q6J("value",t.email)("disabled",o.canEditUser),h.xp6(3),h.Oqu(t.rol),h.xp6(3),h.Q6J("disabled",!o.canEdit),h.xp6(2),h.Q6J("disabled",!o.canEdit)}}function Kk(n,e){if(1&n&&(h.TgZ(0,"div",15)(1,"div",16)(2,"div",17)(3,"div",18),h._uU(4,"ID"),h.qZA()(),h.TgZ(5,"div",19)(6,"div",18),h._uU(7,"Nombre"),h.qZA()(),h.TgZ(8,"div",19)(9,"div",18),h._uU(10,"Apellido"),h.qZA()(),h.TgZ(11,"div",20)(12,"div",18),h._uU(13,"Correo"),h.qZA()(),h.TgZ(14,"div",19)(15,"div",18),h._uU(16,"Rol"),h.qZA()(),h.TgZ(17,"div",19)(18,"div",18),h._uU(19,"Acciones"),h.qZA()()(),h.YNc(20,Zk,23,10,"div",21),h.qZA()),2&n){const t=h.oxw();h.xp6(20),h.Q6J("ngForOf",t.allUsers)}}const Yk=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:zk},{path:"register",component:Gk},{path:"dashboard",component:(()=>{class n{constructor(t){this.user=t,this.canEdit=!1,this.canEditUser=!0}ngOnInit(){const t=localStorage.getItem("uid");this.user.getUserData(t).subscribe(r=>{this.loggedUser=r.payload.data(),"Administrador"==this.loggedUser.rol&&(this.canEdit=!0)}),this.user.getAllUserData().subscribe(r=>{this.allUsers=r})}logOut(){this.user.SignOut()}editUser(){this.canEditUser=!this.canEditUser}editInfoUser(t){t.name=this.name||t.name,t.apellido=this.apellido||t.apellido,t.email=this.email||t.email,this.user.editInfoUser(t.uid,t)}deleteInfoUser(t){this.user.deleteUser(t)}capturarNombre(t){this.name=t.target.value}capturarApellido(t){this.apellido=t.target.value}capturarCorreo(t){this.email=t.target.value}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(ab))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-dashboard"]],decls:4,vars:3,consts:[[1,"container"],["class","d-flex align-items-center justify-content-center","style","height: 100vh",4,"ngIf"],["class","navbar bg-body-tertiary mt-5",4,"ngIf"],["class","body",4,"ngIf"],[1,"d-flex","align-items-center","justify-content-center",2,"height","100vh"],["role","status",1,"spinner-border"],[1,"navbar","bg-body-tertiary","mt-5"],[1,"container-fluid"],[1,"h3","text-center"],[1,"h4","text-center"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-end"],[1,"btn","btn-primary","me-md-2",3,"disabled","click"],[1,"bi","bi-pencil"],["type","button","routerLink","/create-employeds",1,"btn","btn-primary","me-md-2"],["type","button",1,"btn","btn-primary",3,"click"],[1,"body"],[1,"row","text-center"],[1,"col-1"],[1,"my-3"],[1,"col-2"],[1,"col-3"],[4,"ngFor","ngForOf"],[1,"row","d-flex","align-items-center","justify-content-center"],[1,"col-1","text-center"],["type","text","size","8",3,"value","disabled","input"],["type","text","size","22",3,"value","disabled","input"],[1,"d-flex","justify-content-center"],[1,"btn","btn-primary","m-2",3,"disabled","click"],[1,"bi","bi-check2"],[1,"bi","bi-trash3"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0),h.YNc(1,Wk,2,0,"div",1),h.YNc(2,qk,17,4,"nav",2),h.YNc(3,Kk,21,1,"div",3),h.qZA()),2&t&&(h.xp6(1),h.Q6J("ngIf",!r.allUsers),h.xp6(1),h.Q6J("ngIf",r.allUsers),h.xp6(1),h.Q6J("ngIf",r.allUsers))},dependencies:[gu,Wo,ml],styles:[".table[_ngcontent-%COMP%]{margin-top:30px}span[_ngcontent-%COMP%]{text-align:center}"]}),n})()},{path:"verificacion",component:(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-verificacion"]],decls:2,vars:0,template:function(t,r){1&t&&(h.TgZ(0,"p"),h._uU(1,"verificacion works!"),h.qZA())}}),n})()},{path:"create-employeds",component:(()=>{class n{constructor(t,r){this.fb=t,this.user=r,this.crearUsuario=this.fb.group({identifiacion:["",Vr.required],name:["",Vr.required],apellido:["",Vr.required],telefono:["",Vr.required],password:["",Vr.required],email:["",Vr.required],rol:["",Vr.required]}),this.randomString=this.generateRandomString(28)}ngOnInit(){}enviarFormulario(){let t={uid:this.randomString,email:this.crearUsuario.value.email,identificacion:this.crearUsuario.value.identifiacion,name:this.crearUsuario.value.name,apellido:this.crearUsuario.value.apellido,telefono:this.crearUsuario.value.telefono,password:this.crearUsuario.value.password,rol:this.crearUsuario.value.rol};this.user.SetUserData(t,t),this.crearUsuario.reset()}generateRandomString(t){let r="";for(let l=0;l<t;l++)r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return r}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(C_),h.Y36(ab))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-create-employeds"]],decls:40,vars:1,consts:[[1,"container","pt-4"],[1,"row"],[1,"col-lg-6","offset-lg-3"],[1,"card","text-center"],[1,"card-body"],[1,"bange-danger"],[3,"formGroup","ngSubmit"],["formControlName","identifiacion","type","text","placeholder","Identificacion",1,"form-control"],["formControlName","name","type","text","placeholder","Name",1,"form-control"],["formControlName","apellido","type","lastname","placeholder","Apellido",1,"form-control"],["formControlName","telefono","type","phone","placeholder","Phone",1,"form-control"],["formControlName","email","type","email","placeholder","E-mail",1,"form-control"],["formControlName","password","type","Rol","placeholder","Password",1,"form-control"],["formControlName","rol"],["value","Administrador"],["value","Desarrollador"],["value","Comercial"],["value","Call center"],[1,"mt-3"],["type","submit",1,"btn","btn-primary","btn-sm","m-4",3,"click"],["type","text","routerLink","/dashboard",1,"btn","btn-primary","btn-sm"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),h._UZ(4,"div",4),h.TgZ(5,"h5"),h._uU(6,"Crear nuevo usuario"),h.qZA(),h.TgZ(7,"span",5),h._uU(8,"TODOS LOS CAMPOS SON OBLIGATORIOS"),h.qZA(),h.TgZ(9,"form",6),h.NdJ("ngSubmit",function(){return r.enviarFormulario()}),h.TgZ(10,"table")(11,"thead")(12,"tr")(13,"th"),h._UZ(14,"input",7),h.qZA(),h.TgZ(15,"th"),h._UZ(16,"input",8),h.qZA(),h.TgZ(17,"th"),h._UZ(18,"input",9),h.qZA()()(),h.TgZ(19,"tbody")(20,"td"),h._UZ(21,"input",10),h.qZA(),h.TgZ(22,"td"),h._UZ(23,"input",11),h.qZA(),h.TgZ(24,"td"),h._UZ(25,"input",12),h.qZA()(),h.TgZ(26,"select",13)(27,"option",14),h._uU(28,"Administrador"),h.qZA(),h.TgZ(29,"option",15),h._uU(30,"Desarrollador"),h.qZA(),h.TgZ(31,"option",16),h._uU(32,"Comercial"),h.qZA(),h.TgZ(33,"option",17),h._uU(34,"Call center"),h.qZA()()(),h.TgZ(35,"div",18)(36,"button",19),h.NdJ("click",function(){return r.enviarFormulario()}),h._uU(37," Guardar "),h.qZA(),h.TgZ(38,"button",20),h._uU(39," Volver "),h.qZA()()()()()()()),2&t&&(h.xp6(9),h.Q6J("formGroup",r.crearUsuario))},dependencies:[Im,jE,Vo,tc,Cl,Uf,hm,ml,Wd,Yf],styles:["th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:10px}.container[_ngcontent-%COMP%]{margin-top:163px}"]}),n})()}];let Qk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[Jg.forRoot(Yk),Jg]}),n})();L(6878);class o1{constructor(){return(0,On.vb)("auth")}}class nx{constructor(e){return e}}const a1="firestore",rx=new h.OlP("angularfire2.firestore-instances");function rF(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new nx(r)}}const iF={provide:class tF{constructor(){return(0,On.vb)(a1)}},deps:[[new h.FiY,rx]]},sF={provide:nx,useFactory:function nF(n,e){const t=(0,On.JM)(a1,n,e);return t&&new nx(t)},deps:[[new h.FiY,rx],yv]};let oF=(()=>{class n{constructor(){(0,ag.KN)("angularfire",On.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[sF,iF]}),n})();function aF(n,...e){return{ngModule:oF,providers:[{provide:rx,useFactory:rF(n),multi:!0,deps:[h.R0b,h.zs3,On.HU,CR,[new h.FiY,o1],[new h.FiY,ib],...e]}]}}const uF=(0,On.u3)(IO,!0);let cF=(()=>{class n{constructor(){this.title="CRUD"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&h._UZ(0,"router-outlet")},dependencies:[xv]}),n})();const u1_firebaseConfig={apiKey:"AIzaSyCyQvN6SL5ql1rvPqyn3jHZBHPG9ozviMQ",authDomain:"login-prueba-an.firebaseapp.com",projectId:"login-prueba-an",storageBucket:"login-prueba-an.appspot.com",messagingSenderId:"369067855890",appId:"1:369067855890:web:fa91dbae4d0bed925e48cb"};let lF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n,bootstrap:[cF]}),n.\u0275inj=h.cJS({imports:[Qc,MT,Qk,xT,BP(()=>$P(u1_firebaseConfig)),aF(()=>uF()),Fs.hO.initializeApp(u1_firebaseConfig),Rk]}),n})();Fu().bootstrapModule(lF).catch(n=>console.error(n))},6304:(dt,Ie,L)=>{L.d(Ie,{Dh:()=>Te,GT:()=>pe,cc:()=>Se,hO:()=>Pe,on:()=>j,pX:()=>ie,xv:()=>fe});var h=L(5879),B=L(7142),R=L(8186);dt=L.hmd(dt);const Y=["ngOnDestroy"],ie=(Ne,_t,ot,ee={})=>new Proxy(Ne,{get:(_e,se)=>ot.runOutsideAngular(()=>{var he;if(Ne[se])return!(null===(he=ee?.spy)||void 0===he)&&he.get&&ee.spy.get(se,Ne[se]),Ne[se];if(Y.indexOf(se)>-1)return()=>{};const xe=_t.toPromise().then(X=>{const Xe=X&&X[se];return"function"==typeof Xe?Xe.bind(X):Xe&&Xe.then?Xe.then(je=>ot.run(()=>je)):ot.run(()=>Xe)});return new Proxy(()=>{},{get:(X,Xe)=>xe[Xe],apply:(X,Xe,je)=>xe.then(Yt=>{var or;const $r=Yt&&Yt(...je);return!(null===(or=ee?.spy)||void 0===or)&&or.apply&&ee.spy.apply(se,je,$r),$r})})})}),pe=(Ne,_t)=>{_t.forEach(ot=>{Object.getOwnPropertyNames(ot.prototype||ot).forEach(ee=>{Object.defineProperty(Ne.prototype,ee,Object.getOwnPropertyDescriptor(ot.prototype||ot,ee))})})};class ge{constructor(_t){return _t}}const Te=new h.OlP("angularfire2.app.options"),fe=new h.OlP("angularfire2.app.name");function j(Ne,_t,ot){const _e="object"==typeof ot&&ot||{};_e.name=_e.name||"string"==typeof ot&&ot||"[DEFAULT]";const he=B.Z.apps.filter(xe=>xe&&xe.name===_e.name)[0]||_t.runOutsideAngular(()=>B.Z.initializeApp(Ne,_e));try{JSON.stringify(Ne)!==JSON.stringify(he.options)&&z("error",`${he.name} Firebase App already initialized with different options${dt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ge(he)}const z=(Ne,..._t)=>{(0,h.X6Q)()&&typeof console<"u"&&console[Ne](..._t)},te={provide:ge,useFactory:j,deps:[Te,h.R0b,[new h.FiY,fe]]};let Pe=(()=>{class Ne{constructor(ot){B.Z.registerVersion("angularfire",R.q4.full,"core"),B.Z.registerVersion("angularfire",R.q4.full,"app-compat"),B.Z.registerVersion("angular",h.q4F.full,ot.toString())}static initializeApp(ot,ee){return{ngModule:Ne,providers:[{provide:Te,useValue:ot},{provide:fe,useValue:ee}]}}}return Ne.\u0275fac=function(ot){return new(ot||Ne)(h.LFG(h.Lbi))},Ne.\u0275mod=h.oAB({type:Ne}),Ne.\u0275inj=h.cJS({providers:[te]}),Ne})();function Se(Ne,_t,ot,ee,_e){const[,se,he]=globalThis.\u0275AngularfireInstanceCache.find(xe=>xe[0]===Ne)||[];if(se)return function We(Ne,_t){try{return Ne.toString()===_t.toString()}catch{return Ne===_t}}(_e,he)||(qe("error",`${_t} was already initialized on the ${ot} Firebase App with different settings.${Ae?" You may need to reload as Firebase is not HMR aware.":""}`),qe("warn",{is:_e,was:he})),se;{const xe=ee();return globalThis.\u0275AngularfireInstanceCache.push([Ne,xe,_e]),xe}}const Ae=!!dt.hot,qe=(Ne,..._t)=>{(0,h.X6Q)()&&typeof console<"u"&&console[Ne](..._t)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8186:(dt,Ie,L)=>{L.d(Ie,{q4:()=>uo,iC:()=>ol,HU:()=>Ya,vb:()=>_f,JM:()=>Zi,u3:()=>on});var h=L(5879),B=L(3182),R=L(5861),Y=L(534),ie=L(9058),pe=L(4537),ge=L(7879);const Te=(w,C)=>C.some(A=>w instanceof A);let fe,j;const Pe=new WeakMap,Se=new WeakMap,We=new WeakMap,Ae=new WeakMap,qe=new WeakMap;let ot={get(w,C,A){if(w instanceof IDBTransaction){if("done"===C)return Se.get(w);if("objectStoreNames"===C)return w.objectStoreNames||We.get(w);if("store"===C)return A.objectStoreNames[1]?void 0:A.objectStore(A.objectStoreNames[0])}return he(w[C])},set:(w,C,A)=>(w[C]=A,!0),has:(w,C)=>w instanceof IDBTransaction&&("done"===C||"store"===C)||C in w};function se(w){return"function"==typeof w?function _e(w){return w!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function te(){return j||(j=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(w)?function(...C){return w.apply(xe(this),C),he(Pe.get(this))}:function(...C){return he(w.apply(xe(this),C))}:function(C,...A){const V=w.call(xe(this),C,...A);return We.set(V,C.sort?C.sort():[C]),he(V)}}(w):(w instanceof IDBTransaction&&function _t(w){if(Se.has(w))return;const C=new Promise((A,V)=>{const G=()=>{w.removeEventListener("complete",K),w.removeEventListener("error",le),w.removeEventListener("abort",le)},K=()=>{A(),G()},le=()=>{V(w.error||new DOMException("AbortError","AbortError")),G()};w.addEventListener("complete",K),w.addEventListener("error",le),w.addEventListener("abort",le)});Se.set(w,C)}(w),Te(w,function z(){return fe||(fe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(w,ot):w)}function he(w){if(w instanceof IDBRequest)return function Ne(w){const C=new Promise((A,V)=>{const G=()=>{w.removeEventListener("success",K),w.removeEventListener("error",le)},K=()=>{A(he(w.result)),G()},le=()=>{V(w.error),G()};w.addEventListener("success",K),w.addEventListener("error",le)});return C.then(A=>{A instanceof IDBCursor&&Pe.set(A,w)}).catch(()=>{}),qe.set(C,w),C}(w);if(Ae.has(w))return Ae.get(w);const C=se(w);return C!==w&&(Ae.set(w,C),qe.set(C,w)),C}const xe=w=>qe.get(w),je=["get","getKey","getAll","getAllKeys","count"],Yt=["put","add","delete","clear"],or=new Map;function $r(w,C){if(!(w instanceof IDBDatabase)||C in w||"string"!=typeof C)return;if(or.get(C))return or.get(C);const A=C.replace(/FromIndex$/,""),V=C!==A,G=Yt.includes(A);if(!(A in(V?IDBIndex:IDBObjectStore).prototype)||!G&&!je.includes(A))return;const K=function(){var le=(0,R.Z)(function*(Ge,...Be){const at=this.transaction(Ge,G?"readwrite":"readonly");let At=at.store;return V&&(At=At.index(Be.shift())),(yield Promise.all([At[A](...Be),G&&at.done]))[0]});return function(Be){return le.apply(this,arguments)}}();return or.set(C,K),K}!function ee(w){ot=w(ot)}(w=>({...w,get:(C,A,V)=>$r(C,A)||w.get(C,A,V),has:(C,A)=>!!$r(C,A)||w.has(C,A)}));const Cs="@firebase/installations",ae="0.6.4",ye=1e4,Ce=`w:${ae}`,Re="FIS_v2",He="https://firebaseinstallations.googleapis.com/v1",Ve=36e5,et=new ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ht(w){return w instanceof ie.ZR&&w.code.includes("request-failed")}function en({projectId:w}){return`${He}/projects/${w}/installations`}function mn(w){return{token:w.token,requestStatus:2,expiresIn:Ci(w.expiresIn),creationTime:Date.now()}}function Pn(w,C){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,R.Z)(function*(w,C){const V=(yield C.json()).error;return et.create("request-failed",{requestName:w,serverCode:V.code,serverMessage:V.message,serverStatus:V.status})})).apply(this,arguments)}function ar({apiKey:w}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w})}function er(w){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,R.Z)(function*(w){const C=yield w();return C.status>=500&&C.status<600?w():C})).apply(this,arguments)}function Ci(w){return Number(w.replace("s","000"))}function Tr(){return(Tr=(0,R.Z)(function*({appConfig:w,heartbeatServiceProvider:C},{fid:A}){const V=en(w),G=ar(w),K=C.getImmediate({optional:!0});if(K){const at=yield K.getHeartbeatsHeader();at&&G.append("x-firebase-client",at)}const Ge={method:"POST",headers:G,body:JSON.stringify({fid:A,authVersion:Re,appId:w.appId,sdkVersion:Ce})},Be=yield er(()=>fetch(V,Ge));if(Be.ok){const at=yield Be.json();return{fid:at.fid||A,registrationStatus:2,refreshToken:at.refreshToken,authToken:mn(at.authToken)}}throw yield Pn("Create Installation",Be)})).apply(this,arguments)}function Un(w){return new Promise(C=>{setTimeout(C,w)})}const ns=/^[cdef][\w-]{21}$/,Ze="";function ut(){try{const w=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(w),w[0]=112+w[0]%16;const A=function wt(w){return function jr(w){return btoa(String.fromCharCode(...w)).replace(/\+/g,"-").replace(/\//g,"_")}(w).substr(0,22)}(w);return ns.test(A)?A:Ze}catch{return Ze}}function qt(w){return`${w.appName}!${w.appId}`}const tr=new Map;function Jr(w,C){const A=qt(w);rs(A,C),function ln(w,C){const A=function Rt(){return!Rr&&"BroadcastChannel"in self&&(Rr=new BroadcastChannel("[Firebase] FID Change"),Rr.onmessage=w=>{rs(w.data.key,w.data.fid)}),Rr}();A&&A.postMessage({key:w,fid:C}),function kn(){0===tr.size&&Rr&&(Rr.close(),Rr=null)}()}(A,C)}function rs(w,C){const A=tr.get(w);if(A)for(const V of A)V(C)}let Rr=null;const Vi="firebase-installations-database",bs=1,Sr="firebase-installations-store";let Bn=null;function En(){return Bn||(Bn=function X(w,C,{blocked:A,upgrade:V,blocking:G,terminated:K}={}){const le=indexedDB.open(w,C),Ge=he(le);return V&&le.addEventListener("upgradeneeded",Be=>{V(he(le.result),Be.oldVersion,Be.newVersion,he(le.transaction))}),A&&le.addEventListener("blocked",()=>A()),Ge.then(Be=>{K&&Be.addEventListener("close",()=>K()),G&&Be.addEventListener("versionchange",()=>G())}).catch(()=>{}),Ge}(Vi,bs,{upgrade:(w,C)=>{0===C&&w.createObjectStore(Sr)}})),Bn}function qn(w,C){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,R.Z)(function*(w,C){const A=qt(w),G=(yield En()).transaction(Sr,"readwrite"),K=G.objectStore(Sr),le=yield K.get(A);return yield K.put(C,A),yield G.done,(!le||le.fid!==C.fid)&&Jr(w,C.fid),C})).apply(this,arguments)}function nr(w){return xn.apply(this,arguments)}function xn(){return(xn=(0,R.Z)(function*(w){const C=qt(w),V=(yield En()).transaction(Sr,"readwrite");yield V.objectStore(Sr).delete(C),yield V.done})).apply(this,arguments)}function Hr(w,C){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,R.Z)(function*(w,C){const A=qt(w),G=(yield En()).transaction(Sr,"readwrite"),K=G.objectStore(Sr),le=yield K.get(A),Ge=C(le);return void 0===Ge?yield K.delete(A):yield K.put(Ge,A),yield G.done,Ge&&(!le||le.fid!==Ge.fid)&&Jr(w,Ge.fid),Ge})).apply(this,arguments)}function H(w){return $.apply(this,arguments)}function $(){return $=(0,R.Z)(function*(w){let C;const A=yield Hr(w.appConfig,V=>{const G=function k(w){return pt(w||{fid:ut(),registrationStatus:0})}(V),K=function F(w,C){if(0===C.registrationStatus){if(!navigator.onLine)return{installationEntry:C,registrationPromise:Promise.reject(et.create("app-offline"))};const A={fid:C.fid,registrationStatus:1,registrationTime:Date.now()},V=function N(w,C){return Q.apply(this,arguments)}(w,A);return{installationEntry:A,registrationPromise:V}}return 1===C.registrationStatus?{installationEntry:C,registrationPromise:me(w)}:{installationEntry:C}}(w,G);return C=K.registrationPromise,K.installationEntry});return A.fid===Ze?{installationEntry:yield C}:{installationEntry:A,registrationPromise:C}}),$.apply(this,arguments)}function Q(){return Q=(0,R.Z)(function*(w,C){try{const A=yield function Li(w,C){return Tr.apply(this,arguments)}(w,C);return qn(w.appConfig,A)}catch(A){throw ht(A)&&409===A.customData.serverCode?yield nr(w.appConfig):yield qn(w.appConfig,{fid:C.fid,registrationStatus:0}),A}}),Q.apply(this,arguments)}function me(w){return ze.apply(this,arguments)}function ze(){return(ze=(0,R.Z)(function*(w){let C=yield gt(w.appConfig);for(;1===C.registrationStatus;)yield Un(100),C=yield gt(w.appConfig);if(0===C.registrationStatus){const{installationEntry:A,registrationPromise:V}=yield H(w);return V||A}return C})).apply(this,arguments)}function gt(w){return Hr(w,C=>{if(!C)throw et.create("installation-not-found");return pt(C)})}function pt(w){return function ct(w){return 1===w.registrationStatus&&w.registrationTime+ye<Date.now()}(w)?{fid:w.fid,registrationStatus:0}:w}function yn(){return(yn=(0,R.Z)(function*({appConfig:w,heartbeatServiceProvider:C},A){const V=function Pt(w,{fid:C}){return`${en(w)}/${C}/authTokens:generate`}(w,A),G=function ur(w,{refreshToken:C}){const A=ar(w);return A.append("Authorization",function _o(w){return`${Re} ${w}`}(C)),A}(w,A),K=C.getImmediate({optional:!0});if(K){const at=yield K.getHeartbeatsHeader();at&&G.append("x-firebase-client",at)}const Ge={method:"POST",headers:G,body:JSON.stringify({installation:{sdkVersion:Ce,appId:w.appId}})},Be=yield er(()=>fetch(V,Ge));if(Be.ok)return mn(yield Be.json());throw yield Pn("Generate Auth Token",Be)})).apply(this,arguments)}function yr(w){return Ar.apply(this,arguments)}function Ar(){return Ar=(0,R.Z)(function*(w,C=!1){let A;const V=yield Hr(w.appConfig,K=>{if(!Bt(K))throw et.create("not-registered");const le=K.authToken;if(!C&&function Xt(w){return 2===w.requestStatus&&!function vr(w){const C=Date.now();return C<w.creationTime||w.creationTime+w.expiresIn<C+Ve}(w)}(le))return K;if(1===le.requestStatus)return A=function de(w,C){return ne.apply(this,arguments)}(w,C),K;{if(!navigator.onLine)throw et.create("app-offline");const Ge=function $n(w){const C={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},w),{authToken:C})}(K);return A=function lt(w,C){return xt.apply(this,arguments)}(w,Ge),Ge}});return A?yield A:V.authToken}),Ar.apply(this,arguments)}function ne(){return(ne=(0,R.Z)(function*(w,C){let A=yield ke(w.appConfig);for(;1===A.authToken.requestStatus;)yield Un(100),A=yield ke(w.appConfig);const V=A.authToken;return 0===V.requestStatus?yr(w,C):V})).apply(this,arguments)}function ke(w){return Hr(w,C=>{if(!Bt(C))throw et.create("not-registered");return function Ws(w){return 1===w.requestStatus&&w.requestTime+ye<Date.now()}(C.authToken)?Object.assign(Object.assign({},C),{authToken:{requestStatus:0}}):C})}function xt(){return xt=(0,R.Z)(function*(w,C){try{const A=yield function St(w,C){return yn.apply(this,arguments)}(w,C),V=Object.assign(Object.assign({},C),{authToken:A});return yield qn(w.appConfig,V),A}catch(A){if(!ht(A)||401!==A.customData.serverCode&&404!==A.customData.serverCode){const V=Object.assign(Object.assign({},C),{authToken:{requestStatus:0}});yield qn(w.appConfig,V)}else yield nr(w.appConfig);throw A}}),xt.apply(this,arguments)}function Bt(w){return void 0!==w&&2===w.registrationStatus}function Na(){return(Na=(0,R.Z)(function*(w){const C=w,{installationEntry:A,registrationPromise:V}=yield H(C);return V?V.catch(console.error):yr(C).catch(console.error),A.fid})).apply(this,arguments)}function Xr(){return Xr=(0,R.Z)(function*(w,C=!1){const A=w;return yield function qs(w){return wo.apply(this,arguments)}(A),(yield yr(A,C)).token}),Xr.apply(this,arguments)}function wo(){return(wo=(0,R.Z)(function*(w){const{registrationPromise:C}=yield H(w);C&&(yield C)})).apply(this,arguments)}function qo(w){return et.create("missing-app-config-values",{valueName:w})}const Tc="installations",Ra=w=>{const C=w.getProvider("app").getImmediate(),A=function mu(w){if(!w||!w.options)throw qo("App Configuration");if(!w.name)throw qo("App Name");const C=["projectId","apiKey","appId"];for(const A of C)if(!w.options[A])throw qo(A);return{appName:w.name,projectId:w.options.projectId,apiKey:w.options.apiKey,appId:w.options.appId}}(C);return{app:C,appConfig:A,heartbeatServiceProvider:(0,Y._getProvider)(C,"heartbeat"),_delete:()=>Promise.resolve()}},Oa=w=>{const C=w.getProvider("app").getImmediate(),A=(0,Y._getProvider)(C,Tc).getImmediate();return{getId:()=>function Go(w){return Na.apply(this,arguments)}(A),getToken:G=>function Ql(w){return Xr.apply(this,arguments)}(A,G)}};(function Xl(){(0,Y._registerComponent)(new pe.wA(Tc,Ra,"PUBLIC")),(0,Y._registerComponent)(new pe.wA("installations-internal",Oa,"PRIVATE"))})(),(0,Y.registerVersion)(Cs,ae),(0,Y.registerVersion)(Cs,ae,"esm2017");const yu="@firebase/remote-config",dn=new ie.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Fa{constructor(C,A,V,G){this.client=C,this.storage=A,this.storageCache=V,this.logger=G}isCachedDataFresh(C,A){if(!A)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const V=Date.now()-A,G=V<=C;return this.logger.debug(`Config fetch cache check. Cache age millis: ${V}. Cache max age millis (minimumFetchIntervalMillis setting): ${C}. Is cache hit: ${G}.`),G}fetch(C){var A=this;return(0,R.Z)(function*(){const[V,G]=yield Promise.all([A.storage.getLastSuccessfulFetchTimestampMillis(),A.storage.getLastSuccessfulFetchResponse()]);if(G&&A.isCachedDataFresh(C.cacheMaxAgeMillis,V))return G;C.eTag=G&&G.eTag;const K=yield A.client.fetch(C),le=[A.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===K.status&&le.push(A.storage.setLastSuccessfulFetchResponse(K)),yield Promise.all(le),K})()}}function wu(w=navigator){return w.languages&&w.languages[0]||w.language}class Zs{constructor(C,A,V,G,K,le){this.firebaseInstallations=C,this.sdkVersion=A,this.namespace=V,this.projectId=G,this.apiKey=K,this.appId=le}fetch(C){var A=this;return(0,R.Z)(function*(){const[V,G]=yield Promise.all([A.firebaseInstallations.getId(),A.firebaseInstallations.getToken()]),le=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${A.projectId}/namespaces/${A.namespace}:fetch?key=${A.apiKey}`,Ge={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":C.eTag||"*"},Be={sdk_version:A.sdkVersion,app_instance_id:V,app_instance_id_token:G,app_id:A.appId,language_code:wu()},at={method:"POST",headers:Ge,body:JSON.stringify(Be)},At=fetch(le,at),Mt=new Promise((Ki,Yi)=>{C.signal.addEventListener(()=>{const ca=new Error("The operation was aborted.");ca.name="AbortError",Yi(ca)})});let fr;try{yield Promise.race([At,Mt]),fr=yield At}catch(Ki){let Yi="fetch-client-network";throw"AbortError"===Ki?.name&&(Yi="fetch-timeout"),dn.create(Yi,{originalErrorMessage:Ki?.message})}let rr=fr.status;const ps=fr.headers.get("ETag")||void 0;let Yu,Rs;if(200===fr.status){let Ki;try{Ki=yield fr.json()}catch(Yi){throw dn.create("fetch-client-parse",{originalErrorMessage:Yi?.message})}Yu=Ki.entries,Rs=Ki.state}if("INSTANCE_STATE_UNSPECIFIED"===Rs?rr=500:"NO_CHANGE"===Rs?rr=304:("NO_TEMPLATE"===Rs||"EMPTY_CONFIG"===Rs)&&(Yu={}),304!==rr&&200!==rr)throw dn.create("fetch-status",{httpStatus:rr});return{status:rr,eTag:ps,config:Yu}})()}}class Io{constructor(C,A){this.client=C,this.storage=A}fetch(C){var A=this;return(0,R.Z)(function*(){const V=(yield A.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return A.attemptFetch(C,V)})()}attemptFetch(C,{throttleEndTimeMillis:A,backoffCount:V}){var G=this;return(0,R.Z)(function*(){yield function Nn(w,C){return new Promise((A,V)=>{const G=Math.max(C-Date.now(),0),K=setTimeout(A,G);w.addEventListener(()=>{clearTimeout(K),V(dn.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}(C.signal,A);try{const K=yield G.client.fetch(C);return yield G.storage.deleteThrottleMetadata(),K}catch(K){if(!function Eu(w){if(!(w instanceof ie.ZR&&w.customData))return!1;const C=Number(w.customData.httpStatus);return 429===C||500===C||503===C||504===C}(K))throw K;const le={throttleEndTimeMillis:Date.now()+(0,ie.$s)(V),backoffCount:V+1};return yield G.storage.setThrottleMetadata(le),G.attemptFetch(C,le)}})()}}class Iu{constructor(C,A,V,G,K){this.app=C,this._client=A,this._storageCache=V,this._storage=G,this._logger=K,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function xr(w,C){const A=w.target.error||void 0;return dn.create(C,{originalErrorMessage:A&&A?.message})}const Wr="app_namespace_store";class Jh{constructor(C,A,V,G=function tn(){return new Promise((w,C)=>{try{const A=indexedDB.open("firebase_remote_config",1);A.onerror=V=>{C(xr(V,"storage-open"))},A.onsuccess=V=>{w(V.target.result)},A.onupgradeneeded=V=>{0===V.oldVersion&&V.target.result.createObjectStore(Wr,{keyPath:"compositeKey"})}}catch(A){C(dn.create("storage-open",{originalErrorMessage:A?.message}))}})}()){this.appId=C,this.appName=A,this.namespace=V,this.openDbPromise=G}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(C){return this.set("last_fetch_status",C)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(C){return this.set("last_successful_fetch_timestamp_millis",C)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(C){return this.set("last_successful_fetch_response",C)}getActiveConfig(){return this.get("active_config")}setActiveConfig(C){return this.set("active_config",C)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(C){return this.set("active_config_etag",C)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(C){return this.set("throttle_metadata",C)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(C){var A=this;return(0,R.Z)(function*(){const V=yield A.openDbPromise;return new Promise((G,K)=>{const Ge=V.transaction([Wr],"readonly").objectStore(Wr),Be=A.createCompositeKey(C);try{const at=Ge.get(Be);at.onerror=At=>{K(xr(At,"storage-get"))},at.onsuccess=At=>{const Mt=At.target.result;G(Mt?Mt.value:void 0)}}catch(at){K(dn.create("storage-get",{originalErrorMessage:at?.message}))}})})()}set(C,A){var V=this;return(0,R.Z)(function*(){const G=yield V.openDbPromise;return new Promise((K,le)=>{const Be=G.transaction([Wr],"readwrite").objectStore(Wr),at=V.createCompositeKey(C);try{const At=Be.put({compositeKey:at,value:A});At.onerror=Mt=>{le(xr(Mt,"storage-set"))},At.onsuccess=()=>{K()}}catch(At){le(dn.create("storage-set",{originalErrorMessage:At?.message}))}})})()}delete(C){var A=this;return(0,R.Z)(function*(){const V=yield A.openDbPromise;return new Promise((G,K)=>{const Ge=V.transaction([Wr],"readwrite").objectStore(Wr),Be=A.createCompositeKey(C);try{const at=Ge.delete(Be);at.onerror=At=>{K(xr(At,"storage-delete"))},at.onsuccess=()=>{G()}}catch(at){K(dn.create("storage-delete",{originalErrorMessage:at?.message}))}})})()}createCompositeKey(C){return[this.appId,this.appName,this.namespace,C].join()}}class ss{constructor(C){this.storage=C}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var C=this;return(0,R.Z)(function*(){const A=C.storage.getLastFetchStatus(),V=C.storage.getLastSuccessfulFetchTimestampMillis(),G=C.storage.getActiveConfig(),K=yield A;K&&(C.lastFetchStatus=K);const le=yield V;le&&(C.lastSuccessfulFetchTimestampMillis=le);const Ge=yield G;Ge&&(C.activeConfig=Ge)})()}setLastFetchStatus(C){return this.lastFetchStatus=C,this.storage.setLastFetchStatus(C)}setLastSuccessfulFetchTimestampMillis(C){return this.lastSuccessfulFetchTimestampMillis=C,this.storage.setLastSuccessfulFetchTimestampMillis(C)}setActiveConfig(C){return this.activeConfig=C,this.storage.setActiveConfig(C)}}function Yo(){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,R.Z)(function*(){if(!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch{return!1}})).apply(this,arguments)}!function Do(){(0,Y._registerComponent)(new pe.wA("remote-config",function w(C,{instanceIdentifier:A}){const V=C.getProvider("app").getImmediate(),G=C.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw dn.create("registration-window");if(!(0,ie.hl)())throw dn.create("indexed-db-unavailable");const{projectId:K,apiKey:le,appId:Ge}=V.options;if(!K)throw dn.create("registration-project-id");if(!le)throw dn.create("registration-api-key");if(!Ge)throw dn.create("registration-app-id");const Be=new Jh(Ge,V.name,A=A||"firebase"),at=new ss(Be),At=new ge.Yd(yu);At.logLevel=ge.in.ERROR;const Mt=new Zs(G,Y.SDK_VERSION,A,K,le,Ge),fr=new Io(Mt,Be),rr=new Fa(fr,Be,at,At),ps=new Iu(V,rr,at,Be,At);return function Nt(w){const C=(0,ie.m9)(w);C._initializePromise||(C._initializePromise=C._storageCache.loadFromStorage().then(()=>{C._isInitializationComplete=!0}))}(ps),ps},"PUBLIC").setMultipleInstances(!0)),(0,Y.registerVersion)(yu,"0.4.4"),(0,Y.registerVersion)(yu,"0.4.4","esm2017")}();const Or=(w,C)=>C.some(A=>w instanceof A);let La,Pr;const $i=new WeakMap,Ks=new WeakMap,In=new WeakMap,Jo=new WeakMap,nd=new WeakMap;let Nc={get(w,C,A){if(w instanceof IDBTransaction){if("done"===C)return Ks.get(w);if("objectStoreNames"===C)return w.objectStoreNames||In.get(w);if("store"===C)return A.objectStoreNames[1]?void 0:A.objectStore(A.objectStoreNames[0])}return os(w[C])},set:(w,C,A)=>(w[C]=A,!0),has:(w,C)=>w instanceof IDBTransaction&&("done"===C||"store"===C)||C in w};function rd(w){return"function"==typeof w?function dg(w){return w!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ac(){return Pr||(Pr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(w)?function(...C){return w.apply(Rc(this),C),os($i.get(this))}:function(...C){return os(w.apply(Rc(this),C))}:function(C,...A){const V=w.call(Rc(this),C,...A);return In.set(V,C.sort?C.sort():[C]),os(V)}}(w):(w instanceof IDBTransaction&&function xc(w){if(Ks.has(w))return;const C=new Promise((A,V)=>{const G=()=>{w.removeEventListener("complete",K),w.removeEventListener("error",le),w.removeEventListener("abort",le)},K=()=>{A(),G()},le=()=>{V(w.error||new DOMException("AbortError","AbortError")),G()};w.addEventListener("complete",K),w.addEventListener("error",le),w.addEventListener("abort",le)});Ks.set(w,C)}(w),Or(w,function kr(){return La||(La=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(w,Nc):w)}function os(w){if(w instanceof IDBRequest)return function Mc(w){const C=new Promise((A,V)=>{const G=()=>{w.removeEventListener("success",K),w.removeEventListener("error",le)},K=()=>{A(os(w.result)),G()},le=()=>{V(w.error),G()};w.addEventListener("success",K),w.addEventListener("error",le)});return C.then(A=>{A instanceof IDBCursor&&$i.set(A,w)}).catch(()=>{}),nd.set(C,w),C}(w);if(Jo.has(w))return Jo.get(w);const C=rd(w);return C!==w&&(Jo.set(w,C),nd.set(C,w)),C}const Rc=w=>nd.get(w);function Oc(w,C,{blocked:A,upgrade:V,blocking:G,terminated:K}={}){const le=indexedDB.open(w,C),Ge=os(le);return V&&le.addEventListener("upgradeneeded",Be=>{V(os(le.result),Be.oldVersion,Be.newVersion,os(le.transaction))}),A&&le.addEventListener("blocked",()=>A()),Ge.then(Be=>{K&&Be.addEventListener("close",()=>K()),G&&Be.addEventListener("versionchange",()=>G())}).catch(()=>{}),Ge}function Du(w,{blocked:C}={}){const A=indexedDB.deleteDatabase(w);return C&&A.addEventListener("blocked",()=>C()),os(A).then(()=>{})}const ef=["get","getKey","getAll","getAllKeys","count"],id=["put","add","delete","clear"],sd=new Map;function od(w,C){if(!(w instanceof IDBDatabase)||C in w||"string"!=typeof C)return;if(sd.get(C))return sd.get(C);const A=C.replace(/FromIndex$/,""),V=C!==A,G=id.includes(A);if(!(A in(V?IDBIndex:IDBObjectStore).prototype)||!G&&!ef.includes(A))return;const K=function(){var le=(0,R.Z)(function*(Ge,...Be){const at=this.transaction(Ge,G?"readwrite":"readonly");let At=at.store;return V&&(At=At.index(Be.shift())),(yield Promise.all([At[A](...Be),G&&at.done]))[0]});return function(Be){return le.apply(this,arguments)}}();return sd.set(C,K),K}!function Xh(w){Nc=w(Nc)}(w=>({...w,get:(C,A,V)=>od(C,A)||w.get(C,A,V),has:(C,A)=>!!od(C,A)||w.has(C,A)}));const Pc="/firebase-messaging-sw.js",ad="/firebase-cloud-messaging-push-scope",Cu="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",kc="https://fcmregistrations.googleapis.com/v1",tf="google.c.a.c_id",jn="google.c.a.c_l",_v="google.c.a.ts";var Qs=(()=>((Qs=Qs||{}).PUSH_RECEIVED="push-received",Qs.NOTIFICATION_CLICKED="notification-clicked",Qs))();function ei(w){const C=new Uint8Array(w);return btoa(String.fromCharCode(...C)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Fc(w){const A=(w+"=".repeat((4-w.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),V=atob(A),G=new Uint8Array(V.length);for(let K=0;K<V.length;++K)G[K]=V.charCodeAt(K);return G}const Va="fcm_token_details_db",Ua=5,nf="fcm_token_object_Store";function bu(){return bu=(0,R.Z)(function*(w){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(K=>K.name).includes(Va))return null;let C=null;return(yield Oc(Va,Ua,{upgrade:(V=(0,R.Z)(function*(G,K,le,Ge){var Be;if(K<2||!G.objectStoreNames.contains(nf))return;const at=Ge.objectStore(nf),At=yield at.index("fcmSenderId").get(w);if(yield at.clear(),At)if(2===K){const Mt=At;if(!Mt.auth||!Mt.p256dh||!Mt.endpoint)return;C={token:Mt.fcmToken,createTime:null!==(Be=Mt.createTime)&&void 0!==Be?Be:Date.now(),subscriptionOptions:{auth:Mt.auth,p256dh:Mt.p256dh,endpoint:Mt.endpoint,swScope:Mt.swScope,vapidKey:"string"==typeof Mt.vapidKey?Mt.vapidKey:ei(Mt.vapidKey)}}}else if(3===K){const Mt=At;C={token:Mt.fcmToken,createTime:Mt.createTime,subscriptionOptions:{auth:ei(Mt.auth),p256dh:ei(Mt.p256dh),endpoint:Mt.endpoint,swScope:Mt.swScope,vapidKey:ei(Mt.vapidKey)}}}else if(4===K){const Mt=At;C={token:Mt.fcmToken,createTime:Mt.createTime,subscriptionOptions:{auth:ei(Mt.auth),p256dh:ei(Mt.p256dh),endpoint:Mt.endpoint,swScope:Mt.swScope,vapidKey:ei(Mt.vapidKey)}}}}),function(K,le,Ge,Be){return V.apply(this,arguments)})})).close(),yield Du(Va),yield Du("fcm_vapid_details_db"),yield Du("undefined"),function bi(w){if(!w||!w.subscriptionOptions)return!1;const{subscriptionOptions:C}=w;return"number"==typeof w.createTime&&w.createTime>0&&"string"==typeof w.token&&w.token.length>0&&"string"==typeof C.auth&&C.auth.length>0&&"string"==typeof C.p256dh&&C.p256dh.length>0&&"string"==typeof C.endpoint&&C.endpoint.length>0&&"string"==typeof C.swScope&&C.swScope.length>0&&"string"==typeof C.vapidKey&&C.vapidKey.length>0}(C)?C:null;var V}),bu.apply(this,arguments)}const Tu="firebase-messaging-database",Hn=1,fi="firebase-messaging-store";let Lc=null;function Su(){return Lc||(Lc=Oc(Tu,Hn,{upgrade:(w,C)=>{0===C&&w.createObjectStore(fi)}})),Lc}function bo(w){return To.apply(this,arguments)}function To(){return To=(0,R.Z)(function*(w){const C=cd(w),V=yield(yield Su()).transaction(fi).objectStore(fi).get(C);if(V)return V;{const G=yield function rf(w){return bu.apply(this,arguments)}(w.appConfig.senderId);if(G)return yield Au(w,G),G}}),To.apply(this,arguments)}function Au(w,C){return sf.apply(this,arguments)}function sf(){return(sf=(0,R.Z)(function*(w,C){const A=cd(w),G=(yield Su()).transaction(fi,"readwrite");return yield G.objectStore(fi).put(C,A),yield G.done,C})).apply(this,arguments)}function Js(){return(Js=(0,R.Z)(function*(w){const C=cd(w),V=(yield Su()).transaction(fi,"readwrite");yield V.objectStore(fi).delete(C),yield V.done})).apply(this,arguments)}function cd({appConfig:w}){return w.appId}const wr=new ie.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function wv(w,C){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,R.Z)(function*(w,C){const A=yield Xo(w),V=$c(C),G={method:"POST",headers:A,body:JSON.stringify(V)};let K;try{K=yield(yield fetch(Mu(w.appConfig),G)).json()}catch(le){throw wr.create("token-subscribe-failed",{errorInfo:le?.toString()})}if(K.error)throw wr.create("token-subscribe-failed",{errorInfo:K.error.message});if(!K.token)throw wr.create("token-subscribe-no-token");return K.token})).apply(this,arguments)}function Ba(){return(Ba=(0,R.Z)(function*(w,C){const A=yield Xo(w),V=$c(C.subscriptionOptions),G={method:"PATCH",headers:A,body:JSON.stringify(V)};let K;try{K=yield(yield fetch(`${Mu(w.appConfig)}/${C.token}`,G)).json()}catch(le){throw wr.create("token-update-failed",{errorInfo:le?.toString()})}if(K.error)throw wr.create("token-update-failed",{errorInfo:K.error.message});if(!K.token)throw wr.create("token-update-no-token");return K.token})).apply(this,arguments)}function af(w,C){return $a.apply(this,arguments)}function $a(){return($a=(0,R.Z)(function*(w,C){const V={method:"DELETE",headers:yield Xo(w)};try{const K=yield(yield fetch(`${Mu(w.appConfig)}/${C}`,V)).json();if(K.error)throw wr.create("token-unsubscribe-failed",{errorInfo:K.error.message})}catch(G){throw wr.create("token-unsubscribe-failed",{errorInfo:G?.toString()})}})).apply(this,arguments)}function Mu({projectId:w}){return`${kc}/projects/${w}/registrations`}function Xo(w){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,R.Z)(function*({appConfig:w,installations:C}){const A=yield C.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w.apiKey,"x-goog-firebase-installations-auth":`FIS ${A}`})})).apply(this,arguments)}function $c({p256dh:w,auth:C,endpoint:A,vapidKey:V}){const G={web:{endpoint:A,auth:C,p256dh:w}};return V!==Cu&&(G.web.applicationPubKey=V),G}const uf=6048e5;function ld(){return ld=(0,R.Z)(function*(w){const C=yield function xu(w,C){return ea.apply(this,arguments)}(w.swRegistration,w.vapidKey),A={vapidKey:w.vapidKey,swScope:w.swRegistration.scope,endpoint:C.endpoint,auth:ei(C.getKey("auth")),p256dh:ei(C.getKey("p256dh"))},V=yield bo(w.firebaseDependencies);if(V){if(function Fr(w,C){return C.vapidKey===w.vapidKey&&C.endpoint===w.endpoint&&C.auth===w.auth&&C.p256dh===w.p256dh}(V.subscriptionOptions,A))return Date.now()>=V.createTime+uf?function ji(w,C){return Gc.apply(this,arguments)}(w,{token:V.token,createTime:Date.now(),subscriptionOptions:A}):V.token;try{yield af(w.firebaseDependencies,V.token)}catch(G){console.warn(G)}return So(w.firebaseDependencies,A)}return So(w.firebaseDependencies,A)}),ld.apply(this,arguments)}function zc(){return zc=(0,R.Z)(function*(w){const C=yield bo(w.firebaseDependencies);C&&(yield af(w.firebaseDependencies,C.token),yield function ud(w){return Js.apply(this,arguments)}(w.firebaseDependencies));const A=yield w.swRegistration.pushManager.getSubscription();return!A||A.unsubscribe()}),zc.apply(this,arguments)}function Gc(){return Gc=(0,R.Z)(function*(w,C){try{const A=yield function fg(w,C){return Ba.apply(this,arguments)}(w.firebaseDependencies,C),V=Object.assign(Object.assign({},C),{token:A,createTime:Date.now()});return yield Au(w.firebaseDependencies,V),A}catch(A){throw yield function Hc(w){return zc.apply(this,arguments)}(w),A}}),Gc.apply(this,arguments)}function So(w,C){return wn.apply(this,arguments)}function wn(){return(wn=(0,R.Z)(function*(w,C){const V={token:yield wv(w,C),createTime:Date.now(),subscriptionOptions:C};return yield Au(w,V),V.token})).apply(this,arguments)}function ea(){return(ea=(0,R.Z)(function*(w,C){return(yield w.pushManager.getSubscription())||w.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Fc(C)})})).apply(this,arguments)}function ta(w){const C={from:w.from,collapseKey:w.collapse_key,messageId:w.fcmMessageId};return function dd(w,C){if(!C.notification)return;w.notification={};const A=C.notification.title;A&&(w.notification.title=A);const V=C.notification.body;V&&(w.notification.body=V);const G=C.notification.image;G&&(w.notification.image=G);const K=C.notification.icon;K&&(w.notification.icon=K)}(C,w),function Xs(w,C){C.data&&(w.data=C.data)}(C,w),function Ti(w,C){var A,V,G,K,le;if(!(C.fcmOptions||null!==(A=C.notification)&&void 0!==A&&A.click_action))return;w.fcmOptions={};const Ge=null!==(G=null===(V=C.fcmOptions)||void 0===V?void 0:V.link)&&void 0!==G?G:null===(K=C.notification)||void 0===K?void 0:K.click_action;Ge&&(w.fcmOptions.link=Ge);const Be=null===(le=C.fcmOptions)||void 0===le?void 0:le.analytics_label;Be&&(w.fcmOptions.analyticsLabel=Be)}(C,w),C}function hd(w,C){const A=[];for(let V=0;V<w.length;V++)A.push(w.charAt(V)),V<C.length&&A.push(C.charAt(V));return A.join("")}function as(w){return wr.create("missing-app-config-values",{valueName:w})}hd("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),hd("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class pd{constructor(C,A,V){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const G=function fd(w){if(!w||!w.options)throw as("App Configuration Object");if(!w.name)throw as("App Name");const C=["projectId","apiKey","appId","messagingSenderId"],{options:A}=w;for(const V of C)if(!A[V])throw as(V);return{appName:w.name,projectId:A.projectId,apiKey:A.apiKey,appId:A.appId,senderId:A.messagingSenderId}}(C);this.firebaseDependencies={app:C,appConfig:G,installations:A,analyticsProvider:V}}_delete(){return Promise.resolve()}}function Nu(){return(Nu=(0,R.Z)(function*(w){try{w.swRegistration=yield navigator.serviceWorker.register(Pc,{scope:ad}),w.swRegistration.update().catch(()=>{})}catch(C){throw wr.create("failed-service-worker-registration",{browserErrorMessage:C?.message})}})).apply(this,arguments)}function Si(){return(Si=(0,R.Z)(function*(w,C){if(!C&&!w.swRegistration&&(yield function Wc(w){return Nu.apply(this,arguments)}(w)),C||!w.swRegistration){if(!(C instanceof ServiceWorkerRegistration))throw wr.create("invalid-sw-registration");w.swRegistration=C}})).apply(this,arguments)}function Ct(){return(Ct=(0,R.Z)(function*(w,C){C?w.vapidKey=C:w.vapidKey||(w.vapidKey=Cu)})).apply(this,arguments)}function gd(){return gd=(0,R.Z)(function*(w,C){if(!navigator)throw wr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw wr.create("permission-blocked");return yield function Ru(w,C){return Ct.apply(this,arguments)}(w,C?.vapidKey),yield function na(w,C){return Si.apply(this,arguments)}(w,C?.serviceWorkerRegistration),function jc(w){return ld.apply(this,arguments)}(w)}),gd.apply(this,arguments)}function Zc(){return(Zc=(0,R.Z)(function*(w,C,A){const V=function lf(w){switch(w){case Qs.NOTIFICATION_CLICKED:return"notification_open";case Qs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(C);(yield w.firebaseDependencies.analyticsProvider.get()).logEvent(V,{message_id:A[tf],message_name:A[jn],message_time:A[_v],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Hi(){return Hi=(0,R.Z)(function*(w,C){const A=C.data;if(!A.isFirebaseMessaging)return;w.onMessageHandler&&A.messageType===Qs.PUSH_RECEIVED&&("function"==typeof w.onMessageHandler?w.onMessageHandler(ta(A)):w.onMessageHandler.next(ta(A)));const V=A.data;(function cf(w){return"object"==typeof w&&!!w&&tf in w})(V)&&"1"===V["google.c.a.e"]&&(yield function pg(w,C,A){return Zc.apply(this,arguments)}(w,A.messageType,V))}),Hi.apply(this,arguments)}const Ou="@firebase/messaging",df=w=>{const C=new pd(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),w.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",A=>function ja(w,C){return Hi.apply(this,arguments)}(C,A)),C},md=w=>{const C=w.getProvider("messaging").getImmediate();return{getToken:V=>function qc(w,C){return gd.apply(this,arguments)}(C,V)}};function be(){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,R.Z)(function*(){try{yield(0,ie.eu)()}catch{return!1}return typeof window<"u"&&(0,ie.hl)()&&(0,ie.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function hf(){(0,Y._registerComponent)(new pe.wA("messaging",df,"PUBLIC")),(0,Y._registerComponent)(new pe.wA("messaging-internal",md,"PRIVATE")),(0,Y.registerVersion)(Ou,"0.12.4"),(0,Y.registerVersion)(Ou,"0.12.4","esm2017")}();const Yc="analytics",yd="firebase_id",vd="origin",Nr=6e4,us="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Fu="https://www.googletagmanager.com/gtag/js",Rn=new ge.Yd("@firebase/analytics"),lr=new ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Qc(w){if(!w.startsWith(Fu)){const C=lr.create("invalid-gtag-resource",{gtagURL:w});return Rn.warn(C.message),""}return w}function za(w){return Promise.all(w.map(C=>C.catch(A=>A)))}function eo(){return(eo=(0,R.Z)(function*(w,C,A,V,G,K){const le=V[G];try{if(le)yield C[le];else{const Be=(yield za(A)).find(at=>at.measurementId===G);Be&&(yield C[Be.appId])}}catch(Ge){Rn.error(Ge)}w("config",G,K)})).apply(this,arguments)}function ra(){return(ra=(0,R.Z)(function*(w,C,A,V,G){try{let K=[];if(G&&G.send_to){let le=G.send_to;Array.isArray(le)||(le=[le]);const Ge=yield za(A);for(const Be of le){const at=Ge.find(Mt=>Mt.measurementId===Be),At=at&&C[at.appId];if(!At){K=[];break}K.push(At)}}0===K.length&&(K=Object.values(C)),yield Promise.all(K),w("event",V,G||{})}catch(K){Rn.error(K)}})).apply(this,arguments)}const gg=30,Id=new class Ed{constructor(C={},A=1e3){this.throttleMetadata=C,this.intervalMillis=A}getThrottleMetadata(C){return this.throttleMetadata[C]}setThrottleMetadata(C,A){this.throttleMetadata[C]=A}deleteThrottleMetadata(C){delete this.throttleMetadata[C]}};function mg(w){return new Headers({Accept:"application/json","x-goog-api-key":w})}function no(){return(no=(0,R.Z)(function*(w){var C;const{appId:A,apiKey:V}=w,G={method:"GET",headers:mg(V)},K=us.replace("{app-id}",A),le=yield fetch(K,G);if(200!==le.status&&304!==le.status){let Ge="";try{const Be=yield le.json();null!==(C=Be.error)&&void 0!==C&&C.message&&(Ge=Be.error.message)}catch{}throw lr.create("config-fetch-failed",{httpStatus:le.status,responseMessage:Ge})}return le.json()})).apply(this,arguments)}function Dd(){return(Dd=(0,R.Z)(function*(w,C=Id,A){const{appId:V,apiKey:G,measurementId:K}=w.options;if(!V)throw lr.create("no-app-id");if(!G){if(K)return{measurementId:K,appId:V};throw lr.create("no-api-key")}const le=C.getThrottleMetadata(V)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ge=new Xc;return setTimeout((0,R.Z)(function*(){Ge.abort()}),void 0!==A?A:Nr),gf({appId:V,apiKey:G,measurementId:K},le,Ge,C)})).apply(this,arguments)}function gf(w,C,A){return Cd.apply(this,arguments)}function Cd(){return Cd=(0,R.Z)(function*(w,{throttleEndTimeMillis:C,backoffCount:A},V,G=Id){var K;const{appId:le,measurementId:Ge}=w;try{yield function bd(w,C){return new Promise((A,V)=>{const G=Math.max(C-Date.now(),0),K=setTimeout(A,G);w.addEventListener(()=>{clearTimeout(K),V(lr.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}(V,C)}catch(Be){if(Ge)return Rn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ge} provided in the "measurementId" field in the local Firebase config. [${Be?.message}]`),{appId:le,measurementId:Ge};throw Be}try{const Be=yield function ti(w){return no.apply(this,arguments)}(w);return G.deleteThrottleMetadata(le),Be}catch(Be){const at=Be;if(!function Td(w){if(!(w instanceof ie.ZR&&w.customData))return!1;const C=Number(w.customData.httpStatus);return 429===C||500===C||503===C||504===C}(at)){if(G.deleteThrottleMetadata(le),Ge)return Rn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ge} provided in the "measurementId" field in the local Firebase config. [${at?.message}]`),{appId:le,measurementId:Ge};throw Be}const At=503===Number(null===(K=at?.customData)||void 0===K?void 0:K.httpStatus)?(0,ie.$s)(A,G.intervalMillis,gg):(0,ie.$s)(A,G.intervalMillis),Mt={throttleEndTimeMillis:Date.now()+At,backoffCount:A+1};return G.setThrottleMetadata(le,Mt),Rn.debug(`Calling attemptFetch again in ${At} millis`),gf(w,Mt,V,G)}}),Cd.apply(this,arguments)}class Xc{constructor(){this.listeners=[]}addEventListener(C){this.listeners.push(C)}abort(){this.listeners.forEach(C=>C())}}let Wa,Hu;function Sd(){return(Sd=(0,R.Z)(function*(w,C,A,V,G){if(G&&G.global)w("event",A,V);else{const K=yield C;w("event",A,Object.assign(Object.assign({},V),{send_to:K}))}})).apply(this,arguments)}function ia(){return(ia=(0,R.Z)(function*(){if(!(0,ie.hl)())return Rn.warn(lr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ie.eu)()}catch(w){return Rn.warn(lr.create("indexeddb-unavailable",{errorInfo:w?.toString()}).message),!1}return!0})).apply(this,arguments)}function zi(){return zi=(0,R.Z)(function*(w,C,A,V,G,K,le){var Ge;const Be=function Tn(w){return Dd.apply(this,arguments)}(w);Be.then(rr=>{A[rr.measurementId]=rr.appId,w.options.measurementId&&rr.measurementId!==w.options.measurementId&&Rn.warn(`The measurement ID in the local Firebase config (${w.options.measurementId}) does not match the measurement ID fetched from the server (${rr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(rr=>Rn.error(rr)),C.push(Be);const at=function mf(){return ia.apply(this,arguments)}().then(rr=>{if(rr)return V.getId()}),[At,Mt]=yield Promise.all([Be,at]);(function Jc(w){const C=window.document.getElementsByTagName("script");for(const A of Object.values(C))if(A.src&&A.src.includes(Fu)&&A.src.includes(w))return A;return null})(K)||function _d(w,C){const A=function Lu(w,C){let A;return window.trustedTypes&&(A=window.trustedTypes.createPolicy(w,C)),A}("firebase-js-sdk-policy",{createScriptURL:Qc}),V=document.createElement("script"),G=`${Fu}?l=${w}&id=${C}`;V.src=A?A?.createScriptURL(G):G,V.async=!0,document.head.appendChild(V)}(K,At.measurementId),Hu&&(G("consent","default",Hu),function Mo(w){Hu=w}(void 0)),G("js",new Date);const fr=null!==(Ge=le?.config)&&void 0!==Ge?Ge:{};return fr[vd]="firebase",fr.update=!0,null!=Mt&&(fr[yd]=Mt),G("config",At.measurementId,fr),Wa&&(G("set",Wa),function nl(w){Wa=w}(void 0)),At.measurementId}),zi.apply(this,arguments)}class $t{constructor(C){this.app=C}_delete(){return delete gi[this.app.options.appId],Promise.resolve()}}let gi={},Ad=[];const sa={};let xi,Gi,Mi="dataLayer",io=!1;function yf(w,C,A){!function mi(){const w=[];if((0,ie.ru)()&&w.push("This is a browser extension environment."),(0,ie.zI)()||w.push("Cookies are not available."),w.length>0){const C=w.map((V,G)=>`(${G+1}) ${V}`).join(" "),A=lr.create("invalid-analytics-context",{errorInfo:C});Rn.warn(A.message)}}();const V=w.options.appId;if(!V)throw lr.create("no-app-id");if(!w.options.apiKey){if(!w.options.measurementId)throw lr.create("no-api-key");Rn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${w.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=gi[V])throw lr.create("already-exists",{id:V});if(!io){!function Ga(w){let C=[];Array.isArray(window[w])?C=window[w]:window[w]=C}(Mi);const{wrappedGtag:K,gtagCore:le}=function Bu(w,C,A,V,G){let K=function(...le){window[V].push(arguments)};return window[G]&&"function"==typeof window[G]&&(K=window[G]),window[G]=function Uu(w,C,A,V){function K(){return K=(0,R.Z)(function*(le,...Ge){try{if("event"===le){const[Be,at]=Ge;yield function to(w,C,A,V,G){return ra.apply(this,arguments)}(w,C,A,Be,at)}else if("config"===le){const[Be,at]=Ge;yield function Vu(w,C,A,V,G,K){return eo.apply(this,arguments)}(w,C,A,V,Be,at)}else if("consent"===le){const[Be]=Ge;w("consent","update",Be)}else if("get"===le){const[Be,at,At]=Ge;w("get",Be,at,At)}else if("set"===le){const[Be]=Ge;w("set",Be)}else w(le,...Ge)}catch(Be){Rn.error(Be)}}),K.apply(this,arguments)}return function G(le){return K.apply(this,arguments)}}(K,w,C,A),{gtagCore:K,wrappedGtag:window[G]}}(gi,Ad,sa,Mi,"gtag");Gi=K,xi=le,io=!0}return gi[V]=function yg(w,C,A,V,G,K,le){return zi.apply(this,arguments)}(w,Ad,sa,C,xi,Mi,A),new $t(w)}function Md(){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,R.Z)(function*(){if((0,ie.ru)()||!(0,ie.zI)()||!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch{return!1}})).apply(this,arguments)}const ao="@firebase/analytics";!function Ms(){(0,Y._registerComponent)(new pe.wA(Yc,(C,{options:A})=>yf(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),A),"PUBLIC")),(0,Y._registerComponent)(new pe.wA("analytics-internal",function w(C){try{const A=C.getProvider(Yc).getImmediate();return{logEvent:(V,G,K)=>function Ro(w,C,A,V){w=(0,ie.m9)(w),function Ao(w,C,A,V,G){return Sd.apply(this,arguments)}(Gi,gi[w.app.options.appId],C,A,V).catch(G=>Rn.error(G))}(A,V,G,K)}}catch(A){throw lr.create("interop-component-reg-failed",{reason:A})}},"PRIVATE")),(0,Y.registerVersion)(ao,"0.10.0"),(0,Y.registerVersion)(ao,"0.10.0","esm2017")}();var xs=L(1954),Er=L(2631);const Nd=new class aa extends Er.v{}(class qi extends xs.o{constructor(C,A){super(C,A),this.scheduler=C,this.work=A}schedule(C,A=0){return A>0?super.schedule(C,A):(this.delay=A,this.state=C,this.scheduler.flush(this),this)}execute(C,A){return A>0||this.closed?super.execute(C,A):this._execute(C,A)}requestAsyncId(C,A,V=0){return null!=V&&V>0||null==V&&this.delay>0?super.requestAsyncId(C,A,V):(C.flush(this),0)}});var ds=L(6321),yi=L(5592),Gn=L(9397),Zr=L(5137),Gu=L(3093);const uo=new h.GfV("7.6.1"),hs="__angularfire_symbol__analyticsIsSupportedValue",il="__angularfire_symbol__analyticsIsSupported",Wu="__angularfire_symbol__remoteConfigIsSupportedValue",Za="__angularfire_symbol__remoteConfigIsSupported",Vt="__angularfire_symbol__messagingIsSupportedValue",Oo="__angularfire_symbol__messagingIsSupported";function Zi(w,C,A){if(C){if(1===C.length)return C[0];const K=C.filter(le=>le.app===A);if(1===K.length)return K[0]}return A.container.getProvider(w).getImmediate({optional:!0})}globalThis[il]||(globalThis[il]=Md().then(w=>globalThis[hs]=w).catch(()=>globalThis[hs]=!1)),globalThis[Oo]||(globalThis[Oo]=be().then(w=>globalThis[Vt]=w).catch(()=>globalThis[Vt]=!1)),globalThis[Za]||(globalThis[Za]=Yo().then(w=>globalThis[Wu]=w).catch(()=>globalThis[Wu]=!1));const _f=(w,C)=>{const A=C?[C]:(0,B.C6)(),V=[];return A.forEach(G=>{G.container.getProvider(w).instances.forEach(le=>{V.includes(le)||V.push(le)})}),V};function Sn(){}class fs{constructor(C,A=Nd){this.zone=C,this.delegate=A}now(){return this.delegate.now()}schedule(C,A,V){const G=this.zone;return this.delegate.schedule(function(le){G.runGuarded(()=>{C.apply(this,[le])})},A,V)}}class Ka{constructor(C){this.zone=C,this.task=null}call(C,A){const V=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Sn,{},Sn,Sn)),A.pipe((0,Gn.b)({next:V,complete:V,error:V})).subscribe(C).add(V)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ya=(()=>{class w{constructor(A){this.ngZone=A,this.outsideAngular=A.runOutsideAngular(()=>new fs(Zone.current)),this.insideAngular=A.run(()=>new fs(Zone.current,ds.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return w.\u0275fac=function(A){return new(A||w)(h.LFG(h.R0b))},w.\u0275prov=h.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function hr(){const w=globalThis.\u0275AngularFireScheduler;if(!w)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return w}function Ns(w){return hr().ngZone.run(()=>w())}function ol(w){return hr(),function al(w){return function(A){return(A=A.lift(new Ka(w.ngZone))).pipe((0,Zr.R)(w.outsideAngular),(0,Gu.Q)(w.insideAngular))}}(hr())(w)}const ua=(w,C)=>function(){const V=arguments;return C&&setTimeout(()=>{"scheduled"===C.state&&C.invoke()},10),Ns(()=>w.apply(void 0,V))},on=(w,C)=>function(){let A;const V=arguments;for(let K=0;K<arguments.length;K++)"function"==typeof V[K]&&(C&&(A||(A=Ns(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Sn,{},Sn,Sn)))),V[K]=ua(V[K],A));const G=function Qa(w){return hr().ngZone.runOutsideAngular(()=>w())}(()=>w.apply(this,V));if(!C){if(G instanceof yi.y){const K=hr();return G.pipe((0,Zr.R)(K.outsideAngular),(0,Gu.Q)(K.insideAngular))}return Ns(()=>G)}return G instanceof yi.y?G.pipe(ol):G instanceof Promise?Ns(()=>new Promise((K,le)=>G.then(Ge=>Ns(()=>K(Ge)),Ge=>Ns(()=>le(Ge))))):"function"==typeof G&&A?function(){return setTimeout(()=>{A&&"scheduled"===A.state&&A.invoke()},10),G.apply(this,arguments)}:Ns(()=>G)}},6878:(dt,Ie,L)=>{L.d(Ie,{$:()=>Pc,A:()=>z,D:()=>Se,I:()=>Jl,J:()=>Ra,L:()=>Dt,N:()=>Hr,P:()=>yg,Q:()=>Jh,R:()=>el,U:()=>Co,V:()=>Yo,W:()=>Qo,X:()=>hi,Y:()=>kr,Z:()=>Ac,_:()=>nd,a:()=>cr,a0:()=>Cu,a1:()=>tf,a2:()=>hg,a3:()=>nf,a4:()=>bu,a5:()=>Tu,a6:()=>fi,a7:()=>Su,a8:()=>To,a9:()=>sf,aA:()=>X,aB:()=>il,aC:()=>nr,aD:()=>Zt,aE:()=>Gn,aF:()=>Ni,aG:()=>xd,aH:()=>Zn,aL:()=>qr,aO:()=>La,aa:()=>ud,ab:()=>cd,ac:()=>Vc,ad:()=>fg,ae:()=>af,af:()=>Mu,ai:()=>uf,aj:()=>ld,ak:()=>Hc,an:()=>dg,ao:()=>dd,aq:()=>Ct,ar:()=>Ou,as:()=>je,at:()=>pt,au:()=>me,av:()=>ee,aw:()=>Mt,ax:()=>Oo,ay:()=>ct,az:()=>_e,b:()=>Kc,c:()=>Gi,d:()=>yf,e:()=>vg,f:()=>ao,g:()=>aa,h:()=>xs,i:()=>wd,j:()=>ds,k:()=>Rs,l:()=>hn,m:()=>ca,p:()=>Te,r:()=>pi,s:()=>ro,u:()=>mf});var h=L(5861),B=L(9058),R=L(534),Y=L(7582),ie=L(7879),pe=L(4537);const Te={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},z={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Se=function te(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},We=function Pe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ae=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ne=new ie.Yd("@firebase/auth");function ot(v,...p){Ne.logLevel<=ie.in.ERROR&&Ne.error(`Auth (${R.SDK_VERSION}): ${v}`,...p)}function ee(v,...p){throw xe(v,...p)}function _e(v,...p){return xe(v,...p)}function se(v,p,g){const I=Object.assign(Object.assign({},We()),{[p]:g});return new B.LL("auth","Firebase",I).create(p,{appName:v.name})}function he(v,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&ee(v,"argument-error"),se(v,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function xe(v,...p){if("string"!=typeof v){const g=p[0],I=[...p.slice(1)];return I[0]&&(I[0].appName=v.name),v._errorFactory.create(g,...I)}return Ae.create(v,...p)}function X(v,p,...g){if(!v)throw xe(p,...g)}function Xe(v){const p="INTERNAL ASSERTION FAILED: "+v;throw ot(p),new Error(p)}function je(v,p){v||Xe(p)}function Yt(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function or(){return"http:"===$r()||"https:"===$r()}function $r(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class ye{constructor(p,g){this.shortDelay=p,this.longDelay=g,je(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return function Cs(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(or()||(0,B.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ce(v,p){je(v.emulator,"Emulator should always be set here");const{url:g}=v.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class Re{static initialize(p,g,I){this.fetchImpl=p,g&&(this.headersImpl=g),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Xe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Xe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Xe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const He={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ve=new ye(3e4,6e4);function Ye(v,p){return v.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:v.tenantId}):p}function it(v,p,g,I){return An.apply(this,arguments)}function An(){return(An=(0,h.Z)(function*(v,p,g,I,M={}){return et(v,M,(0,h.Z)(function*(){let O={},Z={};I&&("GET"===p?Z=I:O={body:JSON.stringify(I)});const ue=(0,B.xO)(Object.assign({key:v.config.apiKey},Z)).slice(1),$e=yield v._getAdditionalHeaders();return $e["Content-Type"]="application/json",v.languageCode&&($e["X-Firebase-Locale"]=v.languageCode),Re.fetch()(Pn(v,v.config.apiHost,g,ue),Object.assign({method:p,headers:$e,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function et(v,p,g){return ht.apply(this,arguments)}function ht(){return(ht=(0,h.Z)(function*(v,p,g){v._canInitEmulator=!1;const I=Object.assign(Object.assign({},He),p);try{const M=new Qt(v),O=yield Promise.race([g(),M.promise]);M.clearNetworkTimeout();const Z=yield O.json();if("needConfirmation"in Z)throw ar(v,"account-exists-with-different-credential",Z);if(O.ok&&!("errorMessage"in Z))return Z;{const ue=O.ok?Z.errorMessage:Z.error.message,[$e,Je]=ue.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===$e)throw ar(v,"credential-already-in-use",Z);if("EMAIL_EXISTS"===$e)throw ar(v,"email-already-in-use",Z);if("USER_DISABLED"===$e)throw ar(v,"user-disabled",Z);const yt=I[$e]||$e.toLowerCase().replace(/[_\s]+/g,"-");if(Je)throw se(v,yt,Je);ee(v,yt)}}catch(M){if(M instanceof B.ZR)throw M;ee(v,"network-request-failed",{message:String(M)})}})).apply(this,arguments)}function en(v,p,g,I){return mn.apply(this,arguments)}function mn(){return(mn=(0,h.Z)(function*(v,p,g,I,M={}){const O=yield it(v,p,g,I,M);return"mfaPendingCredential"in O&&ee(v,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function Pn(v,p,g,I){const M=`${p}${g}?${I}`;return v.config.emulator?Ce(v.config,M):`${v.config.apiScheme}://${M}`}class Qt{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,I)=>{this.timer=setTimeout(()=>I(_e(this.auth,"network-request-failed")),Ve.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ar(v,p,g){const I={appName:v.name};g.email&&(I.email=g.email),g.phoneNumber&&(I.phoneNumber=g.phoneNumber);const M=_e(v,p,I);return M.customData._tokenResponse=g,M}function er(){return(er=(0,h.Z)(function*(v,p){return it(v,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Ci(){return(Ci=(0,h.Z)(function*(v,p){return it(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Li(){return(Li=(0,h.Z)(function*(v,p){return it(v,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Tr(v){if(v)try{const p=new Date(Number(v));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function ns(){return(ns=(0,h.Z)(function*(v,p=!1){const g=(0,B.m9)(v),I=yield g.getIdToken(p),M=ut(I);X(M&&M.exp&&M.auth_time&&M.iat,g.auth,"internal-error");const O="object"==typeof M.firebase?M.firebase:void 0,Z=O?.sign_in_provider;return{claims:M,token:I,authTime:Tr(Ze(M.auth_time)),issuedAtTime:Tr(Ze(M.iat)),expirationTime:Tr(Ze(M.exp)),signInProvider:Z||null,signInSecondFactor:O?.sign_in_second_factor||null}})).apply(this,arguments)}function Ze(v){return 1e3*Number(v)}function ut(v){const[p,g,I]=v.split(".");if(void 0===p||void 0===g||void 0===I)return ot("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,B.tV)(g);return M?JSON.parse(M):(ot("Failed to decode base64 JWT payload"),null)}catch(M){return ot("Caught error parsing JWT payload as JSON",M?.toString()),null}}function qt(v,p){return tr.apply(this,arguments)}function tr(){return(tr=(0,h.Z)(function*(v,p,g=!1){if(g)return p;try{return yield p}catch(I){throw I instanceof B.ZR&&function Jr({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}(I)&&v.auth.currentUser===v&&(yield v.auth.signOut()),I}})).apply(this,arguments)}class zt{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const M=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const I=this.getInterval(p);this.timerId=setTimeout((0,h.Z)(function*(){yield g.iteration()}),I)}iteration(){var p=this;return(0,h.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&p.schedule(!0))}p.schedule()})()}}class Wn{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tr(this.lastLoginAt),this.creationTime=Tr(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function rs(v){return ln.apply(this,arguments)}function ln(){return ln=(0,h.Z)(function*(v){var p;const g=v.auth,I=yield v.getIdToken(),M=yield qt(v,function _o(v,p){return Li.apply(this,arguments)}(g,{idToken:I}));X(M?.users.length,g,"internal-error");const O=M.users[0];v._notifyReloadListener(O);const Z=null!==(p=O.providerUserInfo)&&void 0!==p&&p.length?function Vi(v){return v.map(p=>{var{providerId:g}=p,I=(0,Y._T)(p,["providerId"]);return{providerId:g,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}(O.providerUserInfo):[],ue=function kn(v,p){return[...v.filter(I=>!p.some(M=>M.providerId===I.providerId)),...p]}(v.providerData,Z),yt=!!v.isAnonymous&&!(v.email&&O.passwordHash||ue?.length),Wt={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:ue,metadata:new Wn(O.createdAt,O.lastLoginAt),isAnonymous:yt};Object.assign(v,Wt)}),ln.apply(this,arguments)}function Rt(){return(Rt=(0,h.Z)(function*(v){const p=(0,B.m9)(v);yield rs(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Sr(){return(Sr=(0,h.Z)(function*(v,p){const g=yield et(v,{},(0,h.Z)(function*(){const I=(0,B.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:M,apiKey:O}=v.config,Z=Pn(v,M,"/v1/token",`key=${O}`),ue=yield v._getAdditionalHeaders();return ue["Content-Type"]="application/x-www-form-urlencoded",Re.fetch()(Z,{method:"POST",headers:ue,body:I})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Bn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){X(p.idToken,"internal-error"),X(typeof p.idToken<"u","internal-error"),X(typeof p.refreshToken<"u","internal-error");const g="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function wt(v){const p=ut(v);return X(p,"internal-error"),X(typeof p.exp<"u","internal-error"),X(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var I=this;return(0,h.Z)(function*(){return X(!I.accessToken||I.refreshToken,p,"user-token-expired"),g||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(p,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var I=this;return(0,h.Z)(function*(){const{accessToken:M,refreshToken:O,expiresIn:Z}=yield function bs(v,p){return Sr.apply(this,arguments)}(p,g);I.updateTokensAndExpiration(M,O,Number(Z))})()}updateTokensAndExpiration(p,g,I){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(p,g){const{refreshToken:I,accessToken:M,expirationTime:O}=g,Z=new Bn;return I&&(X("string"==typeof I,"internal-error",{appName:p}),Z.refreshToken=I),M&&(X("string"==typeof M,"internal-error",{appName:p}),Z.accessToken=M),O&&(X("number"==typeof O,"internal-error",{appName:p}),Z.expirationTime=O),Z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Bn,this.toJSON())}_performRefresh(){return Xe("not implemented")}}function En(v,p){X("string"==typeof v||typeof v>"u","internal-error",{appName:p})}class qn{constructor(p){var{uid:g,auth:I,stsTokenManager:M}=p,O=(0,Y._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=I,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new Wn(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,h.Z)(function*(){const I=yield qt(g,g.stsTokenManager.getToken(g.auth,p));return X(I,g.auth,"internal-error"),g.accessToken!==I&&(g.accessToken=I,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),I})()}getIdTokenResult(p){return function jr(v){return ns.apply(this,arguments)}(this,p)}reload(){return function Rr(v){return Rt.apply(this,arguments)}(this)}_assign(p){this!==p&&(X(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const g=new qn(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(p){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var I=this;return(0,h.Z)(function*(){let M=!1;p.idToken&&p.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(p),M=!0),g&&(yield rs(I)),yield I.auth._persistUserIfCurrent(I),M&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var p=this;return(0,h.Z)(function*(){const g=yield p.getIdToken();return yield qt(p,function ur(v,p){return er.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var I,M,O,Z,ue,$e,Je,yt;const Wt=null!==(I=g.displayName)&&void 0!==I?I:void 0,ni=null!==(M=g.email)&&void 0!==M?M:void 0,Po=null!==(O=g.phoneNumber)&&void 0!==O?O:void 0,If=null!==(Z=g.photoURL)&&void 0!==Z?Z:void 0,Ig=null!==(ue=g.tenantId)&&void 0!==ue?ue:void 0,Df=null!==($e=g._redirectEventId)&&void 0!==$e?$e:void 0,ul=null!==(Je=g.createdAt)&&void 0!==Je?Je:void 0,Os=null!==(yt=g.lastLoginAt)&&void 0!==yt?yt:void 0,{uid:la,emailVerified:co,isAnonymous:Xu,providerData:da,stsTokenManager:cl}=g;X(la&&cl,p,"internal-error");const ec=Bn.fromJSON(this.name,cl);X("string"==typeof la,p,"internal-error"),En(Wt,p.name),En(ni,p.name),X("boolean"==typeof co,p,"internal-error"),X("boolean"==typeof Xu,p,"internal-error"),En(Po,p.name),En(If,p.name),En(Ig,p.name),En(Df,p.name),En(ul,p.name),En(Os,p.name);const Pd=new qn({uid:la,auth:p,email:ni,emailVerified:co,displayName:Wt,isAnonymous:Xu,photoURL:If,phoneNumber:Po,tenantId:Ig,stsTokenManager:ec,createdAt:ul,lastLoginAt:Os});return da&&Array.isArray(da)&&(Pd.providerData=da.map(Dg=>Object.assign({},Dg))),Df&&(Pd._redirectEventId=Df),Pd}static _fromIdTokenResponse(p,g,I=!1){return(0,h.Z)(function*(){const M=new Bn;M.updateFromServerResponse(g);const O=new qn({uid:g.localId,auth:p,stsTokenManager:M,isAnonymous:I});return yield rs(O),O})()}}const Mn=new Map;function nr(v){je(v instanceof Function,"Expected a class definition");let p=Mn.get(v);return p?(je(p instanceof v,"Instance stored in cache mismatched with class"),p):(p=new v,Mn.set(v,p),p)}const Hr=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(g,I){var M=this;return(0,h.Z)(function*(){M.storage[g]=I})()}_get(g){var I=this;return(0,h.Z)(function*(){const M=I.storage[g];return void 0===M?null:M})()}_remove(g){var I=this;return(0,h.Z)(function*(){delete I.storage[g]})()}_addListener(g,I){}_removeListener(g,I){}}return v.type="NONE",v})();function Zt(v,p,g){return`firebase:${v}:${p}:${g}`}class H{constructor(p,g,I){this.persistence=p,this.auth=g,this.userKey=I;const{config:M,name:O}=this.auth;this.fullUserKey=Zt(this.userKey,M.apiKey,O),this.fullPersistenceKey=Zt("persistence",M.apiKey,O),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,h.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?qn._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,h.Z)(function*(){if(g.persistence===p)return;const I=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,I?g.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,I="authUser"){return(0,h.Z)(function*(){if(!g.length)return new H(nr(Hr),p,I);const M=(yield Promise.all(g.map(function(){var Je=(0,h.Z)(function*(yt){if(yield yt._isAvailable())return yt});return function(yt){return Je.apply(this,arguments)}}()))).filter(Je=>Je);let O=M[0]||nr(Hr);const Z=Zt(I,p.config.apiKey,p.name);let ue=null;for(const Je of g)try{const yt=yield Je._get(Z);if(yt){const Wt=qn._fromJSON(p,yt);Je!==O&&(ue=Wt),O=Je;break}}catch{}const $e=M.filter(Je=>Je._shouldAllowMigration);return O._shouldAllowMigration&&$e.length?(O=$e[0],ue&&(yield O._set(Z,ue.toJSON())),yield Promise.all(g.map(function(){var Je=(0,h.Z)(function*(yt){if(yt!==O)try{yield yt._remove(Z)}catch{}});return function(yt){return Je.apply(this,arguments)}}())),new H(O,p,I)):new H(O,p,I)})()}}function $(v){const p=v.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Q(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(k(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(ze(p))return"Blackberry";if(gt(p))return"Webos";if(F(p))return"Safari";if((p.includes("chrome/")||N(p))&&!p.includes("edge/"))return"Chrome";if(me(p))return"Android";{const I=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===I?.length)return I[1]}return"Other"}function k(v=(0,B.z$)()){return/firefox\//i.test(v)}function F(v=(0,B.z$)()){const p=v.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function N(v=(0,B.z$)()){return/crios\//i.test(v)}function Q(v=(0,B.z$)()){return/iemobile/i.test(v)}function me(v=(0,B.z$)()){return/android/i.test(v)}function ze(v=(0,B.z$)()){return/blackberry/i.test(v)}function gt(v=(0,B.z$)()){return/webos/i.test(v)}function pt(v=(0,B.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function ct(v=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function Pt(v=(0,B.z$)()){return pt(v)||me(v)||gt(v)||ze(v)||/windows phone/i.test(v)||Q(v)}function Ar(v,p=[]){let g;switch(v){case"Browser":g=$((0,B.z$)());break;case"Worker":g=`${$((0,B.z$)())}-${v}`;break;default:g=v}const I=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${R.SDK_VERSION}/${I}`}function ne(){return(ne=(0,h.Z)(function*(v){return(yield it(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ke(v,p){return lt.apply(this,arguments)}function lt(){return(lt=(0,h.Z)(function*(v,p){return it(v,"GET","/v2/recaptchaConfig",Ye(v,p))})).apply(this,arguments)}function xt(v){return void 0!==v&&void 0!==v.getResponse}function Bt(v){return void 0!==v&&void 0!==v.enterprise}class Xt{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(g=>"EMAIL_PASSWORD_PROVIDER"===g.provider&&"OFF"!==g.enforcementState)}}function $n(v){return new Promise((p,g)=>{const I=document.createElement("script");I.setAttribute("src",v),I.onload=p,I.onerror=M=>{const O=_e("internal-error");O.customData=M,g(O)},I.type="text/javascript",I.charset="UTF-8",function vr(){var v,p;return null!==(p=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==p?p:document}().appendChild(I)})}function Ws(v){return`__${v}${Math.floor(1e6*Math.random())}`}class Xr{constructor(p){this.type="recaptcha-enterprise",this.auth=Zn(p)}verify(p="verify",g=!1){var I=this;return(0,h.Z)(function*(){function O(){return O=(0,h.Z)(function*(ue){if(!g){if(null==ue.tenantId&&null!=ue._agentRecaptchaConfig)return ue._agentRecaptchaConfig.siteKey;if(null!=ue.tenantId&&void 0!==ue._tenantRecaptchaConfigs[ue.tenantId])return ue._tenantRecaptchaConfigs[ue.tenantId].siteKey}return new Promise(function(){var $e=(0,h.Z)(function*(Je,yt){ke(ue,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Wt=>{if(void 0!==Wt.recaptchaKey){const ni=new Xt(Wt);return null==ue.tenantId?ue._agentRecaptchaConfig=ni:ue._tenantRecaptchaConfigs[ue.tenantId]=ni,Je(ni.siteKey)}yt(new Error("recaptcha Enterprise site key undefined"))}).catch(Wt=>{yt(Wt)})});return function(Je,yt){return $e.apply(this,arguments)}}())}),O.apply(this,arguments)}function Z(ue,$e,Je){const yt=window.grecaptcha;Bt(yt)?yt.enterprise.ready(()=>{yt.enterprise.execute(ue,{action:p}).then(Wt=>{$e(Wt)}).catch(()=>{$e("NO_RECAPTCHA")})}):Je(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ue,$e)=>{(function M(ue){return O.apply(this,arguments)})(I.auth).then(Je=>{if(!g&&Bt(window.grecaptcha))Z(Je,ue,$e);else{if(typeof window>"u")return void $e(new Error("RecaptchaVerifier is only supported in browser"));$n("https://www.google.com/recaptcha/enterprise.js?render="+Je).then(()=>{Z(Je,ue,$e)}).catch(yt=>{$e(yt)})}}).catch(Je=>{$e(Je)})})})()}}function qs(v,p,g){return wo.apply(this,arguments)}function wo(){return(wo=(0,h.Z)(function*(v,p,g,I=!1){const M=new Xr(v);let O;try{O=yield M.verify(g)}catch{O=yield M.verify(g,!0)}const Z=Object.assign({},p);return Object.assign(Z,I?{captchaResp:O}:{captchaResponse:O}),Object.assign(Z,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Z,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Z})).apply(this,arguments)}class Kh{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,g){const I=O=>new Promise((Z,ue)=>{try{Z(p(O))}catch($e){ue($e)}});I.onAbort=g,this.queue.push(I);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(p){var g=this;return(0,h.Z)(function*(){if(g.auth.currentUser===p)return;const I=[];try{for(const M of g.queue)yield M(p),M.onAbort&&I.push(M.onAbort)}catch(M){I.reverse();for(const O of I)try{O()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:M?.message})}})()}}class gu{constructor(p,g,I,M){this.app=p,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=I,this.config=M,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cg(this),this.idTokenSubscription=new cg(this),this.beforeStateQueue=new Kh(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ae,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=M.sdkClientVersion}_initializeWithPersistence(p,g){var I=this;return g&&(this._popupRedirectResolver=nr(g)),this._initializationPromise=this.queue((0,h.Z)(function*(){var M,O;if(!I._deleted&&(I.persistenceManager=yield H.create(I,p),!I._deleted)){if(null!==(M=I._popupRedirectResolver)&&void 0!==M&&M._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch{}yield I.initializeCurrentUser(g),I.lastNotifiedUid=(null===(O=I.currentUser)||void 0===O?void 0:O.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,h.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g,!0)}})()}initializeCurrentUser(p){var g=this;return(0,h.Z)(function*(){var I;const M=yield g.assertedPersistence.getCurrentUser();let O=M,Z=!1;if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const ue=null===(I=g.redirectUser)||void 0===I?void 0:I._redirectEventId,$e=O?._redirectEventId,Je=yield g.tryRedirectSignIn(p);(!ue||ue===$e)&&Je?.user&&(O=Je.user,Z=!0)}if(!O)return g.directlySetCurrentUser(null);if(!O._redirectEventId){if(Z)try{yield g.beforeStateQueue.runMiddleware(O)}catch(ue){O=M,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(ue))}return O?g.reloadAndSetCurrentUserOrClear(O):g.directlySetCurrentUser(null)}return X(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===O._redirectEventId?g.directlySetCurrentUser(O):g.reloadAndSetCurrentUserOrClear(O)})()}tryRedirectSignIn(p){var g=this;return(0,h.Z)(function*(){let I=null;try{I=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch{yield g._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,h.Z)(function*(){try{yield rs(p)}catch(I){if("auth/network-request-failed"!==I?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function ae(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var p=this;return(0,h.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,h.Z)(function*(){const I=p?(0,B.m9)(p):null;return I&&X(I.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(I&&I._clone(g))})()}_updateCurrentUser(p,g=!1){var I=this;return(0,h.Z)(function*(){if(!I._deleted)return p&&X(I.tenantId===p.tenantId,I,"tenant-id-mismatch"),g||(yield I.beforeStateQueue.runMiddleware(p)),I.queue((0,h.Z)(function*(){yield I.directlySetCurrentUser(p),I.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,h.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var g=this;return this.queue((0,h.Z)(function*(){yield g.assertedPersistence.setPersistence(nr(p))}))}initializeRecaptchaConfig(){var p=this;return(0,h.Z)(function*(){const g=yield ke(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),I=new Xt(g);null==p.tenantId?p._agentRecaptchaConfig=I:p._tenantRecaptchaConfigs[p.tenantId]=I,I.emailPasswordEnabled&&new Xr(p).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new B.LL("auth","Firebase",p())}onAuthStateChanged(p,g,I){return this.registerStateListener(this.authStateSubscription,p,g,I)}beforeAuthStateChanged(p,g){return this.beforeStateQueue.pushCallback(p,g)}onIdTokenChanged(p,g,I){return this.registerStateListener(this.idTokenSubscription,p,g,I)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var I=this;return(0,h.Z)(function*(){const M=yield I.getOrInitRedirectPersistenceManager(g);return null===p?M.removeCurrentUser():M.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,h.Z)(function*(){if(!g.redirectPersistenceManager){const I=p&&nr(p)||g._popupRedirectResolver;X(I,g,"argument-error"),g.redirectPersistenceManager=yield H.create(g,[nr(I._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,h.Z)(function*(){var I,M;return g._isInitialized&&(yield g.queue((0,h.Z)(function*(){}))),(null===(I=g._currentUser)||void 0===I?void 0:I._redirectEventId)===p?g._currentUser:(null===(M=g.redirectUser)||void 0===M?void 0:M._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,h.Z)(function*(){if(p===g.currentUser)return g.queue((0,h.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,I,M){if(this._deleted)return()=>{};const O="function"==typeof g?g:g.next.bind(g),Z=this._isInitialized?Promise.resolve():this._initializationPromise;return X(Z,this,"internal-error"),Z.then(()=>O(this.currentUser)),"function"==typeof g?p.addObserver(g,I,M):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,h.Z)(function*(){g.currentUser&&g.currentUser!==p&&g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh(),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Ar(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,h.Z)(function*(){var g;const I={"X-Client-Version":p.clientVersion};p.app.options.appId&&(I["X-Firebase-gmpid"]=p.app.options.appId);const M=yield null===(g=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();M&&(I["X-Firebase-Client"]=M);const O=yield p._getAppCheckToken();return O&&(I["X-Firebase-AppCheck"]=O),I})()}_getAppCheckToken(){var p=this;return(0,h.Z)(function*(){var g;const I=yield null===(g=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return I?.error&&function _t(v,...p){Ne.logLevel<=ie.in.WARN&&Ne.warn(`Auth (${R.SDK_VERSION}): ${v}`,...p)}(`Error while retrieving App Check token: ${I.error}`),I?.token})()}}function Zn(v){return(0,B.m9)(v)}class cg{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,B.ne)(g=>this.observer=g)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Jl(v,p,g){const I=Zn(v);X(I._canInitEmulator,I,"emulator-config-failed"),X(/^https?:\/\//.test(p),I,"invalid-emulator-scheme");const M=!!g?.disableWarnings,O=mu(p),{host:Z,port:ue}=function qo(v){const p=mu(v),g=/(\/\/)?([^?#/]+)/.exec(v.substr(p.length));if(!g)return{host:"",port:null};const I=g[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(I);if(M){const O=M[1];return{host:O,port:Tc(I.substr(O.length+1))}}{const[O,Z]=I.split(":");return{host:O,port:Tc(Z)}}}(p);I.config.emulator={url:`${O}//${Z}${null===ue?"":`:${ue}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:Z,port:ue,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function Yh(){function v(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function mu(v){const p=v.indexOf(":");return p<0?"":v.substr(0,p+1)}function Tc(v){if(!v)return null;const p=Number(v);return isNaN(p)?null:p}class Ra{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return Xe("not implemented")}_getIdTokenResponse(p){return Xe("not implemented")}_linkToIdToken(p,g){return Xe("not implemented")}_getReauthenticationResolver(p){return Xe("not implemented")}}function Oa(v,p){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,h.Z)(function*(v,p){return it(v,"POST","/v1/accounts:resetPassword",Ye(v,p))})).apply(this,arguments)}function yu(v,p){return vu.apply(this,arguments)}function vu(){return(vu=(0,h.Z)(function*(v,p){return it(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function kt(){return(kt=(0,h.Z)(function*(v,p){return it(v,"POST","/v1/accounts:update",Ye(v,p))})).apply(this,arguments)}function _r(v,p){return dn.apply(this,arguments)}function dn(){return(dn=(0,h.Z)(function*(v,p){return en(v,"POST","/v1/accounts:signInWithPassword",Ye(v,p))})).apply(this,arguments)}function Ts(v,p){return zr.apply(this,arguments)}function zr(){return(zr=(0,h.Z)(function*(v,p){return it(v,"POST","/v1/accounts:sendOobCode",Ye(v,p))})).apply(this,arguments)}function Pa(){return(Pa=(0,h.Z)(function*(v,p){return Ts(v,p)})).apply(this,arguments)}function Zo(v,p){return ka.apply(this,arguments)}function ka(){return(ka=(0,h.Z)(function*(v,p){return Ts(v,p)})).apply(this,arguments)}function td(v,p){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,h.Z)(function*(v,p){return Ts(v,p)})).apply(this,arguments)}function Nt(){return(Nt=(0,h.Z)(function*(v,p){return Ts(v,p)})).apply(this,arguments)}function Gr(){return(Gr=(0,h.Z)(function*(v,p){return en(v,"POST","/v1/accounts:signInWithEmailLink",Ye(v,p))})).apply(this,arguments)}function Mr(){return(Mr=(0,h.Z)(function*(v,p){return en(v,"POST","/v1/accounts:signInWithEmailLink",Ye(v,p))})).apply(this,arguments)}class Ss extends Ra{constructor(p,g,I,M=null){super("password",I),this._email=p,this._password=g,this._tenantId=M}static _fromEmailAndPassword(p,g){return new Ss(p,g,"password")}static _fromEmailAndCode(p,g,I=null){return new Ss(p,g,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,h.Z)(function*(){var I;switch(g.signInMethod){case"password":const M={returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(I=p._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const O=yield qs(p,M,"signInWithPassword");return _r(p,O)}return _r(p,M).catch(function(){var O=(0,h.Z)(function*(Z){if("auth/missing-recaptcha-token"===Z.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ue=yield qs(p,M,"signInWithPassword");return _r(p,ue)}return Promise.reject(Z)});return function(Z){return O.apply(this,arguments)}}());case"emailLink":return function Fn(v,p){return Gr.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:ee(p,"internal-error")}})()}_linkToIdToken(p,g){var I=this;return(0,h.Z)(function*(){switch(I.signInMethod){case"password":return yu(p,{idToken:g,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function _u(v,p){return Mr.apply(this,arguments)}(p,{idToken:g,email:I._email,oobCode:I._password});default:ee(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function _n(v,p){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,h.Z)(function*(v,p){return en(v,"POST","/v1/accounts:signInWithIdp",Ye(v,p))})).apply(this,arguments)}class Dt extends Ra{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new Dt(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):ee("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:I,signInMethod:M}=g,O=(0,Y._T)(g,["providerId","signInMethod"]);if(!I||!M)return null;const Z=new Dt(I,M);return Z.idToken=O.idToken||void 0,Z.accessToken=O.accessToken||void 0,Z.secret=O.secret,Z.nonce=O.nonce,Z.pendingToken=O.pendingToken||null,Z}_getIdTokenResponse(p){return _n(p,this.buildRequest())}_linkToIdToken(p,g){const I=this.buildRequest();return I.idToken=g,_n(p,I)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,_n(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,B.xO)(g)}return p}}function wu(){return(wu=(0,h.Z)(function*(v,p){return it(v,"POST","/v1/accounts:sendVerificationCode",Ye(v,p))})).apply(this,arguments)}function Nn(){return(Nn=(0,h.Z)(function*(v,p){return en(v,"POST","/v1/accounts:signInWithPhoneNumber",Ye(v,p))})).apply(this,arguments)}function Io(){return(Io=(0,h.Z)(function*(v,p){const g=yield en(v,"POST","/v1/accounts:signInWithPhoneNumber",Ye(v,p));if(g.temporaryProof)throw ar(v,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const is={USER_NOT_FOUND:"user-not-found"};function Iu(){return(Iu=(0,h.Z)(function*(v,p){return en(v,"POST","/v1/accounts:signInWithPhoneNumber",Ye(v,Object.assign(Object.assign({},p),{operation:"REAUTH"})),is)})).apply(this,arguments)}class xr extends Ra{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new xr({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new xr({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function Zs(v,p){return Nn.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function Eu(v,p){return Io.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Ko(v,p){return Iu.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:I,verificationCode:M}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:I,code:M}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:I,phoneNumber:M,temporaryProof:O}=p;return I||g||M||O?new xr({verificationId:g,verificationCode:I,phoneNumber:M,temporaryProof:O}):null}}class Bi{constructor(p){var g,I,M,O,Z,ue;const $e=(0,B.zd)((0,B.pd)(p)),Je=null!==(g=$e.apiKey)&&void 0!==g?g:null,yt=null!==(I=$e.oobCode)&&void 0!==I?I:null,Wt=function Wr(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=$e.mode)&&void 0!==M?M:null);X(Je&&yt&&Wt,"argument-error"),this.apiKey=Je,this.operation=Wt,this.code=yt,this.continueUrl=null!==(O=$e.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(Z=$e.languageCode)&&void 0!==Z?Z:null,this.tenantId=null!==(ue=$e.tenantId)&&void 0!==ue?ue:null}static parseLink(p){const g=function Sc(v){const p=(0,B.zd)((0,B.pd)(v)).link,g=p?(0,B.zd)((0,B.pd)(p)).deep_link_id:null,I=(0,B.zd)((0,B.pd)(v)).deep_link_id;return(I?(0,B.zd)((0,B.pd)(I)).link:null)||I||g||p||v}(p);try{return new Bi(g)}catch{return null}}}let Jh=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(g,I){return Ss._fromEmailAndPassword(g,I)}static credentialWithLink(g,I){const M=Bi.parseLink(I);return X(M,"argument-error"),Ss._fromEmailAndCode(g,M.code,M.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class ss{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Do extends ss{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class hi extends Do{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return X("providerId"in g&&"signInMethod"in g,"argument-error"),Dt._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return X(p.idToken||p.accessToken,"argument-error"),Dt._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return hi.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return hi.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:I,oauthTokenSecret:M,pendingToken:O,nonce:Z,providerId:ue}=p;if(!I&&!M&&!g&&!O||!ue)return null;try{return new hi(ue)._credential({idToken:g,accessToken:I,nonce:Z,pendingToken:O})}catch{return null}}}let Co=(()=>{class v extends Do{constructor(){super("facebook.com")}static credential(g){return Dt._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),Yo=(()=>{class v extends Do{constructor(){super("google.com"),this.addScope("profile")}static credential(g,I){return Dt._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:I})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:I,oauthAccessToken:M}=g;if(!I&&!M)return null;try{return v.credential(I,M)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),Qo=(()=>{class v extends Do{constructor(){super("github.com")}static credential(g){return Dt._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class La extends Ra{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return _n(p,this.buildRequest())}_linkToIdToken(p,g){const I=this.buildRequest();return I.idToken=g,_n(p,I)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,_n(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:I,signInMethod:M,pendingToken:O}=g;return I&&M&&O&&I===M?new La(I,O):null}static _create(p,g){return new La(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class kr extends ss{constructor(p){X(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return kr.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return kr.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=La.fromJSON(p);return X(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:I}=p;if(!g||!I)return null;try{return La._create(I,g)}catch{return null}}}let Ac=(()=>{class v extends Do{constructor(){super("twitter.com")}static credential(g,I){return Dt._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:I})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:I,oauthTokenSecret:M}=g;if(!I||!M)return null;try{return v.credential(I,M)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function $i(v,p){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,h.Z)(function*(v,p){return en(v,"POST","/v1/accounts:signUp",Ye(v,p))})).apply(this,arguments)}class In{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,I,M=!1){return(0,h.Z)(function*(){const O=yield qn._fromIdTokenResponse(p,I,M),Z=Jo(I);return new In({user:O,providerId:Z,_tokenResponse:I,operationType:g})})()}static _forOperation(p,g,I){return(0,h.Z)(function*(){yield p._updateTokensIfNecessary(I,!0);const M=Jo(I);return new In({user:p,providerId:M,_tokenResponse:I,operationType:g})})()}}function Jo(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function nd(v){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,h.Z)(function*(v){var p;const g=Zn(v);if(yield g._initializationPromise,null!==(p=g.currentUser)&&void 0!==p&&p.isAnonymous)return new In({user:g.currentUser,providerId:null,operationType:"signIn"});const I=yield $i(g,{returnSecureToken:!0}),M=yield In._fromIdTokenResponse(g,"signIn",I,!0);return yield g._updateCurrentUser(M.user),M})).apply(this,arguments)}class xc extends B.ZR{constructor(p,g,I,M){var O;super(g.code,g.message),this.operationType=I,this.user=M,Object.setPrototypeOf(this,xc.prototype),this.customData={appName:p.name,tenantId:null!==(O=p.tenantId)&&void 0!==O?O:void 0,_serverResponse:g.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(p,g,I,M){return new xc(p,g,I,M)}}function Nc(v,p,g,I){return("reauthenticate"===p?g._getReauthenticationResolver(v):g._getIdTokenResponse(v)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?xc._fromErrorAndOperation(v,O,p,I):O})}function Xh(v){return new Set(v.map(({providerId:p})=>p).filter(p=>!!p))}function dg(v,p){return rd.apply(this,arguments)}function rd(){return rd=(0,h.Z)(function*(v,p){const g=(0,B.m9)(v);yield Oc(!0,g,p);const{providerUserInfo:I}=yield function Vn(v,p){return Ci.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),M=Xh(I||[]);return g.providerData=g.providerData.filter(O=>M.has(O.providerId)),M.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),rd.apply(this,arguments)}function os(v,p){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,h.Z)(function*(v,p,g=!1){const I=yield qt(v,p._linkToIdToken(v.auth,yield v.getIdToken()),g);return In._forOperation(v,"link",I)})).apply(this,arguments)}function Oc(v,p,g){return Du.apply(this,arguments)}function Du(){return(Du=(0,h.Z)(function*(v,p,g){yield rs(p);const M=!1===v?"provider-already-linked":"no-such-provider";X(Xh(p.providerData).has(g)===v,p.auth,M)})).apply(this,arguments)}function ef(v,p){return id.apply(this,arguments)}function id(){return(id=(0,h.Z)(function*(v,p,g=!1){const{auth:I}=v,M="reauthenticate";try{const O=yield qt(v,Nc(I,M,p,v),g);X(O.idToken,I,"internal-error");const Z=ut(O.idToken);X(Z,I,"internal-error");const{sub:ue}=Z;return X(v.uid===ue,I,"user-mismatch"),In._forOperation(v,M,O)}catch(O){throw"auth/user-not-found"===O?.code&&ee(I,"user-mismatch"),O}})).apply(this,arguments)}function sd(v,p){return od.apply(this,arguments)}function od(){return(od=(0,h.Z)(function*(v,p,g=!1){const I="signIn",M=yield Nc(v,I,p),O=yield In._fromIdTokenResponse(v,I,M);return g||(yield v._updateCurrentUser(O.user)),O})).apply(this,arguments)}function Pc(v,p){return ad.apply(this,arguments)}function ad(){return(ad=(0,h.Z)(function*(v,p){return sd(Zn(v),p)})).apply(this,arguments)}function Cu(v,p){return kc.apply(this,arguments)}function kc(){return(kc=(0,h.Z)(function*(v,p){const g=(0,B.m9)(v);return yield Oc(!1,g,p.providerId),os(g,p)})).apply(this,arguments)}function tf(v,p){return jn.apply(this,arguments)}function jn(){return(jn=(0,h.Z)(function*(v,p){return ef((0,B.m9)(v),p)})).apply(this,arguments)}function Ys(){return(Ys=(0,h.Z)(function*(v,p){return en(v,"POST","/v1/accounts:signInWithCustomToken",Ye(v,p))})).apply(this,arguments)}function hg(v,p){return Qs.apply(this,arguments)}function Qs(){return Qs=(0,h.Z)(function*(v,p){const g=Zn(v),I=yield function _v(v,p){return Ys.apply(this,arguments)}(g,{token:p,returnSecureToken:!0}),M=yield In._fromIdTokenResponse(g,"signIn",I);return yield g._updateCurrentUser(M.user),M}),Qs.apply(this,arguments)}class ei{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?Fc._fromServerResponse(p,g):"totpInfo"in g?Va._fromServerResponse(p,g):ee(p,"internal-error")}}class Fc extends ei{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new Fc(g)}}class Va extends ei{constructor(p){super("totp",p)}static _fromServerResponse(p,g){return new Va(g)}}function Ua(v,p,g){var I;X((null===(I=g.url)||void 0===I?void 0:I.length)>0,v,"invalid-continue-uri"),X(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(X(g.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(X(g.android.packageName.length>0,v,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function nf(v,p,g){return rf.apply(this,arguments)}function rf(){return rf=(0,h.Z)(function*(v,p,g){var I;const M=Zn(v),O={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};if(null!==(I=M._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const Z=yield qs(M,O,"getOobCode",!0);g&&Ua(M,Z,g),yield Zo(M,Z)}else g&&Ua(M,O,g),yield Zo(M,O).catch(function(){var Z=(0,h.Z)(function*(ue){if("auth/missing-recaptcha-token"!==ue.code)return Promise.reject(ue);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const $e=yield qs(M,O,"getOobCode",!0);g&&Ua(M,$e,g),yield Zo(M,$e)}});return function(ue){return Z.apply(this,arguments)}}())}),rf.apply(this,arguments)}function bu(v,p,g){return bi.apply(this,arguments)}function bi(){return(bi=(0,h.Z)(function*(v,p,g){yield Oa((0,B.m9)(v),{oobCode:p,newPassword:g})})).apply(this,arguments)}function Tu(v,p){return Hn.apply(this,arguments)}function Hn(){return Hn=(0,h.Z)(function*(v,p){yield function Qh(v,p){return kt.apply(this,arguments)}((0,B.m9)(v),{oobCode:p})}),Hn.apply(this,arguments)}function fi(v,p){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,h.Z)(function*(v,p){const g=(0,B.m9)(v),I=yield Oa(g,{oobCode:p}),M=I.requestType;switch(X(M,g,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":X(I.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":X(I.mfaInfo,g,"internal-error");default:X(I.email,g,"internal-error")}let O=null;return I.mfaInfo&&(O=ei._fromServerResponse(Zn(g),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:O},operation:M}})).apply(this,arguments)}function Su(v,p){return bo.apply(this,arguments)}function bo(){return(bo=(0,h.Z)(function*(v,p){const{data:g}=yield fi((0,B.m9)(v),p);return g.email})).apply(this,arguments)}function To(v,p,g){return Au.apply(this,arguments)}function Au(){return Au=(0,h.Z)(function*(v,p,g){var I;const M=Zn(v),O={returnSecureToken:!0,email:p,password:g,clientType:"CLIENT_TYPE_WEB"};let Z;if(null!==(I=M._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const Je=yield qs(M,O,"signUpPassword");Z=$i(M,Je)}else Z=$i(M,O).catch(function(){var Je=(0,h.Z)(function*(yt){if("auth/missing-recaptcha-token"===yt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Wt=yield qs(M,O,"signUpPassword");return $i(M,Wt)}return Promise.reject(yt)});return function(yt){return Je.apply(this,arguments)}}());const ue=yield Z.catch(Je=>Promise.reject(Je)),$e=yield In._fromIdTokenResponse(M,"signIn",ue);return yield M._updateCurrentUser($e.user),$e}),Au.apply(this,arguments)}function sf(v,p,g){return Pc((0,B.m9)(v),Jh.credential(p,g))}function ud(v,p,g){return Js.apply(this,arguments)}function Js(){return Js=(0,h.Z)(function*(v,p,g){var I;const M=Zn(v),O={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};function Z(ue,$e){X($e.handleCodeInApp,M,"argument-error"),$e&&Ua(M,ue,$e)}if(null!==(I=M._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const ue=yield qs(M,O,"getOobCode",!0);Z(ue,g),yield td(M,ue)}else Z(O,g),yield td(M,O).catch(function(){var ue=(0,h.Z)(function*($e){if("auth/missing-recaptcha-token"!==$e.code)return Promise.reject($e);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Je=yield qs(M,O,"getOobCode",!0);Z(Je,g),yield td(M,Je)}});return function($e){return ue.apply(this,arguments)}}())}),Js.apply(this,arguments)}function cd(v,p){const g=Bi.parseLink(p);return"EMAIL_SIGNIN"===g?.operation}function Vc(v,p,g){return wr.apply(this,arguments)}function wr(){return(wr=(0,h.Z)(function*(v,p,g){const I=(0,B.m9)(v),M=Jh.credentialWithLink(p,g||Yt());return X(M._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),Pc(I,M)})).apply(this,arguments)}function Uc(){return(Uc=(0,h.Z)(function*(v,p){return it(v,"POST","/v1/accounts:createAuthUri",Ye(v,p))})).apply(this,arguments)}function fg(v,p){return Ba.apply(this,arguments)}function Ba(){return Ba=(0,h.Z)(function*(v,p){const I={identifier:p,continueUri:or()?Yt():"http://localhost"},{signinMethods:M}=yield function wv(v,p){return Uc.apply(this,arguments)}((0,B.m9)(v),I);return M||[]}),Ba.apply(this,arguments)}function af(v,p){return $a.apply(this,arguments)}function $a(){return $a=(0,h.Z)(function*(v,p){const g=(0,B.m9)(v),M={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};p&&Ua(g.auth,M,p);const{email:O}=yield function ed(v,p){return Pa.apply(this,arguments)}(g.auth,M);O!==v.email&&(yield v.reload())}),$a.apply(this,arguments)}function Mu(v,p,g){return Xo.apply(this,arguments)}function Xo(){return Xo=(0,h.Z)(function*(v,p,g){const I=(0,B.m9)(v),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:p};g&&Ua(I.auth,O,g);const{email:Z}=yield function nt(v,p){return Nt.apply(this,arguments)}(I.auth,O);Z!==v.email&&(yield v.reload())}),Xo.apply(this,arguments)}function $c(){return($c=(0,h.Z)(function*(v,p){return it(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function uf(v,p){return jc.apply(this,arguments)}function jc(){return jc=(0,h.Z)(function*(v,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const I=(0,B.m9)(v),O={idToken:yield I.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},Z=yield qt(I,function Bc(v,p){return $c.apply(this,arguments)}(I.auth,O));I.displayName=Z.displayName||null,I.photoURL=Z.photoUrl||null;const ue=I.providerData.find(({providerId:$e})=>"password"===$e);ue&&(ue.displayName=I.displayName,ue.photoURL=I.photoURL),yield I._updateTokensIfNecessary(Z)}),jc.apply(this,arguments)}function ld(v,p){return zc((0,B.m9)(v),p,null)}function Hc(v,p){return zc((0,B.m9)(v),null,p)}function zc(v,p,g){return ji.apply(this,arguments)}function ji(){return(ji=(0,h.Z)(function*(v,p,g){const{auth:I}=v,O={idToken:yield v.getIdToken(),returnSecureToken:!0};p&&(O.email=p),g&&(O.password=g);const Z=yield qt(v,yu(I,O));yield v._updateTokensIfNecessary(Z,!0)})).apply(this,arguments)}class So{constructor(p,g,I={}){this.isNewUser=p,this.providerId=g,this.profile=I}}class wn extends So{constructor(p,g,I,M){super(p,g,I),this.username=M}}class xu extends So{constructor(p,g){super(p,"facebook.com",g)}}class ea extends wn{constructor(p,g){super(p,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class Fr extends So{constructor(p,g){super(p,"google.com",g)}}class ta extends wn{constructor(p,g,I){super(p,"twitter.com",g,I)}}function dd(v){const{user:p,_tokenResponse:g}=v;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Gc(v){var p,g;if(!v)return null;const{providerId:I}=v,M=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},O=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!I&&v?.idToken){const Z=null===(g=null===(p=ut(v.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(Z)return new So(O,"anonymous"!==Z&&"custom"!==Z?Z:null)}if(!I)return null;switch(I){case"facebook.com":return new xu(O,M);case"github.com":return new ea(O,M);case"google.com":return new Fr(O,M);case"twitter.com":return new ta(O,M,v.screenName||null);case"custom":case"anonymous":return new So(O,null);default:return new So(O,I,M)}}(g)}class Si{constructor(p,g,I){this.type=p,this.credential=g,this.auth=I}static _fromIdtoken(p,g){return new Si("enroll",p,g)}static _fromMfaPendingCredential(p){return new Si("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,I;if(p?.multiFactorSession){if(null!==(g=p.multiFactorSession)&&void 0!==g&&g.pendingCredential)return Si._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(I=p.multiFactorSession)&&void 0!==I&&I.idToken)return Si._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Ru{constructor(p,g,I){this.session=p,this.hints=g,this.signInResolver=I}static _fromError(p,g){const I=Zn(p),M=g.customData._serverResponse,O=(M.mfaInfo||[]).map(ue=>ei._fromServerResponse(I,ue));X(M.mfaPendingCredential,I,"internal-error");const Z=Si._fromMfaPendingCredential(M.mfaPendingCredential);return new Ru(Z,O,function(){var ue=(0,h.Z)(function*($e){const Je=yield $e._process(I,Z);delete M.mfaInfo,delete M.mfaPendingCredential;const yt=Object.assign(Object.assign({},M),{idToken:Je.idToken,refreshToken:Je.refreshToken});switch(g.operationType){case"signIn":const Wt=yield In._fromIdTokenResponse(I,g.operationType,yt);return yield I._updateCurrentUser(Wt.user),Wt;case"reauthenticate":return X(g.user,I,"internal-error"),In._forOperation(g.user,g.operationType,yt);default:ee(I,"internal-error")}});return function($e){return ue.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,h.Z)(function*(){return g.signInResolver(p)})()}}function Ct(v,p){var g;const I=(0,B.m9)(v),M=p;return X(p.customData.operationType,I,"argument-error"),X(null===(g=M.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,I,"argument-error"),Ru._fromError(I,M)}class ja{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(I=>ei._fromServerResponse(p.auth,I)))})}static _fromUser(p){return new ja(p)}getSession(){var p=this;return(0,h.Z)(function*(){return Si._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,g){var I=this;return(0,h.Z)(function*(){const M=p,O=yield I.getSession(),Z=yield qt(I.user,M._process(I.user.auth,O,g));return yield I.user._updateTokensIfNecessary(Z),I.user.reload()})()}unenroll(p){var g=this;return(0,h.Z)(function*(){const I="string"==typeof p?p:p.uid,M=yield g.user.getIdToken();try{const O=yield qt(g.user,function lf(v,p){return it(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Ye(v,p))}(g.user.auth,{idToken:M,mfaEnrollmentId:I}));g.enrolledFactors=g.enrolledFactors.filter(({uid:Z})=>Z!==I),yield g.user._updateTokensIfNecessary(O),yield g.user.reload()}catch(O){throw O}})()}}const Hi=new WeakMap;function Ou(v){const p=(0,B.m9)(v);return Hi.has(p)||Hi.set(p,ja._fromUser(p)),Hi.get(p)}const Ha="__sak";class df{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Ha,"1"),this.storage.removeItem(Ha),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Kc=(()=>{class v extends df{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,I)=>this.onStorageEvent(g,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function md(){const v=(0,B.z$)();return F(v)||pt(v)}()&&function yr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Pt(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const I of Object.keys(this.listeners)){const M=this.storage.getItem(I),O=this.localCache[I];M!==O&&g(I,O,M)}}onStorageEvent(g,I=!1){if(!g.key)return void this.forAllChangedKeys((ue,$e,Je)=>{this.notifyListeners(ue,Je)});const M=g.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ue=this.storage.getItem(M);if(g.newValue!==ue)null!==g.newValue?this.storage.setItem(M,g.newValue):this.storage.removeItem(M);else if(this.localCache[M]===g.newValue&&!I)return}const O=()=>{const ue=this.storage.getItem(M);!I&&this.localCache[M]===ue||this.notifyListeners(M,ue)},Z=this.storage.getItem(M);!function yn(){return(0,B.w1)()&&10===document.documentMode}()||Z===g.newValue||g.newValue===g.oldValue?O():setTimeout(O,10)}notifyListeners(g,I){this.localCache[g]=I;const M=this.listeners[g];if(M)for(const O of Array.from(M))O(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,I,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:I,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(I)}_removeListener(g,I){this.listeners[g]&&(this.listeners[g].delete(I),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,I){var M=()=>super._set,O=this;return(0,h.Z)(function*(){yield M().call(O,g,I),O.localCache[g]=JSON.stringify(I)})()}_get(g){var I=()=>super._get,M=this;return(0,h.Z)(function*(){const O=yield I().call(M,g);return M.localCache[g]=JSON.stringify(O),O})()}_remove(g){var I=()=>super._remove,M=this;return(0,h.Z)(function*(){yield I().call(M,g),delete M.localCache[g]})()}}return v.type="LOCAL",v})(),cr=(()=>{class v extends df{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,I){}_removeListener(g,I){}}return v.type="SESSION",v})();let ku=(()=>{class v{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const I=this.receivers.find(O=>O.isListeningto(g));if(I)return I;const M=new v(g);return this.receivers.push(M),M}isListeningto(g){return this.eventTarget===g}handleEvent(g){var I=this;return(0,h.Z)(function*(){const M=g,{eventId:O,eventType:Z,data:ue}=M.data,$e=I.handlersMap[Z];if(!$e?.size)return;M.ports[0].postMessage({status:"ack",eventId:O,eventType:Z});const Je=Array.from($e).map(function(){var Wt=(0,h.Z)(function*(ni){return ni(M.origin,ue)});return function(ni){return Wt.apply(this,arguments)}}()),yt=yield function ff(v){return Promise.all(v.map(function(){var p=(0,h.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(I){return{fulfilled:!1,reason:I}}});return function(g){return p.apply(this,arguments)}}()))}(Je);M.ports[0].postMessage({status:"done",eventId:O,eventType:Z,response:yt})})()}_subscribe(g,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(I)}_unsubscribe(g,I){this.handlersMap[g]&&I&&this.handlersMap[g].delete(I),(!I||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function qr(v="",p=10){let g="";for(let I=0;I<p;I++)g+=Math.floor(10*Math.random());return v+g}class pf{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,I=50){var M=this;return(0,h.Z)(function*(){const O=typeof MessageChannel<"u"?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let Z,ue;return new Promise(($e,Je)=>{const yt=qr("",20);O.port1.start();const Wt=setTimeout(()=>{Je(new Error("unsupported_event"))},I);ue={messageChannel:O,onMessage(ni){const Po=ni;if(Po.data.eventId===yt)switch(Po.data.status){case"ack":clearTimeout(Wt),Z=setTimeout(()=>{Je(new Error("timeout"))},3e3);break;case"done":clearTimeout(Z),$e(Po.data.response);break;default:clearTimeout(Wt),clearTimeout(Z),Je(new Error("invalid_response"))}}},M.handlers.add(ue),O.port1.addEventListener("message",ue.onMessage),M.target.postMessage({eventType:p,eventId:yt,data:g},[O.port2])}).finally(()=>{ue&&M.removeMessageHandler(ue)})})()}}function zn(){return window}function yd(){return typeof zn().WorkerGlobalScope<"u"&&"function"==typeof zn().importScripts}function Nr(){return(Nr=(0,h.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Rn="firebaseLocalStorageDb",lr="firebaseLocalStorage",Qc="fbase_key";class za{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Lu(v,p){return v.transaction([lr],p?"readwrite":"readonly").objectStore(lr)}function Ga(){const v=indexedDB.open(Rn,1);return new Promise((p,g)=>{v.addEventListener("error",()=>{g(v.error)}),v.addEventListener("upgradeneeded",()=>{const I=v.result;try{I.createObjectStore(lr,{keyPath:Qc})}catch(M){g(M)}}),v.addEventListener("success",(0,h.Z)(function*(){const I=v.result;I.objectStoreNames.contains(lr)?p(I):(I.close(),yield function _d(){const v=indexedDB.deleteDatabase(Rn);return new za(v).toPromise()}(),p(yield Ga()))}))})}function Vu(v,p,g){return eo.apply(this,arguments)}function eo(){return(eo=(0,h.Z)(function*(v,p,g){const I=Lu(v,!0).put({[Qc]:p,value:g});return new za(I).toPromise()})).apply(this,arguments)}function ra(){return(ra=(0,h.Z)(function*(v,p){const g=Lu(v,!1).get(p),I=yield new za(g).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function Uu(v,p){const g=Lu(v,!0).delete(p);return new za(g).toPromise()}const wd=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,h.Z)(function*(){return g.db||(g.db=yield Ga()),g.db})()}_withRetries(g){var I=this;return(0,h.Z)(function*(){let M=0;for(;;)try{const O=yield I._openDb();return yield g(O)}catch(O){if(M++>3)throw O;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,h.Z)(function*(){return yd()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,h.Z)(function*(){g.receiver=ku._getInstance(function Fu(){return yd()?self:null}()),g.receiver._subscribe("keyChanged",function(){var I=(0,h.Z)(function*(M,O){return{keyProcessed:(yield g._poll()).includes(O.key)}});return function(M,O){return I.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var I=(0,h.Z)(function*(M,O){return["keyChanged"]});return function(M,O){return I.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,h.Z)(function*(){var I,M;if(g.activeServiceWorker=yield function vd(){return Nr.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new pf(g.activeServiceWorker);const O=yield g.sender._send("ping",{},800);O&&null!==(I=O[0])&&void 0!==I&&I.fulfilled&&null!==(M=O[0])&&void 0!==M&&M.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var I=this;return(0,h.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function us(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:g},I.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Ga();return yield Vu(g,Ha,"1"),yield Uu(g,Ha),!0}catch{}return!1})()}_withPendingWrite(g){var I=this;return(0,h.Z)(function*(){I.pendingWrites++;try{yield g()}finally{I.pendingWrites--}})()}_set(g,I){var M=this;return(0,h.Z)(function*(){return M._withPendingWrite((0,h.Z)(function*(){return yield M._withRetries(O=>Vu(O,g,I)),M.localCache[g]=I,M.notifyServiceWorker(g)}))})()}_get(g){var I=this;return(0,h.Z)(function*(){const M=yield I._withRetries(O=>function to(v,p){return ra.apply(this,arguments)}(O,g));return I.localCache[g]=M,M})()}_remove(g){var I=this;return(0,h.Z)(function*(){return I._withPendingWrite((0,h.Z)(function*(){return yield I._withRetries(M=>Uu(M,g)),delete I.localCache[g],I.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,h.Z)(function*(){const I=yield g._withRetries(Z=>{const ue=Lu(Z,!1).getAll();return new za(ue).toPromise()});if(!I)return[];if(0!==g.pendingWrites)return[];const M=[],O=new Set;for(const{fbase_key:Z,value:ue}of I)O.add(Z),JSON.stringify(g.localCache[Z])!==JSON.stringify(ue)&&(g.notifyListeners(Z,ue),M.push(Z));for(const Z of Object.keys(g.localCache))g.localCache[Z]&&!O.has(Z)&&(g.notifyListeners(Z,null),M.push(Z));return M})()}notifyListeners(g,I){this.localCache[g]=I;const M=this.listeners[g];if(M)for(const O of Array.from(M))O(I)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(I)}_removeListener(g,I){this.listeners[g]&&(this.listeners[g].delete(I),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})(),Tn=1e12;class Dd{constructor(p){this.auth=p,this.counter=Tn,this._widgets=new Map}render(p,g){const I=this.counter;return this._widgets.set(I,new gf(p,this.auth.name,g||{})),this.counter++,I}reset(p){var g;const I=p||Tn;null===(g=this._widgets.get(I))||void 0===g||g.delete(),this._widgets.delete(I)}getResponse(p){var g;return(null===(g=this._widgets.get(p||Tn))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,h.Z)(function*(){var I;return null===(I=g._widgets.get(p||Tn))||void 0===I||I.execute(),""})()}}class gf{constructor(p,g,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof p?document.getElementById(p):p;X(M,"argument-error",{appName:g}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Cd(v){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<v;I++)p.push(g.charAt(Math.floor(62*Math.random())));return p.join("")}(50);const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const bd=Ws("rcb"),Td=new ye(3e4,6e4);class Wa{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=zn().grecaptcha)||void 0===p||!p.render)}load(p,g=""){return X(function Ao(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(g),p,"argument-error"),this.shouldResolveImmediately(g)&&xt(zn().grecaptcha)?Promise.resolve(zn().grecaptcha):new Promise((I,M)=>{const O=zn().setTimeout(()=>{M(_e(p,"network-request-failed"))},Td.get());zn()[bd]=()=>{zn().clearTimeout(O),delete zn()[bd];const ue=zn().grecaptcha;if(!ue||!xt(ue))return void M(_e(p,"internal-error"));const $e=ue.render;ue.render=(Je,yt)=>{const Wt=$e(Je,yt);return this.counter++,Wt},this.hostLanguage=g,I(ue)},$n(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:bd,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(O),M(_e(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var g;return!(null===(g=zn().grecaptcha)||void 0===g||!g.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Sd{load(p){return(0,h.Z)(function*(){return new Dd(p)})()}clearedOneInstance(){}}const $u="recaptcha",qa={theme:"light",type:"image"};class el{constructor(p,g=Object.assign({},qa),I){this.parameters=g,this.type=$u,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Zn(I),this.isInvisible="invisible"===this.parameters.size,X(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof p?document.getElementById(p):p;X(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Sd:new Wa,this.validateStartingState()}verify(){var p=this;return(0,h.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),I=p.getAssertedRecaptcha();return I.getResponse(g)||new Promise(O=>{const Z=ue=>{ue&&(p.tokenChangeListeners.delete(Z),O(ue))};p.tokenChangeListeners.add(Z),p.isInvisible&&I.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){X(!this.parameters.sitekey,this.auth,"argument-error"),X(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),X(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(I=>I(g)),"function"==typeof p)p(g);else if("string"==typeof p){const I=zn()[p];"function"==typeof I&&I(g)}}}assertNotDestroyed(){X(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,h.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const I=document.createElement("div");g.appendChild(I),g=I}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,h.Z)(function*(){X(or()&&!yd(),p.auth,"internal-error"),yield function ju(){let v=null;return new Promise(p=>{"complete"!==document.readyState?(v=()=>p(),window.addEventListener("load",v)):p()}).catch(p=>{throw v&&window.removeEventListener("load",v),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function de(v){return ne.apply(this,arguments)}(p.auth);X(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return X(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ai{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=xr._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function ro(v,p,g){return tl.apply(this,arguments)}function tl(){return(tl=(0,h.Z)(function*(v,p,g){const I=Zn(v),M=yield Mo(I,p,(0,B.m9)(g));return new Ai(M,O=>Pc(I,O))})).apply(this,arguments)}function hn(v,p,g){return mt.apply(this,arguments)}function mt(){return(mt=(0,h.Z)(function*(v,p,g){const I=(0,B.m9)(v);yield Oc(!1,I,"phone");const M=yield Mo(I.auth,p,(0,B.m9)(g));return new Ai(M,O=>Cu(I,O))})).apply(this,arguments)}function pi(v,p,g){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,h.Z)(function*(v,p,g){const I=(0,B.m9)(v),M=yield Mo(I.auth,p,(0,B.m9)(g));return new Ai(M,O=>tf(I,O))})).apply(this,arguments)}function Mo(v,p,g){return nl.apply(this,arguments)}function nl(){return nl=(0,h.Z)(function*(v,p,g){var I;const M=yield g.verify();try{let O;if(X("string"==typeof M,v,"argument-error"),X(g.type===$u,v,"argument-error"),O="string"==typeof p?{phoneNumber:p}:p,"session"in O){const Z=O.session;if("phoneNumber"in O)return X("enroll"===Z.type,v,"internal-error"),(yield function qc(v,p){return it(v,"POST","/v2/accounts/mfaEnrollment:start",Ye(v,p))}(v,{idToken:Z.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{X("signin"===Z.type,v,"internal-error");const ue=(null===(I=O.multiFactorHint)||void 0===I?void 0:I.uid)||O.multiFactorUid;return X(ue,v,"missing-multi-factor-info"),(yield function Ed(v,p){return it(v,"POST","/v2/accounts/mfaSignIn:start",Ye(v,p))}(v,{mfaPendingCredential:Z.credential,mfaEnrollmentId:ue,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Z}=yield function Fa(v,p){return wu.apply(this,arguments)}(v,{phoneNumber:O.phoneNumber,recaptchaToken:M});return Z}}finally{g._reset()}}),nl.apply(this,arguments)}function mf(v,p){return ia.apply(this,arguments)}function ia(){return(ia=(0,h.Z)(function*(v,p){yield os((0,B.m9)(v),p)})).apply(this,arguments)}let yg=(()=>{class v{constructor(g){this.providerId=v.PROVIDER_ID,this.auth=Zn(g)}verifyPhoneNumber(g,I){return Mo(this.auth,g,(0,B.m9)(I))}static credential(g,I){return xr._fromVerification(g,I)}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:I,temporaryProof:M}=g;return I&&M?xr._fromTokenResponse(I,M):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function zi(v,p){return p?nr(p):(X(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class $t extends Ra{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return _n(p,this._buildIdpRequest())}_linkToIdToken(p,g){return _n(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return _n(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function gi(v){return sd(v.auth,new $t(v),v.bypassAuthState)}function Ad(v){const{auth:p,user:g}=v;return X(g,p,"internal-error"),ef(g,new $t(v),v.bypassAuthState)}function sa(v){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,h.Z)(function*(v){const{auth:p,user:g}=v;return X(g,p,"internal-error"),os(g,new $t(v),v.bypassAuthState)})).apply(this,arguments)}class xo{constructor(p,g,I,M,O=!1){this.auth=p,this.resolver=I,this.user=M,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,h.Z)(function*(I,M){p.pendingPromise={resolve:I,reject:M};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(O){p.reject(O)}});return function(I,M){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,h.Z)(function*(){const{urlResponse:I,sessionId:M,postBody:O,tenantId:Z,error:ue,type:$e}=p;if(ue)return void g.reject(ue);const Je={auth:g.auth,requestUri:I,sessionId:M,tenantId:Z||void 0,postBody:O||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask($e)(Je))}catch(yt){g.reject(yt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return gi;case"linkViaPopup":case"linkViaRedirect":return sa;case"reauthViaPopup":case"reauthViaRedirect":return Ad;default:ee(this.auth,"internal-error")}}resolve(p){je(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){je(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const xi=new ye(2e3,1e4);function Gi(v,p,g){return io.apply(this,arguments)}function io(){return(io=(0,h.Z)(function*(v,p,g){const I=Zn(v);he(v,p,ss);const M=zi(I,g);return new As(I,"signInViaPopup",p,M).executeNotNull()})).apply(this,arguments)}function vg(v,p,g){return mi.apply(this,arguments)}function mi(){return(mi=(0,h.Z)(function*(v,p,g){const I=(0,B.m9)(v);he(I.auth,p,ss);const M=zi(I.auth,g);return new As(I.auth,"reauthViaPopup",p,M,I).executeNotNull()})).apply(this,arguments)}function yf(v,p,g){return so.apply(this,arguments)}function so(){return(so=(0,h.Z)(function*(v,p,g){const I=(0,B.m9)(v);he(I.auth,p,ss);const M=zi(I.auth,g);return new As(I.auth,"linkViaPopup",p,M,I).executeNotNull()})).apply(this,arguments)}let As=(()=>{class v extends xo{constructor(g,I,M,O,Z){super(g,I,O,Z),this.provider=M,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var g=this;return(0,h.Z)(function*(){const I=yield g.execute();return X(I,g.auth,"internal-error"),I})()}onExecution(){var g=this;return(0,h.Z)(function*(){je(1===g.filter.length,"Popup operations only handle one event");const I=qr();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],I),g.authWindow.associatedEvent=I,g.resolver._originValidation(g.auth).catch(M=>{g.reject(M)}),g.resolver._isIframeWebStorageSupported(g.auth,M=>{M||g.reject(_e(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(_e(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const g=()=>{var I,M;this.pollId=null!==(M=null===(I=this.authWindow)||void 0===I?void 0:I.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject(_e(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,xi.get())};g()}}return v.currentPopupAction=null,v})();const Md="pendingRedirect",Wi=new Map;class zu extends xo{constructor(p,g,I=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,I),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,h.Z)(function*(){let I=Wi.get(g.auth._key());if(!I){try{const O=(yield function vf(v,p){return oa.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;I=()=>Promise.resolve(O)}catch(M){I=()=>Promise.reject(M)}Wi.set(g.auth._key(),I)}return g.bypassAuthState||Wi.set(g.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,I=this;return(0,h.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(I,p);if("unknown"!==p.type){if(p.eventId){const M=yield I.auth._redirectUserForId(p.eventId);if(M)return I.user=M,g().call(I,p);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function oa(){return(oa=(0,h.Z)(function*(v,p){const g=oo(p),I=Ro(v);if(!(yield I._isAvailable()))return!1;const M="true"===(yield I._get(g));return yield I._remove(g),M})).apply(this,arguments)}function No(v,p){return ls.apply(this,arguments)}function ls(){return(ls=(0,h.Z)(function*(v,p){return Ro(v)._set(oo(p),"true")})).apply(this,arguments)}function xd(){Wi.clear()}function Ni(v,p){Wi.set(v._key(),p)}function Ro(v){return nr(v._redirectPersistence)}function oo(v){return Zt(Md,v.config.apiKey,v.name)}function ao(v,p,g){return function dr(v,p,g){return Ms.apply(this,arguments)}(v,p,g)}function Ms(){return(Ms=(0,h.Z)(function*(v,p,g){const I=Zn(v);he(v,p,ss),yield I._initializationPromise;const M=zi(I,g);return yield No(M,I),M._openRedirect(I,p,"signInViaRedirect")})).apply(this,arguments)}function xs(v,p,g){return function qi(v,p,g){return Er.apply(this,arguments)}(v,p,g)}function Er(){return(Er=(0,h.Z)(function*(v,p,g){const I=(0,B.m9)(v);he(I.auth,p,ss),yield I.auth._initializationPromise;const M=zi(I.auth,g);yield No(M,I.auth);const O=yield Gu(I);return M._openRedirect(I.auth,p,"reauthViaRedirect",O)})).apply(this,arguments)}function aa(v,p,g){return function Nd(v,p,g){return rl.apply(this,arguments)}(v,p,g)}function rl(){return(rl=(0,h.Z)(function*(v,p,g){const I=(0,B.m9)(v);he(I.auth,p,ss),yield I.auth._initializationPromise;const M=zi(I.auth,g);yield Oc(!1,I,p.providerId),yield No(M,I.auth);const O=yield Gu(I);return M._openRedirect(I.auth,p,"linkViaRedirect",O)})).apply(this,arguments)}function ds(v,p){return yi.apply(this,arguments)}function yi(){return(yi=(0,h.Z)(function*(v,p){return yield Zn(v)._initializationPromise,Gn(v,p,!1)})).apply(this,arguments)}function Gn(v,p){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,h.Z)(function*(v,p,g=!1){const I=Zn(v),M=zi(I,p),Z=yield new zu(I,M,g).execute();return Z&&!g&&(delete Z.user._redirectEventId,yield I._persistUserIfCurrent(Z.user),yield I._setRedirectUser(null,p)),Z})).apply(this,arguments)}function Gu(v){return uo.apply(this,arguments)}function uo(){return(uo=(0,h.Z)(function*(v){const p=qr(`${v.uid}:::`);return v._redirectEventId=p,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),p})).apply(this,arguments)}class il{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(p,I)&&(g=!0,this.sendToConsumer(p,I),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Vt(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Za(v);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var I;if(p.error&&!Za(p)){const M=(null===(I=p.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";g.onError(_e(this.auth,M))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const I=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&I}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Wu(p))}saveEventToCache(p){this.cachedEventUids.add(Wu(p)),this.lastProcessedEventTime=Date.now()}}function Wu(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(p=>p).join("-")}function Za({type:v,error:p}){return"unknown"===v&&"auth/no-auth-event"===p?.code}function Oo(v){return qu.apply(this,arguments)}function qu(){return(qu=(0,h.Z)(function*(v,p={}){return it(v,"GET","/v1/projects",p)})).apply(this,arguments)}const Zu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ev=/^https?/;function Zi(){return(Zi=(0,h.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:p}=yield Oo(v);for(const g of p)try{if(_f(g))return}catch{}ee(v,"unauthorized-domain")})).apply(this,arguments)}function _f(v){const p=Yt(),{protocol:g,hostname:I}=new URL(p);if(v.startsWith("chrome-extension://")){const Z=new URL(v);return""===Z.hostname&&""===I?"chrome-extension:"===g&&v.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&Z.hostname===I}if(!Ev.test(g))return!1;if(Zu.test(v))return I===v;const M=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(I)}const Sn=new ye(3e4,6e4);function fs(){const v=zn().___jsl;if(v?.H)for(const p of Object.keys(v.H))if(v.H[p].r=v.H[p].r||[],v.H[p].L=v.H[p].L||[],v.H[p].r=[...v.H[p].L],v.CP)for(let g=0;g<v.CP.length;g++)v.CP[g]=null}let Ya=null;const Qa=new ye(5e3,15e3),Ns="__/auth/iframe",sl="emulator/auth/iframe",Ja={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ol=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function al(v){const p=v.config;X(p.authDomain,v,"auth-domain-config-required");const g=p.emulator?Ce(p,sl):`https://${v.config.authDomain}/${Ns}`,I={apiKey:p.apiKey,appName:v.name,v:R.SDK_VERSION},M=ol.get(v.config.apiHost);M&&(I.eid=M);const O=v._getFrameworks();return O.length&&(I.fw=O.join(",")),`${g}?${(0,B.xO)(I).slice(1)}`}function on(){return on=(0,h.Z)(function*(v){const p=yield function hr(v){return Ya=Ya||function Ka(v){return new Promise((p,g)=>{var I,M,O;function Z(){fs(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{fs(),g(_e(v,"network-request-failed"))},timeout:Sn.get()})}if(null!==(M=null===(I=zn().gapi)||void 0===I?void 0:I.iframes)&&void 0!==M&&M.Iframe)p(gapi.iframes.getContext());else{if(null===(O=zn().gapi)||void 0===O||!O.load){const ue=Ws("iframefcb");return zn()[ue]=()=>{gapi.load?Z():g(_e(v,"network-request-failed"))},$n(`https://apis.google.com/js/api.js?onload=${ue}`).catch($e=>g($e))}Z()}}).catch(p=>{throw Ya=null,p})}(v),Ya}(v),g=zn().gapi;return X(g,v,"internal-error"),p.open({where:document.body,url:al(v),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ja,dontclear:!0},I=>new Promise(function(){var M=(0,h.Z)(function*(O,Z){yield I.restyle({setHideOnLeave:!1});const ue=_e(v,"network-request-failed"),$e=zn().setTimeout(()=>{Z(ue)},Qa.get());function Je(){zn().clearTimeout($e),O(I)}I.ping(Je).then(Je,()=>{Z(ue)})});return function(O,Z){return M.apply(this,arguments)}}()))}),on.apply(this,arguments)}const w={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class K{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Be="__/auth/handler",at="emulator/auth/handler",At=encodeURIComponent("fac");function Mt(v,p,g,I,M,O){return fr.apply(this,arguments)}function fr(){return(fr=(0,h.Z)(function*(v,p,g,I,M,O){X(v.config.authDomain,v,"auth-domain-config-required"),X(v.config.apiKey,v,"invalid-api-key");const Z={apiKey:v.config.apiKey,appName:v.name,authType:g,redirectUrl:I,v:R.SDK_VERSION,eventId:M};if(p instanceof ss){p.setDefaultLanguage(v.languageCode),Z.providerId=p.providerId||"",(0,B.xb)(p.getCustomParameters())||(Z.customParameters=JSON.stringify(p.getCustomParameters()));for(const[yt,Wt]of Object.entries(O||{}))Z[yt]=Wt}if(p instanceof Do){const yt=p.getScopes().filter(Wt=>""!==Wt);yt.length>0&&(Z.scopes=yt.join(","))}v.tenantId&&(Z.tid=v.tenantId);const ue=Z;for(const yt of Object.keys(ue))void 0===ue[yt]&&delete ue[yt];const $e=yield v._getAppCheckToken(),Je=$e?`#${At}=${encodeURIComponent($e)}`:"";return`${function rr({config:v}){return v.emulator?Ce(v,at):`https://${v.authDomain}/${Be}`}(v)}?${(0,B.xO)(ue).slice(1)}${Je}`})).apply(this,arguments)}const ps="webStorageSupport",Rs=class Yu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cr,this._completeRedirectFn=Gn,this._overrideRedirectResult=Ni}_openPopup(p,g,I,M){var O=this;return(0,h.Z)(function*(){var Z;je(null===(Z=O.eventManagers[p._key()])||void 0===Z?void 0:Z.manager,"_initialize() not called before _openPopup()");const ue=yield Mt(p,g,I,Yt(),M);return function le(v,p,g,I=500,M=600){const O=Math.max((window.screen.availHeight-M)/2,0).toString(),Z=Math.max((window.screen.availWidth-I)/2,0).toString();let ue="";const $e=Object.assign(Object.assign({},w),{width:I.toString(),height:M.toString(),top:O,left:Z}),Je=(0,B.z$)().toLowerCase();g&&(ue=N(Je)?"_blank":g),k(Je)&&(p=p||"http://localhost",$e.scrollbars="yes");const yt=Object.entries($e).reduce((ni,[Po,If])=>`${ni}${Po}=${If},`,"");if(function St(v=(0,B.z$)()){var p;return pt(v)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(Je)&&"_self"!==ue)return function Ge(v,p){const g=document.createElement("a");g.href=v,g.target=p;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(I)}(p||"",ue),new K(null);const Wt=window.open(p||"",ue,yt);X(Wt,v,"popup-blocked");try{Wt.focus()}catch{}return new K(Wt)}(p,ue,qr())})()}_openRedirect(p,g,I,M){var O=this;return(0,h.Z)(function*(){return yield O._originValidation(p),function Yc(v){zn().location.href=v}(yield Mt(p,g,I,Yt(),M)),new Promise(()=>{})})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:M,promise:O}=this.eventManagers[g];return M?Promise.resolve(M):(je(O,"If manager is not set, promise should be"),O)}const I=this.initAndGetManager(p);return this.eventManagers[g]={promise:I},I.catch(()=>{delete this.eventManagers[g]}),I}initAndGetManager(p){var g=this;return(0,h.Z)(function*(){const I=yield function ua(v){return on.apply(this,arguments)}(p),M=new il(p);return I.register("authEvent",O=>(X(O?.authEvent,p,"invalid-auth-event"),{status:M.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:M},g.iframes[p._key()]=I,M})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(ps,{type:ps},M=>{var O;const Z=null===(O=M?.[0])||void 0===O?void 0:O[ps];void 0!==Z&&g(!!Z),ee(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Ku(v){return Zi.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return Pt()||F()||pt()}};class Ki{constructor(p){this.factorId=p}_process(p,g,I){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,I);case"signin":return this._finalizeSignIn(p,g.credential);default:return Xe("unexpected MultiFactorSessionType")}}}class Yi extends Ki{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Yi(p)}_finalizeEnroll(p,g,I){return function gd(v,p){return it(v,"POST","/v2/accounts/mfaEnrollment:finalize",Ye(v,p))}(p,{idToken:g,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function Id(v,p){return it(v,"POST","/v2/accounts/mfaSignIn:finalize",Ye(v,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ca=(()=>{class v{constructor(){}static assertion(g){return Yi._fromCredential(g)}}return v.FACTOR_ID="phone",v})();var Xa="@firebase/auth";class Iv{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,h.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(I=>{p(I?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);g&&(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,B.Pz)("authIdTokenMaxAge"),function Ef(v){(0,R._registerComponent)(new pe.wA("auth",(p,{options:g})=>{const I=p.getProvider("app").getImmediate(),M=p.getProvider("heartbeat"),O=p.getProvider("app-check-internal"),{apiKey:Z,authDomain:ue}=I.options;X(Z&&!Z.includes(":"),"invalid-api-key",{appName:I.name});const $e={apiKey:Z,authDomain:ue,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ar(v)},Je=new gu(I,M,O,$e);return function lg(v,p){const g=p?.persistence||[],I=(Array.isArray(g)?g:[g]).map(nr);p?.errorMap&&v._updateErrorMap(p.errorMap),v._initializeWithPersistence(I,p?.popupRedirectResolver)}(Je,g),Je},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,I)=>{p.getProvider("auth-internal").initialize()})),(0,R._registerComponent)(new pe.wA("auth-internal",p=>{const g=Zn(p.getProvider("auth").getImmediate());return new Iv(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,R.registerVersion)(Xa,"0.23.2",function Dv(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,R.registerVersion)(Xa,"0.23.2","esm2017")}("Browser")},9058:(dt,Ie,L)=>{L.d(Ie,{$s:()=>nr,BH:()=>se,G6:()=>Ce,L:()=>fe,LL:()=>An,P0:()=>ot,Pz:()=>_e,Sg:()=>he,UG:()=>Xe,US:()=>pe,ZB:()=>te,ZR:()=>it,aH:()=>ee,b$:()=>or,eu:()=>He,hl:()=>Re,jU:()=>je,m9:()=>Zt,ne:()=>qt,pd:()=>ut,r3:()=>Vn,ru:()=>Yt,tV:()=>j,uI:()=>X,vZ:()=>Tr,w1:()=>Cs,xO:()=>ns,xb:()=>_o,z$:()=>xe,zI:()=>Ve,zd:()=>Ze});const Y=function(H){const $=[];let k=0;for(let F=0;F<H.length;F++){let N=H.charCodeAt(F);N<128?$[k++]=N:N<2048?($[k++]=N>>6|192,$[k++]=63&N|128):55296==(64512&N)&&F+1<H.length&&56320==(64512&H.charCodeAt(F+1))?(N=65536+((1023&N)<<10)+(1023&H.charCodeAt(++F)),$[k++]=N>>18|240,$[k++]=N>>12&63|128,$[k++]=N>>6&63|128,$[k++]=63&N|128):($[k++]=N>>12|224,$[k++]=N>>6&63|128,$[k++]=63&N|128)}return $},pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(H,$){if(!Array.isArray(H))throw Error("encodeByteArray takes an array as a parameter");this.init_();const k=$?this.byteToCharMapWebSafe_:this.byteToCharMap_,F=[];for(let N=0;N<H.length;N+=3){const Q=H[N],me=N+1<H.length,ze=me?H[N+1]:0,gt=N+2<H.length,pt=gt?H[N+2]:0;let yn=(15&ze)<<2|pt>>6,Pt=63&pt;gt||(Pt=64,me||(yn=64)),F.push(k[Q>>2],k[(3&Q)<<4|ze>>4],k[yn],k[Pt])}return F.join("")},encodeString(H,$){return this.HAS_NATIVE_SUPPORT&&!$?btoa(H):this.encodeByteArray(Y(H),$)},decodeString(H,$){return this.HAS_NATIVE_SUPPORT&&!$?atob(H):function(H){const $=[];let k=0,F=0;for(;k<H.length;){const N=H[k++];if(N<128)$[F++]=String.fromCharCode(N);else if(N>191&&N<224){const Q=H[k++];$[F++]=String.fromCharCode((31&N)<<6|63&Q)}else if(N>239&&N<365){const gt=((7&N)<<18|(63&H[k++])<<12|(63&H[k++])<<6|63&H[k++])-65536;$[F++]=String.fromCharCode(55296+(gt>>10)),$[F++]=String.fromCharCode(56320+(1023&gt))}else{const Q=H[k++],me=H[k++];$[F++]=String.fromCharCode((15&N)<<12|(63&Q)<<6|63&me)}}return $.join("")}(this.decodeStringToByteArray(H,$))},decodeStringToByteArray(H,$){this.init_();const k=$?this.charToByteMapWebSafe_:this.charToByteMap_,F=[];for(let N=0;N<H.length;){const Q=k[H.charAt(N++)],ze=N<H.length?k[H.charAt(N)]:0;++N;const pt=N<H.length?k[H.charAt(N)]:64;++N;const St=N<H.length?k[H.charAt(N)]:64;if(++N,null==Q||null==ze||null==pt||null==St)throw new ge;F.push(Q<<2|ze>>4),64!==pt&&(F.push(ze<<4&240|pt>>2),64!==St&&F.push(pt<<6&192|St))}return F},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let H=0;H<this.ENCODED_VALS.length;H++)this.byteToCharMap_[H]=this.ENCODED_VALS.charAt(H),this.charToByteMap_[this.byteToCharMap_[H]]=H,this.byteToCharMapWebSafe_[H]=this.ENCODED_VALS_WEBSAFE.charAt(H),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[H]]=H,H>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(H)]=H,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(H)]=H)}}};class ge extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fe=function(H){return function(H){const $=Y(H);return pe.encodeByteArray($,!0)}(H).replace(/\./g,"")},j=function(H){try{return pe.decodeString(H,!0)}catch($){console.error("base64Decode failed: ",$)}return null};function te(H,$){if(!($ instanceof Object))return $;switch($.constructor){case Date:return new Date($.getTime());case Object:void 0===H&&(H={});break;case Array:H=[];break;default:return $}for(const k in $)!$.hasOwnProperty(k)||!Pe(k)||(H[k]=te(H[k],$[k]));return H}function Pe(H){return"__proto__"!==H}const Ne=()=>{try{return function Se(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const H=process.env.__FIREBASE_DEFAULTS__;return H?JSON.parse(H):void 0})()||(()=>{if(typeof document>"u")return;let H;try{H=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const $=H&&j(H[1]);return $&&JSON.parse($)})()}catch(H){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${H}`)}},ot=H=>{const $=(H=>{var $,k;return null===(k=null===($=Ne())||void 0===$?void 0:$.emulatorHosts)||void 0===k?void 0:k[H]})(H);if(!$)return;const k=$.lastIndexOf(":");if(k<=0||k+1===$.length)throw new Error(`Invalid host ${$} with no separate hostname and port!`);const F=parseInt($.substring(k+1),10);return"["===$[0]?[$.substring(1,k-1),F]:[$.substring(0,k),F]},ee=()=>{var H;return null===(H=Ne())||void 0===H?void 0:H.config},_e=H=>{var $;return null===($=Ne())||void 0===$?void 0:$[`_${H}`]};class se{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($,k)=>{this.resolve=$,this.reject=k})}wrapCallback($){return(k,F)=>{k?this.reject(k):this.resolve(F),"function"==typeof $&&(this.promise.catch(()=>{}),1===$.length?$(k):$(k,F))}}}function he(H,$){if(H.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const F=$||"demo-project",N=H.iat||0,Q=H.sub||H.user_id;if(!Q)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const me=Object.assign({iss:`https://securetoken.google.com/${F}`,aud:F,iat:N,exp:N+3600,auth_time:N,sub:Q,user_id:Q,firebase:{sign_in_provider:"custom",identities:{}}},H);return[fe(JSON.stringify({alg:"none",type:"JWT"})),fe(JSON.stringify(me)),""].join(".")}function xe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function X(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xe())}function Xe(){var H;const $=null===(H=Ne())||void 0===H?void 0:H.forceEnvironment;if("node"===$)return!0;if("browser"===$)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function je(){return"object"==typeof self&&self.self===self}function Yt(){const H="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof H&&void 0!==H.id}function or(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Cs(){const H=xe();return H.indexOf("MSIE ")>=0||H.indexOf("Trident/")>=0}function Ce(){return!Xe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Re(){try{return"object"==typeof indexedDB}catch{return!1}}function He(){return new Promise((H,$)=>{try{let k=!0;const F="validate-browser-context-for-indexeddb-analytics-module",N=self.indexedDB.open(F);N.onsuccess=()=>{N.result.close(),k||self.indexedDB.deleteDatabase(F),H(!0)},N.onupgradeneeded=()=>{k=!1},N.onerror=()=>{var Q;$((null===(Q=N.error)||void 0===Q?void 0:Q.message)||"")}}catch(k){$(k)}})}function Ve(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class it extends Error{constructor($,k,F){super(k),this.code=$,this.customData=F,this.name="FirebaseError",Object.setPrototypeOf(this,it.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,An.prototype.create)}}class An{constructor($,k,F){this.service=$,this.serviceName=k,this.errors=F}create($,...k){const F=k[0]||{},N=`${this.service}/${$}`,Q=this.errors[$],me=Q?function et(H,$){return H.replace(ht,(k,F)=>{const N=$[F];return null!=N?String(N):`<${F}?>`})}(Q,F):"Error";return new it(N,`${this.serviceName}: ${me} (${N}).`,F)}}const ht=/\{\$([^}]+)}/g;function Vn(H,$){return Object.prototype.hasOwnProperty.call(H,$)}function _o(H){for(const $ in H)if(Object.prototype.hasOwnProperty.call(H,$))return!1;return!0}function Tr(H,$){if(H===$)return!0;const k=Object.keys(H),F=Object.keys($);for(const N of k){if(!F.includes(N))return!1;const Q=H[N],me=$[N];if(Un(Q)&&Un(me)){if(!Tr(Q,me))return!1}else if(Q!==me)return!1}for(const N of F)if(!k.includes(N))return!1;return!0}function Un(H){return null!==H&&"object"==typeof H}function ns(H){const $=[];for(const[k,F]of Object.entries(H))Array.isArray(F)?F.forEach(N=>{$.push(encodeURIComponent(k)+"="+encodeURIComponent(N))}):$.push(encodeURIComponent(k)+"="+encodeURIComponent(F));return $.length?"&"+$.join("&"):""}function Ze(H){const $={};return H.replace(/^\?/,"").split("&").forEach(F=>{if(F){const[N,Q]=F.split("=");$[decodeURIComponent(N)]=decodeURIComponent(Q)}}),$}function ut(H){const $=H.indexOf("?");if(!$)return"";const k=H.indexOf("#",$);return H.substring($,k>0?k:void 0)}function qt(H,$){const k=new tr(H,$);return k.subscribe.bind(k)}class tr{constructor($,k){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=k,this.task.then(()=>{$(this)}).catch(F=>{this.error(F)})}next($){this.forEachObserver(k=>{k.next($)})}error($){this.forEachObserver(k=>{k.error($)}),this.close($)}complete(){this.forEachObserver($=>{$.complete()}),this.close()}subscribe($,k,F){let N;if(void 0===$&&void 0===k&&void 0===F)throw new Error("Missing Observer.");N=function zt(H,$){if("object"!=typeof H||null===H)return!1;for(const k of $)if(k in H&&"function"==typeof H[k])return!0;return!1}($,["next","error","complete"])?$:{next:$,error:k,complete:F},void 0===N.next&&(N.next=Wn),void 0===N.error&&(N.error=Wn),void 0===N.complete&&(N.complete=Wn);const Q=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?N.error(this.finalError):N.complete()}catch{}}),this.observers.push(N),Q}unsubscribeOne($){void 0===this.observers||void 0===this.observers[$]||(delete this.observers[$],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($){if(!this.finalized)for(let k=0;k<this.observers.length;k++)this.sendOne(k,$)}sendOne($,k){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$])try{k(this.observers[$])}catch(F){typeof console<"u"&&console.error&&console.error(F)}})}close($){this.finalized||(this.finalized=!0,void 0!==$&&(this.finalError=$),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Wn(){}const Bn=1e3,En=2,qn=144e5,Mn=.5;function nr(H,$=Bn,k=En){const F=$*Math.pow(k,H),N=Math.round(Mn*F*(Math.random()-.5)*2);return Math.min(qn,F+N)}function Zt(H){return H&&H._delegate?H._delegate:H}},5619:(dt,Ie,L)=>{L.d(Ie,{X:()=>B});var h=L(8645);class B extends h.x{constructor(Y){super(),this._value=Y}get value(){return this.getValue()}_subscribe(Y){const ie=super._subscribe(Y);return!ie.closed&&Y.next(this._value),ie}getValue(){const{hasError:Y,thrownError:ie,_value:pe}=this;if(Y)throw ie;return this._throwIfClosed(),pe}next(Y){super.next(this._value=Y)}}},5592:(dt,Ie,L)=>{L.d(Ie,{y:()=>Te});var h=L(1887),B=L(7394),R=L(4850),Y=L(8407),ie=L(2653),pe=L(4674),ge=L(1441);let Te=(()=>{class te{constructor(Se){Se&&(this._subscribe=Se)}lift(Se){const We=new te;return We.source=this,We.operator=Se,We}subscribe(Se,We,Ae){const qe=function z(te){return te&&te instanceof h.Lv||function j(te){return te&&(0,pe.m)(te.next)&&(0,pe.m)(te.error)&&(0,pe.m)(te.complete)}(te)&&(0,B.Nn)(te)}(Se)?Se:new h.Hp(Se,We,Ae);return(0,ge.x)(()=>{const{operator:Ne,source:_t}=this;qe.add(Ne?Ne.call(qe,_t):_t?this._subscribe(qe):this._trySubscribe(qe))}),qe}_trySubscribe(Se){try{return this._subscribe(Se)}catch(We){Se.error(We)}}forEach(Se,We){return new(We=fe(We))((Ae,qe)=>{const Ne=new h.Hp({next:_t=>{try{Se(_t)}catch(ot){qe(ot),Ne.unsubscribe()}},error:qe,complete:Ae});this.subscribe(Ne)})}_subscribe(Se){var We;return null===(We=this.source)||void 0===We?void 0:We.subscribe(Se)}[R.L](){return this}pipe(...Se){return(0,Y.U)(Se)(this)}toPromise(Se){return new(Se=fe(Se))((We,Ae)=>{let qe;this.subscribe(Ne=>qe=Ne,Ne=>Ae(Ne),()=>We(qe))})}}return te.create=Pe=>new te(Pe),te})();function fe(te){var Pe;return null!==(Pe=te??ie.config.Promise)&&void 0!==Pe?Pe:Promise}},8645:(dt,Ie,L)=>{L.d(Ie,{x:()=>ge});var h=L(5592),B=L(7394);const Y=(0,L(2306).d)(fe=>function(){fe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ie=L(9039),pe=L(1441);let ge=(()=>{class fe extends h.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(z){const te=new Te(this,this);return te.operator=z,te}_throwIfClosed(){if(this.closed)throw new Y}next(z){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const te of this.currentObservers)te.next(z)}})}error(z){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=z;const{observers:te}=this;for(;te.length;)te.shift().error(z)}})}complete(){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:z}=this;for(;z.length;)z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var z;return(null===(z=this.observers)||void 0===z?void 0:z.length)>0}_trySubscribe(z){return this._throwIfClosed(),super._trySubscribe(z)}_subscribe(z){return this._throwIfClosed(),this._checkFinalizedStatuses(z),this._innerSubscribe(z)}_innerSubscribe(z){const{hasError:te,isStopped:Pe,observers:Se}=this;return te||Pe?B.Lc:(this.currentObservers=null,Se.push(z),new B.w0(()=>{this.currentObservers=null,(0,ie.P)(Se,z)}))}_checkFinalizedStatuses(z){const{hasError:te,thrownError:Pe,isStopped:Se}=this;te?z.error(Pe):Se&&z.complete()}asObservable(){const z=new h.y;return z.source=this,z}}return fe.create=(j,z)=>new Te(j,z),fe})();class Te extends ge{constructor(j,z){super(),this.destination=j,this.source=z}next(j){var z,te;null===(te=null===(z=this.destination)||void 0===z?void 0:z.next)||void 0===te||te.call(z,j)}error(j){var z,te;null===(te=null===(z=this.destination)||void 0===z?void 0:z.error)||void 0===te||te.call(z,j)}complete(){var j,z;null===(z=null===(j=this.destination)||void 0===j?void 0:j.complete)||void 0===z||z.call(j)}_subscribe(j){var z,te;return null!==(te=null===(z=this.source)||void 0===z?void 0:z.subscribe(j))&&void 0!==te?te:B.Lc}}},1887:(dt,Ie,L)=>{L.d(Ie,{Hp:()=>Ae,Lv:()=>te});var h=L(4674),B=L(7394),R=L(2653),Y=L(3894);function ie(){}const pe=fe("C",void 0,void 0);function fe(ee,_e,se){return{kind:ee,value:_e,error:se}}var j=L(7599),z=L(1441);class te extends B.w0{constructor(_e){super(),this.isStopped=!1,_e?(this.destination=_e,(0,B.Nn)(_e)&&_e.add(this)):this.destination=ot}static create(_e,se,he){return new Ae(_e,se,he)}next(_e){this.isStopped?_t(function Te(ee){return fe("N",ee,void 0)}(_e),this):this._next(_e)}error(_e){this.isStopped?_t(function ge(ee){return fe("E",void 0,ee)}(_e),this):(this.isStopped=!0,this._error(_e))}complete(){this.isStopped?_t(pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(_e){this.destination.next(_e)}_error(_e){try{this.destination.error(_e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Pe=Function.prototype.bind;function Se(ee,_e){return Pe.call(ee,_e)}class We{constructor(_e){this.partialObserver=_e}next(_e){const{partialObserver:se}=this;if(se.next)try{se.next(_e)}catch(he){qe(he)}}error(_e){const{partialObserver:se}=this;if(se.error)try{se.error(_e)}catch(he){qe(he)}else qe(_e)}complete(){const{partialObserver:_e}=this;if(_e.complete)try{_e.complete()}catch(se){qe(se)}}}class Ae extends te{constructor(_e,se,he){let xe;if(super(),(0,h.m)(_e)||!_e)xe={next:_e??void 0,error:se??void 0,complete:he??void 0};else{let X;this&&R.config.useDeprecatedNextContext?(X=Object.create(_e),X.unsubscribe=()=>this.unsubscribe(),xe={next:_e.next&&Se(_e.next,X),error:_e.error&&Se(_e.error,X),complete:_e.complete&&Se(_e.complete,X)}):xe=_e}this.destination=new We(xe)}}function qe(ee){R.config.useDeprecatedSynchronousErrorHandling?(0,z.O)(ee):(0,Y.h)(ee)}function _t(ee,_e){const{onStoppedNotification:se}=R.config;se&&j.z.setTimeout(()=>se(ee,_e))}const ot={closed:!0,next:ie,error:function Ne(ee){throw ee},complete:ie}},7394:(dt,Ie,L)=>{L.d(Ie,{Lc:()=>pe,w0:()=>ie,Nn:()=>ge});var h=L(4674);const R=(0,L(2306).d)(fe=>function(z){fe(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((te,Pe)=>`${Pe+1}) ${te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z});var Y=L(9039);class ie{constructor(j){this.initialTeardown=j,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let j;if(!this.closed){this.closed=!0;const{_parentage:z}=this;if(z)if(this._parentage=null,Array.isArray(z))for(const Se of z)Se.remove(this);else z.remove(this);const{initialTeardown:te}=this;if((0,h.m)(te))try{te()}catch(Se){j=Se instanceof R?Se.errors:[Se]}const{_finalizers:Pe}=this;if(Pe){this._finalizers=null;for(const Se of Pe)try{Te(Se)}catch(We){j=j??[],We instanceof R?j=[...j,...We.errors]:j.push(We)}}if(j)throw new R(j)}}add(j){var z;if(j&&j!==this)if(this.closed)Te(j);else{if(j instanceof ie){if(j.closed||j._hasParent(this))return;j._addParent(this)}(this._finalizers=null!==(z=this._finalizers)&&void 0!==z?z:[]).push(j)}}_hasParent(j){const{_parentage:z}=this;return z===j||Array.isArray(z)&&z.includes(j)}_addParent(j){const{_parentage:z}=this;this._parentage=Array.isArray(z)?(z.push(j),z):z?[z,j]:j}_removeParent(j){const{_parentage:z}=this;z===j?this._parentage=null:Array.isArray(z)&&(0,Y.P)(z,j)}remove(j){const{_finalizers:z}=this;z&&(0,Y.P)(z,j),j instanceof ie&&j._removeParent(this)}}ie.EMPTY=(()=>{const fe=new ie;return fe.closed=!0,fe})();const pe=ie.EMPTY;function ge(fe){return fe instanceof ie||fe&&"closed"in fe&&(0,h.m)(fe.remove)&&(0,h.m)(fe.add)&&(0,h.m)(fe.unsubscribe)}function Te(fe){(0,h.m)(fe)?fe():fe.unsubscribe()}},2653:(dt,Ie,L)=>{L.d(Ie,{config:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(dt,Ie,L)=>{L.d(Ie,{E:()=>B});const B=new(L(5592).y)(ie=>ie.complete())},2459:(dt,Ie,L)=>{L.d(Ie,{D:()=>_e});var h=L(4829),B=L(3093),R=L(5137),pe=L(5592),Te=L(4971),fe=L(4674),j=L(7103);function te(se,he){if(!se)throw new Error("Iterable cannot be null");return new pe.y(xe=>{(0,j.f)(xe,he,()=>{const X=se[Symbol.asyncIterator]();(0,j.f)(xe,he,()=>{X.next().then(Xe=>{Xe.done?xe.complete():xe.next(Xe.value)})},0,!0)})})}var Pe=L(8382),Se=L(4026),We=L(4266),Ae=L(3664),qe=L(5726),Ne=L(9853),_t=L(541);function _e(se,he){return he?function ee(se,he){if(null!=se){if((0,Pe.c)(se))return function Y(se,he){return(0,h.Xf)(se).pipe((0,R.R)(he),(0,B.Q)(he))}(se,he);if((0,We.z)(se))return function ge(se,he){return new pe.y(xe=>{let X=0;return he.schedule(function(){X===se.length?xe.complete():(xe.next(se[X++]),xe.closed||this.schedule())})})}(se,he);if((0,Se.t)(se))return function ie(se,he){return(0,h.Xf)(se).pipe((0,R.R)(he),(0,B.Q)(he))}(se,he);if((0,qe.D)(se))return te(se,he);if((0,Ae.T)(se))return function z(se,he){return new pe.y(xe=>{let X;return(0,j.f)(xe,he,()=>{X=se[Te.h](),(0,j.f)(xe,he,()=>{let Xe,je;try{({value:Xe,done:je}=X.next())}catch(Yt){return void xe.error(Yt)}je?xe.complete():xe.next(Xe)},0,!0)}),()=>(0,fe.m)(X?.return)&&X.return()})}(se,he);if((0,_t.L)(se))return function ot(se,he){return te((0,_t.Q)(se),he)}(se,he)}throw(0,Ne.z)(se)}(se,he):(0,h.Xf)(se)}},4829:(dt,Ie,L)=>{L.d(Ie,{Xf:()=>Pe});var h=L(7582),B=L(4266),R=L(4026),Y=L(5592),ie=L(8382),pe=L(5726),ge=L(9853),Te=L(3664),fe=L(541),j=L(4674),z=L(3894),te=L(4850);function Pe(ee){if(ee instanceof Y.y)return ee;if(null!=ee){if((0,ie.c)(ee))return function Se(ee){return new Y.y(_e=>{const se=ee[te.L]();if((0,j.m)(se.subscribe))return se.subscribe(_e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ee);if((0,B.z)(ee))return function We(ee){return new Y.y(_e=>{for(let se=0;se<ee.length&&!_e.closed;se++)_e.next(ee[se]);_e.complete()})}(ee);if((0,R.t)(ee))return function Ae(ee){return new Y.y(_e=>{ee.then(se=>{_e.closed||(_e.next(se),_e.complete())},se=>_e.error(se)).then(null,z.h)})}(ee);if((0,pe.D)(ee))return Ne(ee);if((0,Te.T)(ee))return function qe(ee){return new Y.y(_e=>{for(const se of ee)if(_e.next(se),_e.closed)return;_e.complete()})}(ee);if((0,fe.L)(ee))return function _t(ee){return Ne((0,fe.Q)(ee))}(ee)}throw(0,ge.z)(ee)}function Ne(ee){return new Y.y(_e=>{(function ot(ee,_e){var se,he,xe,X;return(0,h.mG)(this,void 0,void 0,function*(){try{for(se=(0,h.KL)(ee);!(he=yield se.next()).done;)if(_e.next(he.value),_e.closed)return}catch(Xe){xe={error:Xe}}finally{try{he&&!he.done&&(X=se.return)&&(yield X.call(se))}finally{if(xe)throw xe.error}}_e.complete()})})(ee,_e).catch(se=>_e.error(se))})}},3019:(dt,Ie,L)=>{L.d(Ie,{T:()=>pe});var h=L(7537),B=L(4829),R=L(6232),Y=L(4564),ie=L(2459);function pe(...ge){const Te=(0,Y.yG)(ge),fe=(0,Y._6)(ge,1/0),j=ge;return j.length?1===j.length?(0,B.Xf)(j[0]):(0,h.J)(fe)((0,ie.D)(j,Te)):R.E}},2096:(dt,Ie,L)=>{L.d(Ie,{of:()=>R});var h=L(4564),B=L(2459);function R(...Y){const ie=(0,h.yG)(Y);return(0,B.D)(Y,ie)}},8251:(dt,Ie,L)=>{L.d(Ie,{x:()=>B});var h=L(1887);function B(Y,ie,pe,ge,Te){return new R(Y,ie,pe,ge,Te)}class R extends h.Lv{constructor(ie,pe,ge,Te,fe,j){super(ie),this.onFinalize=fe,this.shouldUnsubscribe=j,this._next=pe?function(z){try{pe(z)}catch(te){ie.error(te)}}:super._next,this._error=Te?function(z){try{Te(z)}catch(te){ie.error(te)}finally{this.unsubscribe()}}:super._error,this._complete=ge?function(){try{ge()}catch(z){ie.error(z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ie;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:pe}=this;super.unsubscribe(),!pe&&(null===(ie=this.onFinalize)||void 0===ie||ie.call(this))}}}},3997:(dt,Ie,L)=>{L.d(Ie,{x:()=>Y});var h=L(2737),B=L(9360),R=L(8251);function Y(pe,ge=h.y){return pe=pe??ie,(0,B.e)((Te,fe)=>{let j,z=!0;Te.subscribe((0,R.x)(fe,te=>{const Pe=ge(te);(z||!pe(j,Pe))&&(z=!1,j=Pe,fe.next(te))}))})}function ie(pe,ge){return pe===ge}},7398:(dt,Ie,L)=>{L.d(Ie,{U:()=>R});var h=L(9360),B=L(8251);function R(Y,ie){return(0,h.e)((pe,ge)=>{let Te=0;pe.subscribe((0,B.x)(ge,fe=>{ge.next(Y.call(ie,fe,Te++))}))})}},7537:(dt,Ie,L)=>{L.d(Ie,{J:()=>R});var h=L(1631),B=L(2737);function R(Y=1/0){return(0,h.z)(B.y,Y)}},1631:(dt,Ie,L)=>{L.d(Ie,{z:()=>Te});var h=L(7398),B=L(4829),R=L(9360),Y=L(7103),ie=L(8251),ge=L(4674);function Te(fe,j,z=1/0){return(0,ge.m)(j)?Te((te,Pe)=>(0,h.U)((Se,We)=>j(te,Se,Pe,We))((0,B.Xf)(fe(te,Pe))),z):("number"==typeof j&&(z=j),(0,R.e)((te,Pe)=>function pe(fe,j,z,te,Pe,Se,We,Ae){const qe=[];let Ne=0,_t=0,ot=!1;const ee=()=>{ot&&!qe.length&&!Ne&&j.complete()},_e=he=>Ne<te?se(he):qe.push(he),se=he=>{Se&&j.next(he),Ne++;let xe=!1;(0,B.Xf)(z(he,_t++)).subscribe((0,ie.x)(j,X=>{Pe?.(X),Se?_e(X):j.next(X)},()=>{xe=!0},void 0,()=>{if(xe)try{for(Ne--;qe.length&&Ne<te;){const X=qe.shift();We?(0,Y.f)(j,We,()=>se(X)):se(X)}ee()}catch(X){j.error(X)}}))};return fe.subscribe((0,ie.x)(j,_e,()=>{ot=!0,ee()})),()=>{Ae?.()}}(te,Pe,fe,z)))}},3093:(dt,Ie,L)=>{L.d(Ie,{Q:()=>Y});var h=L(7103),B=L(9360),R=L(8251);function Y(ie,pe=0){return(0,B.e)((ge,Te)=>{ge.subscribe((0,R.x)(Te,fe=>(0,h.f)(Te,ie,()=>Te.next(fe),pe),()=>(0,h.f)(Te,ie,()=>Te.complete(),pe),fe=>(0,h.f)(Te,ie,()=>Te.error(fe),pe)))})}},3020:(dt,Ie,L)=>{L.d(Ie,{B:()=>ie});var h=L(4829),B=L(8645),R=L(1887),Y=L(9360);function ie(ge={}){const{connector:Te=(()=>new B.x),resetOnError:fe=!0,resetOnComplete:j=!0,resetOnRefCountZero:z=!0}=ge;return te=>{let Pe,Se,We,Ae=0,qe=!1,Ne=!1;const _t=()=>{Se?.unsubscribe(),Se=void 0},ot=()=>{_t(),Pe=We=void 0,qe=Ne=!1},ee=()=>{const _e=Pe;ot(),_e?.unsubscribe()};return(0,Y.e)((_e,se)=>{Ae++,!Ne&&!qe&&_t();const he=We=We??Te();se.add(()=>{Ae--,0===Ae&&!Ne&&!qe&&(Se=pe(ee,z))}),he.subscribe(se),!Pe&&Ae>0&&(Pe=new R.Hp({next:xe=>he.next(xe),error:xe=>{Ne=!0,_t(),Se=pe(ot,fe,xe),he.error(xe)},complete:()=>{qe=!0,_t(),Se=pe(ot,j),he.complete()}}),(0,h.Xf)(_e).subscribe(Pe))})(te)}}function pe(ge,Te,...fe){if(!0===Te)return void ge();if(!1===Te)return;const j=new R.Hp({next:()=>{j.unsubscribe(),ge()}});return(0,h.Xf)(Te(...fe)).subscribe(j)}},5137:(dt,Ie,L)=>{L.d(Ie,{R:()=>B});var h=L(9360);function B(R,Y=0){return(0,h.e)((ie,pe)=>{pe.add(R.schedule(()=>ie.subscribe(pe),Y))})}},4664:(dt,Ie,L)=>{L.d(Ie,{w:()=>Y});var h=L(4829),B=L(9360),R=L(8251);function Y(ie,pe){return(0,B.e)((ge,Te)=>{let fe=null,j=0,z=!1;const te=()=>z&&!fe&&Te.complete();ge.subscribe((0,R.x)(Te,Pe=>{fe?.unsubscribe();let Se=0;const We=j++;(0,h.Xf)(ie(Pe,We)).subscribe(fe=(0,R.x)(Te,Ae=>Te.next(pe?pe(Pe,Ae,We,Se++):Ae),()=>{fe=null,te()}))},()=>{z=!0,te()}))})}},9397:(dt,Ie,L)=>{L.d(Ie,{b:()=>ie});var h=L(4674),B=L(9360),R=L(8251),Y=L(2737);function ie(pe,ge,Te){const fe=(0,h.m)(pe)||ge||Te?{next:pe,error:ge,complete:Te}:pe;return fe?(0,B.e)((j,z)=>{var te;null===(te=fe.subscribe)||void 0===te||te.call(fe);let Pe=!0;j.subscribe((0,R.x)(z,Se=>{var We;null===(We=fe.next)||void 0===We||We.call(fe,Se),z.next(Se)},()=>{var Se;Pe=!1,null===(Se=fe.complete)||void 0===Se||Se.call(fe),z.complete()},Se=>{var We;Pe=!1,null===(We=fe.error)||void 0===We||We.call(fe,Se),z.error(Se)},()=>{var Se,We;Pe&&(null===(Se=fe.unsubscribe)||void 0===Se||Se.call(fe)),null===(We=fe.finalize)||void 0===We||We.call(fe)}))}):Y.y}},1954:(dt,Ie,L)=>{L.d(Ie,{o:()=>ie});var h=L(7394);class B extends h.w0{constructor(ge,Te){super()}schedule(ge,Te=0){return this}}const R={setInterval(pe,ge,...Te){const{delegate:fe}=R;return fe?.setInterval?fe.setInterval(pe,ge,...Te):setInterval(pe,ge,...Te)},clearInterval(pe){const{delegate:ge}=R;return(ge?.clearInterval||clearInterval)(pe)},delegate:void 0};var Y=L(9039);class ie extends B{constructor(ge,Te){super(ge,Te),this.scheduler=ge,this.work=Te,this.pending=!1}schedule(ge,Te=0){var fe;if(this.closed)return this;this.state=ge;const j=this.id,z=this.scheduler;return null!=j&&(this.id=this.recycleAsyncId(z,j,Te)),this.pending=!0,this.delay=Te,this.id=null!==(fe=this.id)&&void 0!==fe?fe:this.requestAsyncId(z,this.id,Te),this}requestAsyncId(ge,Te,fe=0){return R.setInterval(ge.flush.bind(ge,this),fe)}recycleAsyncId(ge,Te,fe=0){if(null!=fe&&this.delay===fe&&!1===this.pending)return Te;null!=Te&&R.clearInterval(Te)}execute(ge,Te){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const fe=this._execute(ge,Te);if(fe)return fe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ge,Te){let j,fe=!1;try{this.work(ge)}catch(z){fe=!0,j=z||new Error("Scheduled action threw falsy error")}if(fe)return this.unsubscribe(),j}unsubscribe(){if(!this.closed){const{id:ge,scheduler:Te}=this,{actions:fe}=Te;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Y.P)(fe,this),null!=ge&&(this.id=this.recycleAsyncId(Te,ge,null)),this.delay=null,super.unsubscribe()}}}},2631:(dt,Ie,L)=>{L.d(Ie,{v:()=>R});var h=L(4552);class B{constructor(ie,pe=B.now){this.schedulerActionCtor=ie,this.now=pe}schedule(ie,pe=0,ge){return new this.schedulerActionCtor(this,ie).schedule(ge,pe)}}B.now=h.l.now;class R extends B{constructor(ie,pe=B.now){super(ie,pe),this.actions=[],this._active=!1}flush(ie){const{actions:pe}=this;if(this._active)return void pe.push(ie);let ge;this._active=!0;do{if(ge=ie.execute(ie.state,ie.delay))break}while(ie=pe.shift());if(this._active=!1,ge){for(;ie=pe.shift();)ie.unsubscribe();throw ge}}}},6321:(dt,Ie,L)=>{L.d(Ie,{z:()=>R});var h=L(1954);const R=new(L(2631).v)(h.o)},4552:(dt,Ie,L)=>{L.d(Ie,{l:()=>h});const h={now:()=>(h.delegate||Date).now(),delegate:void 0}},7599:(dt,Ie,L)=>{L.d(Ie,{z:()=>h});const h={setTimeout(B,R,...Y){const{delegate:ie}=h;return ie?.setTimeout?ie.setTimeout(B,R,...Y):setTimeout(B,R,...Y)},clearTimeout(B){const{delegate:R}=h;return(R?.clearTimeout||clearTimeout)(B)},delegate:void 0}},4971:(dt,Ie,L)=>{L.d(Ie,{h:()=>B});const B=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(dt,Ie,L)=>{L.d(Ie,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(dt,Ie,L)=>{L.d(Ie,{_6:()=>pe,jO:()=>Y,yG:()=>ie});var h=L(4674);function R(ge){return ge[ge.length-1]}function Y(ge){return(0,h.m)(R(ge))?ge.pop():void 0}function ie(ge){return function B(ge){return ge&&(0,h.m)(ge.schedule)}(R(ge))?ge.pop():void 0}function pe(ge,Te){return"number"==typeof R(ge)?ge.pop():Te}},9039:(dt,Ie,L)=>{function h(B,R){if(B){const Y=B.indexOf(R);0<=Y&&B.splice(Y,1)}}L.d(Ie,{P:()=>h})},2306:(dt,Ie,L)=>{function h(B){const Y=B(ie=>{Error.call(ie),ie.stack=(new Error).stack});return Y.prototype=Object.create(Error.prototype),Y.prototype.constructor=Y,Y}L.d(Ie,{d:()=>h})},1441:(dt,Ie,L)=>{L.d(Ie,{O:()=>Y,x:()=>R});var h=L(2653);let B=null;function R(ie){if(h.config.useDeprecatedSynchronousErrorHandling){const pe=!B;if(pe&&(B={errorThrown:!1,error:null}),ie(),pe){const{errorThrown:ge,error:Te}=B;if(B=null,ge)throw Te}}else ie()}function Y(ie){h.config.useDeprecatedSynchronousErrorHandling&&B&&(B.errorThrown=!0,B.error=ie)}},7103:(dt,Ie,L)=>{function h(B,R,Y,ie=0,pe=!1){const ge=R.schedule(function(){Y(),pe?B.add(this.schedule(null,ie)):this.unsubscribe()},ie);if(B.add(ge),!pe)return ge}L.d(Ie,{f:()=>h})},2737:(dt,Ie,L)=>{function h(B){return B}L.d(Ie,{y:()=>h})},4266:(dt,Ie,L)=>{L.d(Ie,{z:()=>h});const h=B=>B&&"number"==typeof B.length&&"function"!=typeof B},5726:(dt,Ie,L)=>{L.d(Ie,{D:()=>B});var h=L(4674);function B(R){return Symbol.asyncIterator&&(0,h.m)(R?.[Symbol.asyncIterator])}},4674:(dt,Ie,L)=>{function h(B){return"function"==typeof B}L.d(Ie,{m:()=>h})},8382:(dt,Ie,L)=>{L.d(Ie,{c:()=>R});var h=L(4850),B=L(4674);function R(Y){return(0,B.m)(Y[h.L])}},3664:(dt,Ie,L)=>{L.d(Ie,{T:()=>R});var h=L(4971),B=L(4674);function R(Y){return(0,B.m)(Y?.[h.h])}},4026:(dt,Ie,L)=>{L.d(Ie,{t:()=>B});var h=L(4674);function B(R){return(0,h.m)(R?.then)}},541:(dt,Ie,L)=>{L.d(Ie,{L:()=>Y,Q:()=>R});var h=L(7582),B=L(4674);function R(ie){return(0,h.FC)(this,arguments,function*(){const ge=ie.getReader();try{for(;;){const{value:Te,done:fe}=yield(0,h.qq)(ge.read());if(fe)return yield(0,h.qq)(void 0);yield yield(0,h.qq)(Te)}}finally{ge.releaseLock()}})}function Y(ie){return(0,B.m)(ie?.getReader)}},9360:(dt,Ie,L)=>{L.d(Ie,{A:()=>B,e:()=>R});var h=L(4674);function B(Y){return(0,h.m)(Y?.lift)}function R(Y){return ie=>{if(B(ie))return ie.lift(function(pe){try{return Y(pe,this)}catch(ge){this.error(ge)}});throw new TypeError("Unable to lift unknown Observable type")}}},8407:(dt,Ie,L)=>{L.d(Ie,{U:()=>R,z:()=>B});var h=L(2737);function B(...Y){return R(Y)}function R(Y){return 0===Y.length?h.y:1===Y.length?Y[0]:function(pe){return Y.reduce((ge,Te)=>Te(ge),pe)}}},3894:(dt,Ie,L)=>{L.d(Ie,{h:()=>R});var h=L(2653),B=L(7599);function R(Y){B.z.setTimeout(()=>{const{onUnhandledError:ie}=h.config;if(!ie)throw Y;ie(Y)})}},9853:(dt,Ie,L)=>{function h(B){return new TypeError(`You provided ${null!==B&&"object"==typeof B?"an invalid object":`'${B}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(Ie,{z:()=>h})},5879:(dt,Ie,L)=>{L.d(Ie,{$8M:()=>ds,$WT:()=>Ts,$Z:()=>lT,AFp:()=>Zb,AaK:()=>te,AsE:()=>ir,CHM:()=>Kc,CRH:()=>L0,EJc:()=>un,EpF:()=>yI,F4k:()=>F_,FYo:()=>Uf,FiY:()=>ps,GfV:()=>IE,Gpc:()=>We,HDt:()=>Vp,JOm:()=>ha,KtG:()=>Pu,LFG:()=>xn,Lbi:()=>pE,Lck:()=>uS,MMx:()=>oD,NdJ:()=>ch,Ojb:()=>_l,OlP:()=>vn,Oqu:()=>Nl,P3R:()=>$b,PXZ:()=>Y0,Q6J:()=>jm,QGY:()=>su,Qsj:()=>hm,R0b:()=>Xi,RDi:()=>Bd,Rgc:()=>Dh,SBq:()=>dm,Sil:()=>NS,Suo:()=>Np,TTD:()=>Mu,TgZ:()=>sh,VuI:()=>eA,X6Q:()=>cC,XFs:()=>Ze,Xpm:()=>qo,Xq5:()=>JE,Xts:()=>qg,Y36:()=>zf,YKP:()=>iD,YNc:()=>O_,Yjl:()=>Qh,Yz7:()=>Qt,Z0I:()=>Vn,ZZ4:()=>di,_Bn:()=>S0,_UZ:()=>zm,_c5:()=>ql,_uU:()=>lp,aQg:()=>Uh,c2e:()=>GD,cJS:()=>ur,cg1:()=>p0,dDg:()=>XD,dqk:()=>zt,eFA:()=>rC,eJc:()=>Fy,ekj:()=>Y_,eoX:()=>Ph,f3M:()=>Zt,g9A:()=>Kb,h0i:()=>_h,hGG:()=>KS,iGM:()=>Ch,ifc:()=>gt,ip1:()=>zy,jDz:()=>aD,kL8:()=>dy,lG2:()=>vu,lqb:()=>vl,lri:()=>br,n5z:()=>Er,oAB:()=>Oa,oxw:()=>lh,q4F:()=>pm,qFp:()=>bC,qLn:()=>Bf,qOj:()=>Fs,qZA:()=>oh,rWj:()=>Zy,rg0:()=>fg,sBO:()=>US,s_b:()=>xy,soG:()=>pr,tb:()=>Yy,tp0:()=>Rs,uIk:()=>oi,vHH:()=>ee,vpe:()=>vo,wAp:()=>bt,xp6:()=>Hf,z2F:()=>ws,zSh:()=>lE,zs3:()=>ma});var h=L(8645),B=L(7394),R=L(5619),Y=L(5592),ie=L(3019),pe=L(2096),ge=L(3020),Te=L(4664),fe=L(3997);function j(i){for(let s in i)if(i[s]===j)return s;throw Error("Could not find renamed property on target object.")}function z(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function te(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(te).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function Pe(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const Se=j({__forward_ref__:j});function We(i){return i.__forward_ref__=We,i.toString=function(){return te(this())},i}function Ae(i){return qe(i)?i():i}function qe(i){return"function"==typeof i&&i.hasOwnProperty(Se)&&i.__forward_ref__===We}function Ne(i){return i&&!!i.\u0275providers}const ot="https://g.co/ng/security#xss";class ee extends Error{constructor(s,a){super(function _e(i,s){return`NG0${Math.abs(i)}${s?": "+s:""}`}(s,a)),this.code=s}}function se(i){return"string"==typeof i?i:null==i?"":String(i)}function je(i,s){throw new ee(-201,!1)}function et(i,s){null==i&&function ht(i,s,a,c){throw new Error(`ASSERTION ERROR: ${i}`+(null==c?"":` [Expected=> ${a} ${c} ${s} <=Actual]`))}(s,i,null,"!=")}function Qt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function ur(i){return{providers:i.providers||[],imports:i.imports||[]}}function er(i){return Ci(i,Tr)||Ci(i,jr)}function Vn(i){return null!==er(i)}function Ci(i,s){return i.hasOwnProperty(s)?i[s]:null}function Li(i){return i&&(i.hasOwnProperty(Un)||i.hasOwnProperty(ns))?i[Un]:null}const Tr=j({\u0275prov:j}),Un=j({\u0275inj:j}),jr=j({ngInjectableDef:j}),ns=j({ngInjectorDef:j});var Ze=(()=>((Ze=Ze||{})[Ze.Default=0]="Default",Ze[Ze.Host=1]="Host",Ze[Ze.Self=2]="Self",Ze[Ze.SkipSelf=4]="SkipSelf",Ze[Ze.Optional=8]="Optional",Ze))();let ut;function qt(i){const s=ut;return ut=i,s}function tr(i,s,a){const c=er(i);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&Ze.Optional?null:void 0!==s?s:void je(te(i))}const zt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Rr={},Rt="__NG_DI_FLAG__",kn="ngTempTokenPath",bs=/\n/gm,Bn="__source";let En;function Mn(i){const s=En;return En=i,s}function nr(i,s=Ze.Default){if(void 0===En)throw new ee(-203,!1);return null===En?tr(i,void 0,s):En.get(i,s&Ze.Optional?null:void 0,s)}function xn(i,s=Ze.Default){return(function wt(){return ut}()||nr)(Ae(i),s)}function Zt(i,s=Ze.Default){return xn(i,H(s))}function H(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function $(i){const s=[];for(let a=0;a<i.length;a++){const c=Ae(i[a]);if(Array.isArray(c)){if(0===c.length)throw new ee(900,!1);let d,f=Ze.Default;for(let y=0;y<c.length;y++){const _=c[y],D=F(_);"number"==typeof D?-1===D?d=_.token:f|=D:d=_}s.push(xn(d,f))}else s.push(xn(c))}return s}function k(i,s){return i[Rt]=s,i.prototype[Rt]=s,i}function F(i){return i[Rt]}function me(i){return{toString:i}.toString()}var ze=(()=>((ze=ze||{})[ze.OnPush=0]="OnPush",ze[ze.Default=1]="Default",ze))(),gt=(()=>{return(i=gt||(gt={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",gt;var i})();const pt={},ct=[],St=j({\u0275cmp:j}),yn=j({\u0275dir:j}),Pt=j({\u0275pipe:j}),yr=j({\u0275mod:j}),Ar=j({\u0275fac:j}),de=j({__NG_ELEMENT_ID__:j}),ne=j({__NG_ENV_ID__:j});function ke(i,s,a){let c=i.length;for(;;){const d=i.indexOf(s,a);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const f=s.length;if(d+f===c||i.charCodeAt(d+f)<=32)return d}a=d+1}}function lt(i,s,a){let c=0;for(;c<a.length;){const d=a[c];if("number"==typeof d){if(0!==d)break;c++;const f=a[c++],y=a[c++],_=a[c++];i.setAttribute(s,y,_,f)}else{const f=d,y=a[++c];Bt(f)?i.setProperty(s,f,y):i.setAttribute(s,f,y),c++}}return c}function xt(i){return 3===i||4===i||6===i}function Bt(i){return 64===i.charCodeAt(0)}function Xt(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let c=0;c<s.length;c++){const d=s[c];"number"==typeof d?a=d:0===a||vr(i,a,d,null,-1===a||2===a?s[++c]:null)}}return i}function vr(i,s,a,c,d){let f=0,y=i.length;if(-1===s)y=-1;else for(;f<i.length;){const _=i[f++];if("number"==typeof _){if(_===s){y=-1;break}if(_>s){y=f-1;break}}}for(;f<i.length;){const _=i[f];if("number"==typeof _)break;if(_===a){if(null===c)return void(null!==d&&(i[f+1]=d));if(c===i[f+1])return void(i[f+2]=d)}f++,null!==c&&f++,null!==d&&f++}-1!==y&&(i.splice(y,0,s),f=y+1),i.splice(f++,0,a),null!==c&&i.splice(f++,0,c),null!==d&&i.splice(f++,0,d)}const $n="ng-template";function Ws(i,s,a){let c=0,d=!0;for(;c<i.length;){let f=i[c++];if("string"==typeof f&&d){const y=i[c++];if(a&&"class"===f&&-1!==ke(y.toLowerCase(),s,0))return!0}else{if(1===f){for(;c<i.length&&"string"==typeof(f=i[c++]);)if(f.toLowerCase()===s)return!0;return!1}"number"==typeof f&&(d=!1)}}return!1}function Go(i){return 4===i.type&&i.value!==$n}function Na(i,s,a){return s===(4!==i.type||a?i.value:$n)}function Ql(i,s,a){let c=4;const d=i.attrs||[],f=function gu(i){for(let s=0;s<i.length;s++)if(xt(i[s]))return s;return i.length}(d);let y=!1;for(let _=0;_<s.length;_++){const D=s[_];if("number"!=typeof D){if(!y)if(4&c){if(c=2|1&c,""!==D&&!Na(i,D,a)||""===D&&1===s.length){if(Xr(c))return!1;y=!0}}else{const T=8&c?D:s[++_];if(8&c&&null!==i.attrs){if(!Ws(i.attrs,T,a)){if(Xr(c))return!1;y=!0}continue}const U=qs(8&c?"class":D,d,Go(i),a);if(-1===U){if(Xr(c))return!1;y=!0;continue}if(""!==T){let q;q=U>f?"":d[U+1].toLowerCase();const J=8&c?q:null;if(J&&-1!==ke(J,T,0)||2&c&&T!==q){if(Xr(c))return!1;y=!0}}}}else{if(!y&&!Xr(c)&&!Xr(D))return!1;if(y&&Xr(D))continue;y=!1,c=D|1&c}}return Xr(c)||y}function Xr(i){return 0==(1&i)}function qs(i,s,a,c){if(null===s)return-1;let d=0;if(c||!a){let f=!1;for(;d<s.length;){const y=s[d];if(y===i)return d;if(3===y||6===y)f=!0;else{if(1===y||2===y){let _=s[++d];for(;"string"==typeof _;)_=s[++d];continue}if(4===y)break;if(0===y){d+=4;continue}}d+=f?1:2}return-1}return function Zn(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const c=i[a];if("number"==typeof c)return-1;if(c===s)return a;a++}return-1}(s,i)}function wo(i,s,a=!1){for(let c=0;c<s.length;c++)if(Ql(i,s[c],a))return!0;return!1}function Wo(i,s){return i?":not("+s.trim()+")":s}function lg(i){let s=i[0],a=1,c=2,d="",f=!1;for(;a<i.length;){let y=i[a];if("string"==typeof y)if(2&c){const _=i[++a];d+="["+y+(_.length>0?'="'+_+'"':"")+"]"}else 8&c?d+="."+y:4&c&&(d+=" "+y);else""!==d&&!Xr(y)&&(s+=Wo(f,d),d=""),c=y,f=f||!Xr(c);a++}return""!==d&&(s+=Wo(f,d)),s}function qo(i){return me(()=>{const s=ed(i),a={...s,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===ze.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&i.dependencies||null,getStandaloneInjector:null,signals:i.signals??!1,data:i.data||{},encapsulation:i.encapsulation||gt.Emulated,styles:i.styles||ct,_:null,schemas:i.schemas||null,tView:null,id:""};Pa(a);const c=i.dependencies;return a.directiveDefs=Zo(c,!1),a.pipeDefs=Zo(c,!0),a.id=function td(i){let s=0;const a=[i.selectors,i.ngContentSelectors,i.hostVars,i.hostAttrs,i.consts,i.vars,i.decls,i.encapsulation,i.standalone,i.signals,i.exportAs,JSON.stringify(i.inputs),JSON.stringify(i.outputs),Object.getOwnPropertyNames(i.type.prototype),!!i.contentQueries,!!i.viewQuery].join("|");for(const d of a)s=Math.imul(31,s)+d.charCodeAt(0)<<0;return s+=2147483648,"c"+s}(a),a})}function Yh(i){return kt(i)||_r(i)}function Ra(i){return null!==i}function Oa(i){return me(()=>({type:i.type,bootstrap:i.bootstrap||ct,declarations:i.declarations||ct,imports:i.imports||ct,exports:i.exports||ct,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function yu(i,s){if(null==i)return pt;const a={};for(const c in i)if(i.hasOwnProperty(c)){let d=i[c],f=d;Array.isArray(d)&&(f=d[1],d=d[0]),a[d]=c,s&&(s[d]=f)}return a}function vu(i){return me(()=>{const s=ed(i);return Pa(s),s})}function Qh(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function kt(i){return i[St]||null}function _r(i){return i[yn]||null}function dn(i){return i[Pt]||null}function Ts(i){const s=kt(i)||_r(i)||dn(i);return null!==s&&s.standalone}function zr(i,s){const a=i[yr]||null;if(!a&&!0===s)throw new Error(`Type ${te(i)} does not have '\u0275mod' property.`);return a}function ed(i){const s={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:s,inputTransforms:null,inputConfig:i.inputs||pt,exportAs:i.exportAs||null,standalone:!0===i.standalone,signals:!0===i.signals,selectors:i.selectors||ct,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:yu(i.inputs,s),outputs:yu(i.outputs)}}function Pa(i){i.features?.forEach(s=>s(i))}function Zo(i,s){if(!i)return null;const a=s?dn:Yh;return()=>("function"==typeof i?i():i).map(c=>a(c)).filter(Ra)}const Kn=0,nt=1,Nt=2,Fn=3,Gr=4,_u=5,Mr=6,Ss=7,_n=8,Ui=9,Eo=10,Dt=11,Fa=12,wu=13,Zs=14,Nn=15,Eu=16,Io=17,is=18,Ko=19,Iu=20,xr=21,Wr=22,Sc=23,Bi=24,tn=25,ss=1,Do=2,hi=7,Yo=9,Or=11;function Pr(i){return Array.isArray(i)&&"object"==typeof i[ss]}function kr(i){return Array.isArray(i)&&!0===i[ss]}function Ac(i){return 0!=(4&i.flags)}function $i(i){return i.componentOffset>-1}function Ks(i){return 1==(1&i.flags)}function In(i){return!!i.template}function Jo(i){return 0!=(512&i[Nt])}function Ys(i,s){return i.hasOwnProperty(Ar)?i[Ar]:null}let Ua=zt.WeakRef??class Va{constructor(s){this.ref=s}deref(){return this.ref}},bu=0,bi=null,Tu=!1;function Hn(i){const s=bi;return bi=i,s}class fi{constructor(){this.id=bu++,this.ref=function nf(i){return new Ua(i)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[s,a]of this.producers){const c=a.producerNode.deref();if(void 0!==c&&a.atTrackingVersion===this.trackingVersion){if(c.producerPollStatus(a.seenValueVersion))return!0}else this.producers.delete(s),c?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const s=Tu;Tu=!0;try{for(const[a,c]of this.consumers){const d=c.consumerNode.deref();void 0!==d&&d.trackingVersion===c.atTrackingVersion?d.onConsumerDependencyMayHaveChanged():(this.consumers.delete(a),d?.producers.delete(this.id))}}finally{Tu=s}}producerAccessed(){if(Tu)throw new Error("");if(null===bi)return;let s=bi.producers.get(this.id);void 0===s?(s={consumerNode:bi.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:bi.trackingVersion},bi.producers.set(this.id,s),this.consumers.set(bi.id,s)):(s.seenValueVersion=this.valueVersion,s.atTrackingVersion=bi.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==bi?.consumerAllowSignalWrites}producerPollStatus(s){return this.valueVersion!==s||(this.onProducerUpdateValueVersion(),this.valueVersion!==s)}}let ud=null;function fg(i){const s=Hn(null);try{return i()}finally{Hn(s)}}const Ba=()=>{};class af extends fi{constructor(s,a,c){super(),this.watch=s,this.schedule=a,this.dirty=!1,this.cleanupFn=Ba,this.registerOnCleanup=d=>{this.cleanupFn=d},this.consumerAllowSignalWrites=c}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const s=Hn(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Ba,this.watch(this.registerOnCleanup)}finally{Hn(s)}}cleanup(){this.cleanupFn()}}class $a{constructor(s,a,c){this.previousValue=s,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function Mu(){return Xo}function Xo(i){return i.type.prototype.ngOnChanges&&(i.setInput=$c),Bc}function Bc(){const i=jc(this),s=i?.current;if(s){const a=i.previous;if(a===pt)i.previous=s;else for(let c in s)a[c]=s[c];i.current=null,this.ngOnChanges(s)}}function $c(i,s,a,c){const d=this.declaredInputs[a],f=jc(i)||function ld(i,s){return i[uf]=s}(i,{previous:pt,current:null}),y=f.current||(f.current={}),_=f.previous,D=_[d];y[d]=new $a(D&&D.currentValue,s,_===pt),i[c]=s}Mu.ngInherit=!0;const uf="__ngSimpleChanges__";function jc(i){return i[uf]||null}const ji=function(i,s,a){};function wn(i){for(;Array.isArray(i);)i=i[Kn];return i}function ea(i,s){return wn(s[i])}function Fr(i,s){return wn(s[i.index])}function dd(i,s){return i.data[s]}function Ti(i,s){const a=s[i];return Pr(a)?a:a[Kn]}function as(i,s){return null==s?null:i[s]}function pd(i){i[Io]=0}function Wc(i){1024&i[Nt]||(i[Nt]|=1024,na(i,1))}function Nu(i){1024&i[Nt]&&(i[Nt]&=-1025,na(i,-1))}function na(i,s){let a=i[Fn];if(null===a)return;a[_u]+=s;let c=a;for(a=a[Fn];null!==a&&(1===s&&1===c[_u]||-1===s&&0===c[_u]);)a[_u]+=s,c=a,a=a[Fn]}const Ct={lFrame:Jc(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function ja(){return Ct.bindingsEnabled}function be(){return Ct.lFrame.lView}function Jt(){return Ct.lFrame.tView}function Kc(i){return Ct.lFrame.contextLView=i,i[_n]}function Pu(i){return Ct.lFrame.contextLView=null,i}function cr(){let i=ff();for(;null!==i&&64===i.type;)i=i.parent;return i}function ff(){return Ct.lFrame.currentTNode}function qr(i,s){const a=Ct.lFrame;a.currentTNode=i,a.isParent=s}function pf(){return Ct.lFrame.isParent}function Rn(){return Ct.lFrame.bindingIndex++}function cs(i){const s=Ct.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}function za(i,s){const a=Ct.lFrame;a.bindingIndex=a.bindingRootIndex=i,_d(s)}function _d(i){Ct.lFrame.currentDirectiveIndex=i}function Vu(){return Ct.lFrame.currentQueryIndex}function eo(i){Ct.lFrame.currentQueryIndex=i}function to(i){const s=i[nt];return 2===s.type?s.declTNode:1===s.type?i[Mr]:null}function ra(i,s,a){if(a&Ze.SkipSelf){let d=s,f=i;for(;!(d=d.parent,null!==d||a&Ze.Host||(d=to(f),null===d||(f=f[Zs],10&d.type))););if(null===d)return!1;s=d,i=f}const c=Ct.lFrame=Bu();return c.currentTNode=s,c.lView=i,!0}function Uu(i){const s=Bu(),a=i[nt];Ct.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function Bu(){const i=Ct.lFrame,s=null===i?null:i.child;return null===s?Jc(i):s}function Jc(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function gg(){const i=Ct.lFrame;return Ct.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const wd=gg;function Ed(){const i=gg();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function ti(){return Ct.lFrame.selectedIndex}function no(i){Ct.lFrame.selectedIndex=i}function Tn(){const i=Ct.lFrame;return dd(i.tView,i.selectedIndex)}let Xc=!0;function Wa(){return Xc}function Ao(i){Xc=i}function $u(i,s){for(let a=s.directiveStart,c=s.directiveEnd;a<c;a++){const f=i.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:_,ngAfterViewInit:D,ngAfterViewChecked:T,ngOnDestroy:x}=f;y&&(i.contentHooks??=[]).push(-a,y),_&&((i.contentHooks??=[]).push(a,_),(i.contentCheckHooks??=[]).push(a,_)),D&&(i.viewHooks??=[]).push(-a,D),T&&((i.viewHooks??=[]).push(a,T),(i.viewCheckHooks??=[]).push(a,T)),null!=x&&(i.destroyHooks??=[]).push(a,x)}}function qa(i,s,a){Ai(i,s,3,a)}function el(i,s,a,c){(3&i[Nt])===a&&Ai(i,s,a,c)}function ju(i,s){let a=i[Nt];(3&a)===s&&(a&=8191,a+=1,i[Nt]=a)}function Ai(i,s,a,c){const f=c??-1,y=s.length-1;let _=0;for(let D=void 0!==c?65535&i[Io]:0;D<y;D++)if("number"==typeof s[D+1]){if(_=s[D],null!=c&&_>=c)break}else s[D]<0&&(i[Io]+=65536),(_<f||-1==f)&&(tl(i,a,s,D),i[Io]=(4294901760&i[Io])+D+2),D++}function ro(i,s){ji(4,i,s);const a=Hn(null);try{s.call(i)}finally{Hn(a),ji(5,i,s)}}function tl(i,s,a,c){const d=a[c]<0,f=a[c+1],_=i[d?-a[c]:a[c]];d?i[Nt]>>13<i[Io]>>16&&(3&i[Nt])===s&&(i[Nt]+=8192,ro(_,f)):ro(_,f)}const hn=-1;class mt{constructor(s,a,c){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function $t(i){return i!==hn}function gi(i){return 32767&i}function sa(i,s){let a=function Ad(i){return i>>16}(i),c=s;for(;a>0;)c=c[Zs],a--;return c}let Mi=!0;function xo(i){const s=Mi;return Mi=i,s}const Gi=255,io=5;let vg=0;const mi={};function so(i,s){const a=Md(i,s);if(-1!==a)return a;const c=s[nt];c.firstCreatePass&&(i.injectorIndex=s.length,As(c.data,i),As(s,null),As(c.blueprint,null));const d=Wi(i,s),f=i.injectorIndex;if($t(d)){const y=gi(d),_=sa(d,s),D=_[nt].data;for(let T=0;T<8;T++)s[f+T]=_[y+T]|D[y+T]}return s[f+8]=d,f}function As(i,s){i.push(0,0,0,0,0,0,0,0,s)}function Md(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function Wi(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,c=null,d=s;for(;null!==d;){if(c=rl(d),null===c)return hn;if(a++,d=d[Zs],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return hn}function zu(i,s,a){!function yf(i,s,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(de)&&(c=a[de]),null==c&&(c=a[de]=vg++);const d=c&Gi;s.data[i+(d>>io)]|=1<<d}(i,s,a)}function oa(i,s,a){if(a&Ze.Optional||void 0!==i)return i;je()}function No(i,s,a,c){if(a&Ze.Optional&&void 0===c&&(c=null),!(a&(Ze.Self|Ze.Host))){const d=i[Ui],f=qt(void 0);try{return d?d.get(s,c,a&Ze.Optional):tr(s,c,a&Ze.Optional)}finally{qt(f)}}return oa(c,0,a)}function ls(i,s,a,c=Ze.Default,d){if(null!==i){if(2048&s[Nt]&&!(c&Ze.Self)){const y=function Nd(i,s,a,c,d){let f=i,y=s;for(;null!==f&&null!==y&&2048&y[Nt]&&!(512&y[Nt]);){const _=xd(f,y,a,c|Ze.Self,mi);if(_!==mi)return _;let D=f.parent;if(!D){const T=y[Iu];if(T){const x=T.get(a,mi,c);if(x!==mi)return x}D=rl(y),y=y[Zs]}f=D}return d}(i,s,a,c,mi);if(y!==mi)return y}const f=xd(i,s,a,c,mi);if(f!==mi)return f}return No(s,a,c,d)}function xd(i,s,a,c,d){const f=function ao(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(de)?i[de]:void 0;return"number"==typeof s?s>=0?s&Gi:qi:s}(a);if("function"==typeof f){if(!ra(s,i,c))return c&Ze.Host?oa(d,0,c):No(s,a,c,d);try{const y=f(c);if(null!=y||c&Ze.Optional)return y;je()}finally{wd()}}else if("number"==typeof f){let y=null,_=Md(i,s),D=hn,T=c&Ze.Host?s[Nn][Mr]:null;for((-1===_||c&Ze.SkipSelf)&&(D=-1===_?Wi(i,s):s[_+8],D!==hn&&Ms(c,!1)?(y=s[nt],_=gi(D),s=sa(D,s)):_=-1);-1!==_;){const x=s[nt];if(dr(f,_,x.data)){const U=Ni(_,s,a,y,c,T);if(U!==mi)return U}D=s[_+8],D!==hn&&Ms(c,s[nt].data[_+8]===T)&&dr(f,_,s)?(y=x,_=gi(D),s=sa(D,s)):_=-1}}return d}function Ni(i,s,a,c,d,f){const y=s[nt],_=y.data[i+8],x=Ro(_,y,a,null==c?$i(_)&&Mi:c!=y&&0!=(3&_.type),d&Ze.Host&&f===_);return null!==x?oo(s,y,x,_):mi}function Ro(i,s,a,c,d){const f=i.providerIndexes,y=s.data,_=1048575&f,D=i.directiveStart,x=f>>20,q=d?_+x:i.directiveEnd;for(let J=c?_:_+x;J<q;J++){const we=y[J];if(J<D&&a===we||J>=D&&we.type===a)return J}if(d){const J=y[D];if(J&&In(J)&&J.type===a)return D}return null}function oo(i,s,a,c){let d=i[a];const f=s.data;if(function pi(i){return i instanceof mt}(d)){const y=d;y.resolving&&function xe(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new ee(-200,`Circular dependency in DI detected for ${i}${a}`)}(function he(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():se(i)}(f[a]));const _=xo(y.canSeeViewProviders);y.resolving=!0;const D=y.injectImpl?qt(y.injectImpl):null;ra(i,c,Ze.Default);try{d=i[a]=y.factory(void 0,f,i,c),s.firstCreatePass&&a>=c.directiveStart&&function Sd(i,s,a){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:f}=s.type.prototype;if(c){const y=Xo(s);(a.preOrderHooks??=[]).push(i,y),(a.preOrderCheckHooks??=[]).push(i,y)}d&&(a.preOrderHooks??=[]).push(0-i,d),f&&((a.preOrderHooks??=[]).push(i,f),(a.preOrderCheckHooks??=[]).push(i,f))}(a,f[a],s)}finally{null!==D&&qt(D),xo(_),y.resolving=!1,wd()}}return d}function dr(i,s,a){return!!(a[s+(i>>io)]&1<<i)}function Ms(i,s){return!(i&Ze.Self||i&Ze.Host&&s)}class xs{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,c){return ls(this._tNode,this._lView,s,H(c),a)}}function qi(){return new xs(cr(),be())}function Er(i){return me(()=>{const s=i.prototype.constructor,a=s[Ar]||aa(s),c=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==c;){const f=d[Ar]||aa(d);if(f&&f!==a)return f;d=Object.getPrototypeOf(d)}return f=>new f})}function aa(i){return qe(i)?()=>{const s=aa(Ae(i));return s&&s()}:Ys(i)}function rl(i){const s=i[nt],a=s.type;return 2===a?s.declTNode:1===a?i[Mr]:null}function ds(i){return function vf(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const c=a.length;let d=0;for(;d<c;){const f=a[d];if(xt(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<c&&"string"==typeof a[d];)d++;else{if(f===s)return a[d+1];d+=2}}}return null}(cr(),i)}const Gn="__parameters__";function hs(i,s,a){return me(()=>{const c=function uo(i){return function(...a){if(i){const c=i(...a);for(const d in c)this[d]=c[d]}}}(s);function d(...f){if(this instanceof d)return c.apply(this,f),this;const y=new d(...f);return _.annotation=y,_;function _(D,T,x){const U=D.hasOwnProperty(Gn)?D[Gn]:Object.defineProperty(D,Gn,{value:[]})[Gn];for(;U.length<=x;)U.push(null);return(U[x]=U[x]||[]).push(y),D}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}function Qa(i,s){i.forEach(a=>Array.isArray(a)?Qa(a,s):s(a))}function Ns(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function sl(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function w(i,s,a){let c=A(i,s);return c>=0?i[1|c]=a:(c=~c,function ua(i,s,a,c){let d=i.length;if(d==s)i.push(a,c);else if(1===d)i.push(c,i[0]),i[0]=a;else{for(d--,i.push(i[d-1],i[d]);d>s;)i[d]=i[d-2],d--;i[s]=a,i[s+1]=c}}(i,c,s,a)),c}function C(i,s){const a=A(i,s);if(a>=0)return i[1|a]}function A(i,s){return function G(i,s,a){let c=0,d=i.length>>a;for(;d!==c;){const f=c+(d-c>>1),y=i[f<<a];if(s===y)return f<<a;y>s?d=f:c=f+1}return~(d<<a)}(i,s,1)}const ps=k(hs("Optional"),8),Rs=k(hs("SkipSelf"),4);function Cg(i){return 128==(128&i.flags)}var ha=(()=>((ha=ha||{})[ha.Important=1]="Important",ha[ha.DashCase=2]="DashCase",ha))();const Tv=new Map;let Ow=0;const Tg="__ngContext__";function vi(i,s){Pr(s)?(i[Tg]=s[Ko],function db(i){Tv.set(i[Ko],i)}(s)):i[Tg]=s}let Nv;function Fd(i,s){return Nv(i,s)}function Tf(i){const s=i[Fn];return kr(s)?s[Fn]:s}function Vw(i){return Rv(i[Fa])}function Mg(i){return Rv(i[Gr])}function Rv(i){for(;null!==i&&!kr(i);)i=i[Gr];return i}function hl(i,s,a,c,d){if(null!=c){let f,y=!1;kr(c)?f=c:Pr(c)&&(y=!0,c=c[Kn]);const _=wn(c);0===i&&null!==a?null==d?kv(s,a,_):fl(s,a,_,d||null,!0):1===i&&null!==a?fl(s,a,_,d||null,!0):2===i?function Pg(i,s,a){const c=eu(i,s);c&&function mb(i,s,a,c){i.removeChild(s,a,c)}(i,c,s,a)}(s,_,y):3===i&&s.destroyNode(_),null!=f&&function vb(i,s,a,c,d){const f=a[hi];f!==wn(a)&&hl(s,i,c,f,d);for(let _=Or;_<a.length;_++){const D=a[_];Vd(D[nt],D,i,s,c,f)}}(s,i,f,a,d)}}function Ng(i,s,a){return i.createElement(s,a)}function Uw(i,s){const a=i[Yo],c=a.indexOf(s);Nu(s),a.splice(c,1)}function Pv(i,s){if(i.length<=Or)return;const a=Or+s,c=i[a];if(c){const d=c[Eu];null!==d&&d!==i&&Uw(d,c),s>0&&(i[a-1][Gr]=c[Gr]);const f=sl(i,Or+s);!function sx(i,s){Vd(i,s,s[Dt],2,null,null),s[Kn]=null,s[Mr]=null}(c[nt],c);const y=f[is];null!==y&&y.detachView(f[nt]),c[Fn]=null,c[Gr]=null,c[Nt]&=-129}return c}function Rg(i,s){if(!(256&s[Nt])){const a=s[Dt];s[Sc]?.destroy(),s[Bi]?.destroy(),a.destroyNode&&Vd(i,s,a,3,null,null),function ux(i){let s=i[Fa];if(!s)return Ps(i[nt],i);for(;s;){let a=null;if(Pr(s))a=s[Fa];else{const c=s[Or];c&&(a=c)}if(!a){for(;s&&!s[Gr]&&s!==i;)Pr(s)&&Ps(s[nt],s),s=s[Fn];null===s&&(s=i),Pr(s)&&Ps(s[nt],s),a=s&&s[Gr]}s=a}}(s)}}function Ps(i,s){if(!(256&s[Nt])){s[Nt]&=-129,s[Nt]|=256,function Mf(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let c=0;c<a.length;c+=2){const d=s[a[c]];if(!(d instanceof mt)){const f=a[c+1];if(Array.isArray(f))for(let y=0;y<f.length;y+=2){const _=d[f[y]],D=f[y+1];ji(4,_,D);try{D.call(_)}finally{ji(5,_,D)}}else{ji(4,d,f);try{f.call(d)}finally{ji(5,d,f)}}}}}(i,s),function gb(i,s){const a=i.cleanup,c=s[Ss];if(null!==a)for(let f=0;f<a.length-1;f+=2)if("string"==typeof a[f]){const y=a[f+3];y>=0?c[y]():c[-y].unsubscribe(),f+=2}else a[f].call(c[a[f+1]]);null!==c&&(s[Ss]=null);const d=s[xr];if(null!==d){s[xr]=null;for(let f=0;f<d.length;f++)(0,d[f])()}}(i,s),1===s[nt].type&&s[Dt].destroy();const a=s[Eu];if(null!==a&&kr(s[Fn])){a!==s[Fn]&&Uw(a,s);const c=s[is];null!==c&&c.detachView(i)}!function Pw(i){Tv.delete(i[Ko])}(s)}}function Bw(i,s,a){return function $w(i,s,a){let c=s;for(;null!==c&&40&c.type;)c=(s=c).parent;if(null===c)return a[Kn];{const{componentOffset:d}=c;if(d>-1){const{encapsulation:f}=i.data[c.directiveStart+d];if(f===gt.None||f===gt.Emulated)return null}return Fr(c,a)}}(i,s.parent,a)}function fl(i,s,a,c,d){i.insertBefore(s,a,c,d)}function kv(i,s,a){i.appendChild(s,a)}function xf(i,s,a,c,d){null!==c?fl(i,s,a,c,d):kv(i,s,a)}function eu(i,s){return i.parentNode(s)}let pl,Vg,Ug,Ld=function Hw(i,s,a){return 40&i.type?Fr(i,a):null};function Og(i,s,a,c){const d=Bw(i,c,s),f=s[Dt],_=function jw(i,s,a){return Ld(i,s,a)}(c.parent||s[Mr],c,s);if(null!=d)if(Array.isArray(a))for(let D=0;D<a.length;D++)xf(f,d,a[D],_,!1);else xf(f,d,a,_,!1);void 0!==pl&&pl(f,c,s,a,d)}function Rf(i,s){if(null!==s){const a=s.type;if(3&a)return Fr(s,i);if(4&a)return Fv(-1,i[s.index]);if(8&a){const c=s.child;if(null!==c)return Rf(i,c);{const d=i[s.index];return kr(d)?Fv(-1,d):wn(d)}}if(32&a)return Fd(s,i)()||wn(i[s.index]);{const c=Gw(i,s);return null!==c?Array.isArray(c)?c[0]:Rf(Tf(i[Nn]),c):Rf(i,s.next)}}return null}function Gw(i,s){return null!==s?i[Nn][Mr].projection[s.projection]:null}function Fv(i,s){const a=Or+i+1;if(a<s.length){const c=s[a],d=c[nt].firstChild;if(null!==d)return Rf(c,d)}return s[hi]}function Lv(i,s,a,c,d,f,y){for(;null!=a;){const _=c[a.index],D=a.type;if(y&&0===s&&(_&&vi(wn(_),c),a.flags|=2),32!=(32&a.flags))if(8&D)Lv(i,s,a.child,c,d,f,!1),hl(s,i,d,_,f);else if(32&D){const T=Fd(a,c);let x;for(;x=T();)hl(s,i,d,x,f);hl(s,i,d,_,f)}else 16&D?gl(i,s,c,a,d,f):hl(s,i,d,_,f);a=y?a.projectionNext:a.next}}function Vd(i,s,a,c,d,f){Lv(a,c,i.firstChild,s,d,f,!1)}function gl(i,s,a,c,d,f){const y=a[Nn],D=y[Mr].projection[c.projection];if(Array.isArray(D))for(let T=0;T<D.length;T++)hl(s,i,d,D[T],f);else{let T=D;const x=y[Fn];Cg(c)&&(T.flags|=128),Lv(i,s,T,x,d,f,!0)}}function Ww(i,s,a){""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a)}function qw(i,s,a){const{mergedAttrs:c,classes:d,styles:f}=a;null!==c&&lt(i,s,c),null!==d&&Ww(i,s,d),null!==f&&function wb(i,s,a){i.setAttribute(s,"style",a)}(i,s,f)}function Bd(i){Vg=i}function Yw(i){return function Uv(){if(void 0===Ug&&(Ug=null,zt.trustedTypes))try{Ug=zt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return Ug}()?.createScriptURL(i)||i}class $g{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ot})`}}function Fo(i){return i instanceof $g?i.changingThisBreaksApplicationSecurity:i}function Of(i,s){const a=function Tb(i){return i instanceof $g&&i.getTypeName()||null}(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see ${ot})`)}return a===s}const xb=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Lr=(()=>((Lr=Lr||{})[Lr.NONE=0]="NONE",Lr[Lr.HTML=1]="HTML",Lr[Lr.STYLE=2]="STYLE",Lr[Lr.SCRIPT=3]="SCRIPT",Lr[Lr.URL=4]="URL",Lr[Lr.RESOURCE_URL=5]="RESOURCE_URL",Lr))();function gs(i){const s=yl();return s?s.sanitize(Lr.URL,i)||"":Of(i,"URL")?Fo(i):function Bv(i){return(i=String(i)).match(xb)?i:"unsafe:"+i}(se(i))}function iE(i){const s=yl();if(s)return Yw(s.sanitize(Lr.RESOURCE_URL,i)||"");if(Of(i,"ResourceURL"))return Yw(Fo(i));throw new ee(904,!1)}function $b(i,s,a){return function sE(i,s){return"src"===s&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===s&&("base"===i||"link"===i)?iE:gs}(s,a)(i)}function yl(){const i=be();return i&&i[Eo].sanitizer}class vn{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Qt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const qg=new vn("ENVIRONMENT_INITIALIZER"),jv=new vn("INJECTOR",-1),fa=new vn("INJECTOR_DEF_TYPES");class oE{get(s,a=Rr){if(a===Rr){const c=new Error(`NullInjectorError: No provider for ${te(s)}!`);throw c.name="NullInjectorError",c}return a}}function vx(...i){return{\u0275providers:Hb(0,i),\u0275fromNgModule:!0}}function Hb(i,...s){const a=[],c=new Set;let d;return Qa(s,f=>{const y=f;Zg(y,a,[],c)&&(d||=[],d.push(y))}),void 0!==d&&Hv(d,a),a}function Hv(i,s){for(let a=0;a<i.length;a++){const{providers:d}=i[a];zv(d,f=>{s.push(f)})}}function Zg(i,s,a,c){if(!(i=Ae(i)))return!1;let d=null,f=Li(i);const y=!f&&kt(i);if(f||y){if(y&&!y.standalone)return!1;d=i}else{const D=i.ngModule;if(f=Li(D),!f)return!1;d=D}const _=c.has(d);if(y){if(_)return!1;if(c.add(d),y.dependencies){const D="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const T of D)Zg(T,s,a,c)}}else{if(!f)return!1;{if(null!=f.imports&&!_){let T;c.add(d);try{Qa(f.imports,x=>{Zg(x,s,a,c)&&(T||=[],T.push(x))})}finally{}void 0!==T&&Hv(T,s)}if(!_){const T=Ys(d)||(()=>new d);s.push({provide:d,useFactory:T,deps:ct},{provide:fa,useValue:d,multi:!0},{provide:qg,useValue:()=>xn(d),multi:!0})}const D=f.providers;null==D||_||zv(D,x=>{s.push(x)})}}return d!==i&&void 0!==i.providers}function zv(i,s){for(let a of i)Ne(a)&&(a=a.\u0275providers),Array.isArray(a)?zv(a,s):s(a)}const zb=j({provide:String,useValue:j});function uE(i){return null!==i&&"object"==typeof i&&zb in i}function Hd(i){return"function"==typeof i}const lE=new vn("Set Injector scope."),Kg={},wx={};let Yg;function Qg(){return void 0===Yg&&(Yg=new oE),Yg}class vl{}class Jg extends vl{get destroyed(){return this._destroyed}constructor(s,a,c,d){super(),this.parent=a,this.source=c,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,fE(s,y=>this.processProvider(y)),this.records.set(jv,zd(void 0,this)),d.has("environment")&&this.records.set(vl,zd(void 0,this));const f=this.records.get(lE);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(fa.multi,ct,Ze.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();const s=this._onDestroyHooks;this._onDestroyHooks=[];for(const a of s)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(s){return this.assertNotDestroyed(),this._onDestroyHooks.push(s),()=>this.removeOnDestroy(s)}runInContext(s){this.assertNotDestroyed();const a=Mn(this),c=qt(void 0);try{return s()}finally{Mn(a),qt(c)}}get(s,a=Rr,c=Ze.Default){if(this.assertNotDestroyed(),s.hasOwnProperty(ne))return s[ne](this);c=H(c);const d=Mn(this),f=qt(void 0);try{if(!(c&Ze.SkipSelf)){let _=this.records.get(s);if(void 0===_){const D=function Ex(i){return"function"==typeof i||"object"==typeof i&&i instanceof vn}(s)&&er(s);_=D&&this.injectableDefInScope(D)?zd(Wv(s),Kg):null,this.records.set(s,_)}if(null!=_)return this.hydrate(s,_)}return(c&Ze.Self?Qg():this.parent).get(s,a=c&Ze.Optional&&a===Rr?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[kn]=y[kn]||[]).unshift(te(s)),d)throw y;return function N(i,s,a,c){const d=i[kn];throw s[Bn]&&d.unshift(s[Bn]),i.message=function Q(i,s,a,c=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let d=te(s);if(Array.isArray(s))d=s.map(te).join(" -> ");else if("object"==typeof s){let f=[];for(let y in s)if(s.hasOwnProperty(y)){let _=s[y];f.push(y+":"+("string"==typeof _?JSON.stringify(_):te(_)))}d=`{${f.join(", ")}}`}return`${a}${c?"("+c+")":""}[${d}]: ${i.replace(bs,"\n  ")}`}("\n"+i.message,d,a,c),i.ngTokenPath=d,i[kn]=null,i}(y,s,"R3InjectorError",this.source)}throw y}finally{qt(f),Mn(d)}}resolveInjectorInitializers(){const s=Mn(this),a=qt(void 0);try{const c=this.get(qg.multi,ct,Ze.Self);for(const d of c)d()}finally{Mn(s),qt(a)}}toString(){const s=[],a=this.records;for(const c of a.keys())s.push(te(c));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ee(205,!1)}processProvider(s){let a=Hd(s=Ae(s))?s:Ae(s&&s.provide);const c=function Wb(i){return uE(i)?zd(void 0,i.useValue):zd(dE(i),Kg)}(s);if(Hd(s)||!0!==s.multi)this.records.get(a);else{let d=this.records.get(a);d||(d=zd(void 0,Kg,!0),d.factory=()=>$(d.multi),this.records.set(a,d)),a=s,d.multi.push(s)}this.records.set(a,c)}hydrate(s,a){return a.value===Kg&&(a.value=wx,a.value=a.factory()),"object"==typeof a.value&&a.value&&function qb(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=Ae(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}removeOnDestroy(s){const a=this._onDestroyHooks.indexOf(s);-1!==a&&this._onDestroyHooks.splice(a,1)}}function Wv(i){const s=er(i),a=null!==s?s.factory:Ys(i);if(null!==a)return a;if(i instanceof vn)throw new ee(204,!1);if(i instanceof Function)return function Gb(i){const s=i.length;if(s>0)throw function Ja(i,s){const a=[];for(let c=0;c<i;c++)a.push(s);return a}(s,"?"),new ee(204,!1);const a=function _o(i){return i&&(i[Tr]||i[jr])||null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new ee(204,!1)}function dE(i,s,a){let c;if(Hd(i)){const d=Ae(i);return Ys(d)||Wv(d)}if(uE(i))c=()=>Ae(i.useValue);else if(function cE(i){return!(!i||!i.useFactory)}(i))c=()=>i.useFactory(...$(i.deps||[]));else if(function Gv(i){return!(!i||!i.useExisting)}(i))c=()=>xn(Ae(i.useExisting));else{const d=Ae(i&&(i.useClass||i.provide));if(!function hE(i){return!!i.deps}(i))return Ys(d)||Wv(d);c=()=>new d(...$(i.deps))}return c}function zd(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function fE(i,s){for(const a of i)Array.isArray(a)?fE(a,s):a&&Ne(a)?fE(a.\u0275providers,s):s(a)}const Zb=new vn("AppId",{providedIn:"root",factory:()=>Ix}),Ix="ng",Kb=new vn("Platform Initializer"),pE=new vn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),_l=new vn("CSP nonce",{providedIn:"root",factory:()=>function $d(){if(void 0!==Vg)return Vg;if(typeof document<"u")return document;throw new ee(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Kv=(i,s)=>null;function Yv(i,s){return Kv(i,s)}class wE{}class cm{}class EE{resolveComponentFactory(s){throw function lm(i){const s=Error(`No component factory found for ${te(i)}.`);return s.ngComponent=i,s}(s)}}let ii=(()=>{class i{}return i.NULL=new EE,i})();function nc(){return wl(cr(),be())}function wl(i,s){return new dm(Fr(i,s))}let dm=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=nc,i})();function Tx(i){return i instanceof dm?i.nativeElement:i}class Uf{}let hm=(()=>{class i{constructor(){this.destroyNode=null}}return i.__NG_ELEMENT_ID__=()=>function Xv(){const i=be(),a=Ti(cr().index,i);return(Pr(a)?a:i)[Dt]}(),i})(),fm=(()=>{class i{}return i.\u0275prov=Qt({token:i,providedIn:"root",factory:()=>null}),i})();class IE{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const pm=new IE("16.1.2"),e_={};function gm(i){for(;i;){i[Nt]|=64;const s=Tf(i);if(Jo(i)&&!s)return i;i=s}return null}function DE(i){return i.ngOriginalError}class Bf{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&DE(s);for(;a&&DE(a);)a=DE(a);return a||null}}const CE=new vn("",{providedIn:"root",factory:()=>!1});function Lo(i){return i instanceof Function?i():i}class sT extends fi{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(s){this._lView=s}onConsumerDependencyMayHaveChanged(){gm(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(s,a,c){const d=Hn(this);this.trackingVersion++;try{s(a,c)}finally{Hn(d)}}destroy(){this.trackingVersion++}}let i_=null;function s_(){return i_??=new sT,i_}function oT(i,s){return i[s]??s_()}function rc(i,s){const a=s_();a.hasReadASignal&&(i[s]=i_,a.lView=i,i_=new sT)}const Ft={};function Hf(i){Gd(Jt(),be(),ti()+i,!1)}function Gd(i,s,a,c){if(!c)if(3==(3&s[Nt])){const f=i.preOrderCheckHooks;null!==f&&qa(s,f,a)}else{const f=i.preOrderHooks;null!==f&&el(s,f,0,a)}no(a)}function cT(i,s=null,a=null,c){const d=NE(i,s,a,c);return d.resolveInjectorInitializers(),d}function NE(i,s=null,a=null,c,d=new Set){const f=[a||ct,vx(i)];return c=c||("object"==typeof i?void 0:te(i)),new Jg(f,s||Qg(),c||null,d)}let ma=(()=>{class i{static create(a,c){if(Array.isArray(a))return cT({name:""},c,a,"");{const d=a.name??"";return cT({name:d},a.parent,a.providers,d)}}}return i.THROW_IF_NOT_FOUND=Rr,i.NULL=new oE,i.\u0275prov=Qt({token:i,providedIn:"any",factory:()=>xn(jv)}),i.__NG_ELEMENT_ID__=-1,i})();function zf(i,s=Ze.Default){const a=be();return null===a?xn(i,s):ls(cr(),a,Ae(i),s)}function lT(){throw new Error("invalid")}function wm(i,s,a,c,d,f,y,_,D,T,x){const U=s.blueprint.slice();return U[Kn]=d,U[Nt]=140|c,(null!==T||i&&2048&i[Nt])&&(U[Nt]|=2048),pd(U),U[Fn]=U[Zs]=i,U[_n]=a,U[Eo]=y||i&&i[Eo],U[Dt]=_||i&&i[Dt],U[Ui]=D||i&&i[Ui]||null,U[Mr]=f,U[Ko]=function ix(){return Ow++}(),U[Wr]=x,U[Iu]=T,U[Nn]=2==s.type?i[Nn]:U,U}function Il(i,s,a,c,d){let f=i.data[s];if(null===f)f=function Gf(i,s,a,c,d){const f=ff(),y=pf(),D=i.data[s]=function kx(i,s,a,c,d,f){let y=s?s.injectorIndex:-1,_=0;return function Hi(){return null!==Ct.skipHydrationRootTNode}()&&(_|=128),{type:a,index:c,insertBeforeIndex:null,injectorIndex:y,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:_,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?f:f&&f.parent,a,s,c,d);return null===i.firstChild&&(i.firstChild=D),null!==f&&(y?null==f.child&&null!==D.parent&&(f.child=D):null===f.next&&(f.next=D,D.prev=f)),D}(i,s,a,c,d),function lr(){return Ct.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=a,f.value=c,f.attrs=d;const y=function ku(){const i=Ct.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();f.injectorIndex=null===y?-1:y.injectorIndex}return qr(f,!0),f}function Wf(i,s,a,c){if(0===a)return-1;const d=s.length;for(let f=0;f<a;f++)s.push(c),i.blueprint.push(c),i.data.push(null);return d}function dT(i,s,a,c,d){const f=oT(s,Sc),y=ti(),_=2&c;try{if(no(-1),_&&s.length>tn&&Gd(i,s,tn,!1),ji(_?2:0,d),_)f.runInContext(a,c,d);else{const T=Hn(null);try{a(c,d)}finally{Hn(T)}}}finally{_&&null===s[Sc]&&rc(s,Sc),no(y),ji(_?3:1,d)}}function l_(i,s,a){if(Ac(s)){const c=Hn(null);try{const f=s.directiveEnd;for(let y=s.directiveStart;y<f;y++){const _=i.data[y];_.contentQueries&&_.contentQueries(1,a[y],y)}}finally{Hn(c)}}}function Dl(i,s,a){ja()&&(function kE(i,s,a,c){const d=a.directiveStart,f=a.directiveEnd;$i(a)&&function y_(i,s,a){const c=Fr(s,i),d=d_(a);let y=16;a.signals?y=4096:a.onPush&&(y=64);const _=Dm(i,wm(i,d,null,y,c,s,null,i[Eo].rendererFactory.createRenderer(c,a),null,null,null));i[s.index]=_}(s,a,i.data[d+a.componentOffset]),i.firstCreatePass||so(a,s),vi(c,s);const y=a.initialInputs;for(let _=d;_<f;_++){const D=i.data[_],T=oo(s,i,_,a);vi(T,s),null!==y&&UE(0,_-d,T,D,0,y),In(D)&&(Ti(a.index,s)[_n]=oo(s,i,_,a))}}(i,s,a,Fr(a,s)),64==(64&a.flags)&&FE(i,s,a))}function qf(i,s,a=Fr){const c=s.localNames;if(null!==c){let d=s.index+1;for(let f=0;f<c.length;f+=2){const y=c[f+1],_=-1===y?a(s,i):i[y];i[d++]=_}}}function d_(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Em(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts,i.id):s}function Em(i,s,a,c,d,f,y,_,D,T,x){const U=tn+c,q=U+d,J=function Zf(i,s){const a=[];for(let c=0;c<s;c++)a.push(c<i?null:Ft);return a}(U,q),we="function"==typeof T?T():T;return J[nt]={type:i,blueprint:J,template:a,queries:null,viewQuery:_,declTNode:s,data:J.slice().fill(null,U),bindingStartIndex:U,expandoStartIndex:q,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:D,consts:we,incompleteFirstPass:!1,ssrId:x}}let h_=i=>null;function RE(i,s,a,c){for(let d in i)if(i.hasOwnProperty(d)){a=null===a?{}:a;const f=i[d];null===c?f_(a,s,d,f):c.hasOwnProperty(d)&&f_(a,s,c[d],f)}return a}function f_(i,s,a,c){i.hasOwnProperty(a)?i[a].push(s,c):i[a]=[s,c]}function p_(i,s,a,c){if(ja()){const d=null===c?null:{"":-1},f=function g_(i,s){const a=i.directiveRegistry;let c=null,d=null;if(a)for(let f=0;f<a.length;f++){const y=a[f];if(wo(s,y.selectors,!1))if(c||(c=[]),In(y))if(null!==y.findHostDirectiveDefs){const _=[];d=d||new Map,y.findHostDirectiveDefs(y,_,d),c.unshift(..._,y),m_(i,s,_.length)}else c.unshift(y),m_(i,s,0);else d=d||new Map,y.findHostDirectiveDefs?.(y,c,d),c.push(y)}return null===c?null:[c,d]}(i,a);let y,_;null===f?y=_=null:[y,_]=f,null!==y&&mT(i,s,a,y,d,_),d&&function VE(i,s,a){if(s){const c=i.localNames=[];for(let d=0;d<s.length;d+=2){const f=a[s[d+1]];if(null==f)throw new ee(-301,!1);c.push(s[d],f)}}}(a,c,d)}a.mergedAttrs=Xt(a.mergedAttrs,a.attrs)}function mT(i,s,a,c,d,f){for(let T=0;T<c.length;T++)zu(so(a,s),i,c[T].type);!function Wd(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}(a,i.data.length,c.length);for(let T=0;T<c.length;T++){const x=c[T];x.providersResolver&&x.providersResolver(x)}let y=!1,_=!1,D=Wf(i,s,c.length,null);for(let T=0;T<c.length;T++){const x=c[T];a.mergedAttrs=Xt(a.mergedAttrs,x.hostAttrs),_T(i,a,s,D,x),vT(D,x,d),null!==x.contentQueries&&(a.flags|=4),(null!==x.hostBindings||null!==x.hostAttrs||0!==x.hostVars)&&(a.flags|=64);const U=x.type.prototype;!y&&(U.ngOnChanges||U.ngOnInit||U.ngDoCheck)&&((i.preOrderHooks??=[]).push(a.index),y=!0),!_&&(U.ngOnChanges||U.ngDoCheck)&&((i.preOrderCheckHooks??=[]).push(a.index),_=!0),D++}!function fT(i,s,a){const d=s.directiveEnd,f=i.data,y=s.attrs,_=[];let D=null,T=null;for(let x=s.directiveStart;x<d;x++){const U=f[x],q=a?a.get(U):null,we=q?q.outputs:null;D=RE(U.inputs,x,D,q?q.inputs:null),T=RE(U.outputs,x,T,we);const Oe=null===D||null===y||Go(s)?null:Yf(D,x,y);_.push(Oe)}null!==D&&(D.hasOwnProperty("class")&&(s.flags|=8),D.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=_,s.inputs=D,s.outputs=T}(i,a,f)}function FE(i,s,a){const c=a.directiveStart,d=a.directiveEnd,f=a.index,y=function Lu(){return Ct.lFrame.currentDirectiveIndex}();try{no(f);for(let _=c;_<d;_++){const D=i.data[_],T=s[_];_d(_),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&LE(D,T)}}finally{no(-1),_d(y)}}function LE(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function m_(i,s,a){s.componentOffset=a,(i.components??=[]).push(s.index)}function vT(i,s,a){if(a){if(s.exportAs)for(let c=0;c<s.exportAs.length;c++)a[s.exportAs[c]]=i;In(s)&&(a[""]=i)}}function _T(i,s,a,c,d){i.data[c]=d;const f=d.factory||(d.factory=Ys(d.type)),y=new mt(f,In(d),zf);i.blueprint[c]=y,a[c]=y,function PE(i,s,a,c,d){const f=d.hostBindings;if(f){let y=i.hostBindingOpCodes;null===y&&(y=i.hostBindingOpCodes=[]);const _=~s.index;(function yT(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(y)!=_&&y.push(_),y.push(a,c,f)}}(i,s,c,Wf(i,a,d.hostVars,Ft),d)}function ya(i,s,a,c,d,f){const y=Fr(i,s);!function Kf(i,s,a,c,d,f,y){if(null==f)i.removeAttribute(s,d,a);else{const _=null==y?se(f):y(f,c||"",d);i.setAttribute(s,d,_,a)}}(s[Dt],y,f,i.value,a,c,d)}function UE(i,s,a,c,d,f){const y=f[s];if(null!==y)for(let _=0;_<y.length;)BE(c,a,y[_++],y[_++],y[_++])}function BE(i,s,a,c,d){const f=Hn(null);try{const y=i.inputTransforms;null!==y&&y.hasOwnProperty(c)&&(d=y[c].call(s,d)),null!==i.setInput?i.setInput(s,d,a,c):s[c]=d}finally{Hn(f)}}function Yf(i,s,a){let c=null,d=0;for(;d<a.length;){const f=a[d];if(0!==f)if(5!==f){if("number"==typeof f)break;if(i.hasOwnProperty(f)){null===c&&(c=[]);const y=i[f];for(let _=0;_<y.length;_+=2)if(y[_]===s){c.push(f,y[_+1],a[d+1]);break}}d+=2}else d+=2;else d+=4}return c}function $E(i,s,a,c){return[i,!0,!1,s,null,0,c,a,null,null,null]}function v_(i,s){const a=i.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const f=a[c+1];if(-1!==f){const y=i.data[f];eo(a[c]),y.contentQueries(2,s[f],f)}}}function Dm(i,s){return i[Fa]?i[wu][Gr]=s:i[Fa]=s,i[wu]=s,s}function Cl(i,s,a){eo(0);const c=Hn(null);try{s(i,a)}finally{Hn(c)}}function HE(i){return i[Ss]||(i[Ss]=[])}function __(i){return i.cleanup||(i.cleanup=[])}function wT(i,s){const a=i[Ui],c=a?a.get(Bf,null):null;c&&c.handleError(s)}function Qf(i,s,a,c,d){for(let f=0;f<a.length;){const y=a[f++],_=a[f++];BE(i.data[y],s[y],c,_,d)}}function Vo(i,s,a){const c=ea(s,i);!function Ov(i,s,a){i.setValue(s,a)}(i[Dt],c,a)}function GE(i,s){const a=Ti(s,i),c=a[nt];!function WE(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])}(c,a);const d=a[Kn];null!==d&&null===a[Wr]&&(a[Wr]=Yv(d,a[Ui])),nu(c,a,a[_n])}function nu(i,s,a){Uu(s);try{const c=i.viewQuery;null!==c&&Cl(1,c,a);const d=i.template;null!==d&&dT(i,s,d,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&v_(i,s),i.staticViewQueries&&Cl(2,i.viewQuery,a);const f=i.components;null!==f&&function ET(i,s){for(let a=0;a<s.length;a++)GE(i,s[a])}(s,f)}catch(c){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),c}finally{s[Nt]&=-5,Ed()}}let ZE=(()=>{class i{constructor(){this.all=new Set,this.queue=new Map}create(a,c,d){const f=typeof Zone>"u"?null:Zone.current,y=new af(a,T=>{this.all.has(T)&&this.queue.set(T,f)},d);let _;this.all.add(y),y.notify();const D=()=>{y.cleanup(),_?.(),this.all.delete(y),this.queue.delete(y)};return _=c?.onDestroy(D),{destroy:D}}flush(){if(0!==this.queue.size)for(const[a,c]of this.queue)this.queue.delete(a),c?c.run(()=>a.run()):a.run()}get isQueueEmpty(){return 0===this.queue.size}}return i.\u0275prov=Qt({token:i,providedIn:"root",factory:()=>new i}),i})();function qd(i,s,a){let c=a?i.styles:null,d=a?i.classes:null,f=0;if(null!==s)for(let y=0;y<s.length;y++){const _=s[y];"number"==typeof _?f=_:1==f?d=Pe(d,_):2==f&&(c=Pe(c,_+": "+s[++y]+";"))}a?i.styles=c:i.stylesWithoutHost=c,a?i.classes=d:i.classesWithoutHost=d}function Zd(i,s,a,c,d=!1){for(;null!==a;){const f=s[a.index];if(null!==f&&c.push(wn(f)),kr(f)){for(let _=Or;_<f.length;_++){const D=f[_],T=D[nt].firstChild;null!==T&&Zd(D[nt],D,T,c)}f[hi]!==f[Kn]&&c.push(f[hi])}const y=a.type;if(8&y)Zd(i,s,a.child,c);else if(32&y){const _=Fd(a,s);let D;for(;D=_();)c.push(D)}else if(16&y){const _=Gw(s,a);if(Array.isArray(_))c.push(..._);else{const D=Tf(s[Nn]);Zd(D[nt],D,_,c,!0)}}a=d?a.projectionNext:a.next}return c}function Cm(i,s,a,c=!0){const d=s[Eo].rendererFactory;d.begin&&d.begin();try{w_(i,s,i.template,a)}catch(y){throw c&&wT(s,y),y}finally{d.end&&d.end(),s[Eo].effectManager?.flush()}}function w_(i,s,a,c){const d=s[Nt];if(256!=(256&d)){s[Eo].effectManager?.flush(),Uu(s);try{pd(s),function Fu(i){return Ct.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&dT(i,s,a,2,c);const y=3==(3&d);if(y){const T=i.preOrderCheckHooks;null!==T&&qa(s,T,null)}else{const T=i.preOrderHooks;null!==T&&el(s,T,0,null),ju(s,0)}if(function YE(i){for(let s=Vw(i);null!==s;s=Mg(s)){if(!s[Do])continue;const a=s[Yo];for(let c=0;c<a.length;c++){Wc(a[c])}}}(s),KE(s,2),null!==i.contentQueries&&v_(i,s),y){const T=i.contentCheckHooks;null!==T&&qa(s,T)}else{const T=i.contentHooks;null!==T&&el(s,T,1),ju(s,1)}!function c_(i,s){const a=i.hostBindingOpCodes;if(null===a)return;const c=oT(s,Bi);try{for(let d=0;d<a.length;d++){const f=a[d];if(f<0)no(~f);else{const y=f,_=a[++d],D=a[++d];za(_,y),c.runInContext(D,2,s[y])}}}finally{null===s[Bi]&&rc(s,Bi),no(-1)}}(i,s);const _=i.components;null!==_&&AT(s,_,0);const D=i.viewQuery;if(null!==D&&Cl(2,D,c),y){const T=i.viewCheckHooks;null!==T&&qa(s,T)}else{const T=i.viewHooks;null!==T&&el(s,T,2),ju(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s[Nt]&=-73,Nu(s)}finally{Ed()}}}function KE(i,s){for(let a=Vw(i);null!==a;a=Mg(a))for(let c=Or;c<a.length;c++)E_(a[c],s)}function ST(i,s,a){E_(Ti(s,i),a)}function E_(i,s){if(!function hd(i){return 128==(128&i[Nt])}(i))return;const a=i[nt];if(80&i[Nt]&&0===s||1024&i[Nt]||2===s)w_(a,i,a.template,i[_n]);else if(i[_u]>0){KE(i,1);const d=i[nt].components;null!==d&&AT(i,d,1)}}function AT(i,s,a){for(let c=0;c<s.length;c++)ST(i,s[c],a)}class bm{get rootNodes(){const s=this._lView,a=s[nt];return Zd(a,s,a.firstChild,[])}constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[_n]}set context(s){this._lView[_n]=s}get destroyed(){return 256==(256&this._lView[Nt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[Fn];if(kr(s)){const a=s[8],c=a?a.indexOf(this):-1;c>-1&&(Pv(s,c),sl(a,c))}this._attachedToViewContainer=!1}Rg(this._lView[nt],this._lView)}onDestroy(s){!function Si(i,s){if(256==(256&i[Nt]))throw new ee(911,!1);null===i[xr]&&(i[xr]=[]),i[xr].push(s)}(this._lView,s)}markForCheck(){gm(this._cdRefInjectingView||this._lView)}detach(){this._lView[Nt]&=-129}reattach(){this._lView[Nt]|=128}detectChanges(){Cm(this._lView[nt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ee(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ax(i,s){Vd(i,s,s[Dt],2,null,null)}(this._lView[nt],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new ee(902,!1);this._appRef=s}}class Fx extends bm{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;Cm(s[nt],s,s[_n],!1)}checkNoChanges(){}get context(){return null}}class I_ extends ii{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=kt(s);return new Kd(a,this.ngModule)}}function D_(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}class Vx{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,c){c=H(c);const d=this.injector.get(s,e_,c);return d!==e_||a===e_?d:this.parentInjector.get(s,a,c)}}class Kd extends cm{get inputs(){return D_(this.componentDef.inputs)}get outputs(){return D_(this.componentDef.outputs)}constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function Jl(i){return i.map(lg).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}create(s,a,c,d){let f=(d=d||this.ngModule)instanceof vl?d:d?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const y=f?new Vx(s,f):s,_=y.get(Uf,null);if(null===_)throw new ee(407,!1);const x={rendererFactory:_,sanitizer:y.get(fm,null),effectManager:y.get(ZE,null)},U=_.createRenderer(null,this.componentDef),q=this.componentDef.selectors[0][0]||"div",J=c?function Nx(i,s,a,c){const f=c.get(CE,!1)||a===gt.ShadowDom,y=i.selectRootElement(s,f);return function hT(i){h_(i)}(y),y}(U,c,this.componentDef.encapsulation,y):Ng(U,q,function Lx(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(q)),Ke=this.componentDef.signals?4608:this.componentDef.onPush?576:528,ft=Em(0,null,null,1,0,null,null,null,null,null,null),De=wm(null,ft,null,Ke,null,null,x,U,y,null,null);let Ut,nn;Uu(De);try{const sn=this.componentDef;let Fi,jh=null;sn.findHostDirectiveDefs?(Fi=[],jh=new Map,sn.findHostDirectiveDefs(sn,Fi,jh),Fi.push(sn)):Fi=[sn];const nA=function Ux(i,s){const a=i[nt],c=tn;return i[c]=s,Il(a,c,2,"#host",null)}(De,J),fw=function Bx(i,s,a,c,d,f,y){const _=d[nt];!function MT(i,s,a,c){for(const d of i)s.mergedAttrs=Xt(s.mergedAttrs,d.hostAttrs);null!==s.mergedAttrs&&(qd(s,s.mergedAttrs,!0),null!==a&&qw(c,a,s))}(c,i,s,y);let D=null;null!==s&&(D=Yv(s,d[Ui]));const T=f.rendererFactory.createRenderer(s,a);let x=16;a.signals?x=4096:a.onPush&&(x=64);const U=wm(d,d_(a),null,x,d[i.index],i,f,T,null,null,D);return _.firstCreatePass&&m_(_,i,c.length-1),Dm(d,U),d[i.index]=U}(nA,J,sn,Fi,De,x,U);nn=dd(ft,tn),J&&function NT(i,s,a,c){if(c)lt(i,a,["ng-version",pm.full]);else{const{attrs:d,classes:f}=function mu(i){const s=[],a=[];let c=1,d=2;for(;c<i.length;){let f=i[c];if("string"==typeof f)2===d?""!==f&&s.push(f,i[++c]):8===d&&a.push(f);else{if(!Xr(d))break;d=f}c++}return{attrs:s,classes:a}}(s.selectors[0]);d&&lt(i,a,d),f&&f.length>0&&Ww(i,a,f.join(" "))}}(U,sn,J,c),void 0!==a&&function On(i,s,a){const c=i.projection=[];for(let d=0;d<s.length;d++){const f=a[d];c.push(null!=f?Array.from(f):null)}}(nn,this.ngContentSelectors,a),Ut=function xT(i,s,a,c,d,f){const y=cr(),_=d[nt],D=Fr(y,d);mT(_,d,y,a,null,c);for(let x=0;x<a.length;x++)vi(oo(d,_,y.directiveStart+x,y),d);FE(_,d,y),D&&vi(D,d);const T=oo(d,_,y.directiveStart+y.componentOffset,y);if(i[_n]=d[_n]=T,null!==f)for(const x of f)x(T,s);return l_(_,y,i),T}(fw,sn,Fi,jh,De,[b_]),nu(ft,De,null)}finally{Ed()}return new C_(this.componentType,Ut,wl(nn,De),De,nn)}}class C_ extends wE{constructor(s,a,c,d,f){super(),this.location=c,this._rootLView=d,this._tNode=f,this.previousInputValues=null,this.instance=a,this.hostView=this.changeDetectorRef=new Fx(d),this.componentType=s}setInput(s,a){const c=this._tNode.inputs;let d;if(null!==c&&(d=c[s])){if(this.previousInputValues??=new Map,this.previousInputValues.has(s)&&Object.is(this.previousInputValues.get(s),a))return;const f=this._rootLView;Qf(f[nt],f,d,s,a),this.previousInputValues.set(s,a),gm(Ti(this._tNode.index,f))}}get injector(){return new xs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function b_(){const i=cr();$u(be()[nt],i)}function Fs(i){let s=function QE(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const c=[i];for(;s;){let d;if(In(i))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new ee(903,!1);d=s.\u0275dir}if(d){if(a){c.push(d);const y=i;y.inputs=Tm(i.inputs),y.inputTransforms=Tm(i.inputTransforms),y.declaredInputs=Tm(i.declaredInputs),y.outputs=Tm(i.outputs);const _=d.hostBindings;_&&Sm(i,_);const D=d.viewQuery,T=d.contentQueries;if(D&&ve(i,D),T&&ru(i,T),z(i.inputs,d.inputs),z(i.declaredInputs,d.declaredInputs),z(i.outputs,d.outputs),null!==d.inputTransforms&&(null===y.inputTransforms&&(y.inputTransforms={}),z(y.inputTransforms,d.inputTransforms)),In(d)&&d.data.animation){const x=i.data;x.animation=(x.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let y=0;y<f.length;y++){const _=f[y];_&&_.ngInherit&&_(i),_===Fs&&(a=!1)}}s=Object.getPrototypeOf(s)}!function $x(i){let s=0,a=null;for(let c=i.length-1;c>=0;c--){const d=i[c];d.hostVars=s+=d.hostVars,d.hostAttrs=Xt(d.hostAttrs,a=Xt(a,d.hostAttrs))}}(c)}function Tm(i){return i===pt?{}:i===ct?[]:i}function ve(i,s){const a=i.viewQuery;i.viewQuery=a?(c,d)=>{s(c,d),a(c,d)}:s}function ru(i,s){const a=i.contentQueries;i.contentQueries=a?(c,d,f)=>{s(c,d,f),a(c,d,f)}:s}function Sm(i,s){const a=i.hostBindings;i.hostBindings=a?(c,d)=>{s(c,d),a(c,d)}:s}function JE(i){const s=i.inputConfig,a={};for(const c in s)if(s.hasOwnProperty(c)){const d=s[c];Array.isArray(d)&&d[2]&&(a[c]=d[2])}i.inputTransforms=a}function Mm(i){return!!si(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function si(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Oi(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function oi(i,s,a,c){const d=be();return Oi(d,Rn(),s)&&(Jt(),ya(Tn(),d,i,s,a,c)),oi}function iu(i,s,a,c,d,f){const _=function sc(i,s,a,c){const d=Oi(i,s,a);return Oi(i,s+1,c)||d}(i,function us(){return Ct.lFrame.bindingIndex}(),a,d);return cs(2),_?s+se(a)+c+se(d)+f:Ft}function O_(i,s,a,c,d,f,y,_){const D=be(),T=Jt(),x=i+tn,U=T.firstCreatePass?function UT(i,s,a,c,d,f,y,_,D){const T=s.consts,x=Il(s,i,4,y||null,as(T,_));p_(s,a,x,as(T,D)),$u(s,x);const U=x.tView=Em(2,x,c,d,f,s.directiveRegistry,s.pipeRegistry,null,s.schemas,T,null);return null!==s.queries&&(s.queries.template(s,x),U.queries=s.queries.embeddedTView(x)),x}(x,T,D,s,a,c,d,f,y):T.data[x];qr(U,!1);const q=lI(T,D,U,i);Wa()&&Og(T,D,q,U),vi(q,D),Dm(D,D[x]=$E(q,D,q,U)),Ks(U)&&Dl(T,D,U),null!=y&&qf(D,U,_)}let lI=function dI(i,s,a,c){return Ao(!0),s[Dt].createComment("")};function jm(i,s,a){const c=be();return Oi(c,Rn(),s)&&function ms(i,s,a,c,d,f,y,_){const D=Fr(s,a);let x,T=s.inputs;!_&&null!=T&&(x=T[c])?(Qf(i,a,x,c,d),$i(s)&&function Im(i,s){const a=Ti(s,i);16&a[Nt]||(a[Nt]|=64)}(a,s.index)):3&s.type&&(c=function OE(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(c),d=null!=y?y(d,s.value||"",c):d,f.setProperty(D,c,d))}(Jt(),Tn(),c,i,s,c[Dt],a,!1),jm}function k_(i,s,a,c,d){const y=d?"class":"style";Qf(i,a,s.inputs[y],y,c)}function sh(i,s,a,c){const d=be(),f=Jt(),y=tn+i,_=d[Dt],D=f.firstCreatePass?function Hm(i,s,a,c,d,f){const y=s.consts,D=Il(s,i,2,c,as(y,d));return p_(s,a,D,as(y,f)),null!==D.attrs&&qd(D,D.attrs,!1),null!==D.mergedAttrs&&qd(D,D.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,D),D}(y,f,d,s,a,c):f.data[y],T=hI(f,d,D,_,s,i);d[y]=T;const x=Ks(D);return qr(D,!0),qw(_,T,D),32!=(32&D.flags)&&Wa()&&Og(f,d,T,D),0===function pg(){return Ct.lFrame.elementDepthCount}()&&vi(T,d),function Zc(){Ct.lFrame.elementDepthCount++}(),x&&(Dl(f,d,D),l_(f,D,d)),null!==c&&qf(d,D),sh}function oh(){let i=cr();pf()?function zn(){Ct.lFrame.isParent=!1}():(i=i.parent,qr(i,!1));const s=i;(function Ou(i){return Ct.skipHydrationRootTNode===i})(s)&&function hf(){Ct.skipHydrationRootTNode=null}(),function lf(){Ct.lFrame.elementDepthCount--}();const a=Jt();return a.firstCreatePass&&($u(a,i),Ac(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function mf(i){return 0!=(8&i.flags)}(s)&&k_(a,s,be(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function ia(i){return 0!=(16&i.flags)}(s)&&k_(a,s,be(),s.stylesWithoutHost,!1),oh}function zm(i,s,a,c){return sh(i,s,a,c),oh(),zm}let hI=(i,s,a,c,d,f)=>(Ao(!0),Ng(c,d,function Td(){return Ct.lFrame.currentNamespace}()));function yI(){return be()}function su(i){return!!i&&"function"==typeof i.then}function F_(i){return!!i&&"function"==typeof i.subscribe}function ch(i,s,a,c){const d=be(),f=Jt(),y=cr();return function V_(i,s,a,c,d,f,y){const _=Ks(c),T=i.firstCreatePass&&__(i),x=s[_n],U=HE(s);let q=!0;if(3&c.type||y){const Oe=Fr(c,s),Ke=y?y(Oe):Oe,ft=U.length,De=y?nn=>y(wn(nn[c.index])):c.index;let Ut=null;if(!y&&_&&(Ut=function ip(i,s,a,c){const d=i.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const y=d[f];if(y===a&&d[f+1]===c){const _=s[Ss],D=d[f+2];return _.length>D?_[D]:null}"string"==typeof y&&(f+=2)}return null}(i,s,d,c.index)),null!==Ut)(Ut.__ngLastListenerFn__||Ut).__ngNextListenerFn__=f,Ut.__ngLastListenerFn__=f,q=!1;else{f=U_(c,s,x,f,!1);const nn=a.listen(Ke,d,f);U.push(f,nn),T&&T.push(d,De,ft,ft+1)}}else f=U_(c,s,x,f,!1);const J=c.outputs;let we;if(q&&null!==J&&(we=J[d])){const Oe=we.length;if(Oe)for(let Ke=0;Ke<Oe;Ke+=2){const sn=s[we[Ke]][we[Ke+1]].subscribe(f),Fi=U.length;U.push(f,sn),T&&T.push(d,c.index,Fi,-(Fi+1))}}}(f,d,d[Dt],y,i,s,c),ch}function Pi(i,s,a,c){try{return ji(6,s,a),!1!==a(c)}catch(d){return wT(i,d),!1}finally{ji(7,s,a)}}function U_(i,s,a,c,d){return function f(y){if(y===Function)return c;gm(i.componentOffset>-1?Ti(i.index,s):s);let D=Pi(s,a,c,y),T=f.__ngNextListenerFn__;for(;T;)D=Pi(s,a,T,y)&&D,T=T.__ngNextListenerFn__;return d&&!1===D&&y.preventDefault(),D}}function lh(i=1){return function Id(i){return(Ct.lFrame.contextLView=function mg(i,s){for(;i>0;)s=s[Zs],i--;return s}(i,Ct.lFrame.contextLView))[_n]}(i)}function fh(i,s){return i<<17|s<<2}function $o(i){return i>>17&32767}function Qm(i){return 2|i}function uc(i){return(131068&i)>>2}function z_(i,s){return-131069&i|s<<2}function Jm(i){return 1|i}function EI(i,s,a,c,d){const f=i[a+1],y=null===s;let _=c?$o(f):uc(f),D=!1;for(;0!==_&&(!1===D||y);){const x=i[_+1];jT(i[_],s)&&(D=!0,i[_+1]=c?Jm(x):Qm(x)),_=c?$o(x):uc(x)}D&&(i[a+1]=c?Qm(f):Jm(f))}function jT(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&A(i,s)>=0}function Y_(i,s){return function po(i,s,a,c){const d=be(),f=Jt(),y=cs(2);f.firstUpdatePass&&function DI(i,s,a,c){const d=i.data;if(null===d[a+1]){const f=d[ti()],y=function Ml(i,s){return s>=i.expandoStartIndex}(i,a);(function gh(i,s){return 0!=(i.flags&(s?8:16))})(f,c)&&null===s&&!y&&(s=!1),s=function GT(i,s,a,c){const d=function Ga(i){const s=Ct.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let f=c?s.residualClasses:s.residualStyles;if(null===d)0===(c?s.classBindings:s.styleBindings)&&(a=xl(a=ny(null,i,s,a,c),s.attrs,c),f=null);else{const y=s.directiveStylingLast;if(-1===y||i[y]!==d)if(a=ny(d,i,s,a,c),null===f){let D=function CI(i,s,a){const c=a?s.classBindings:s.styleBindings;if(0!==uc(c))return i[$o(c)]}(i,s,c);void 0!==D&&Array.isArray(D)&&(D=ny(null,i,s,D[1],c),D=xl(D,s.attrs,c),function WT(i,s,a,c){i[$o(a?s.classBindings:s.styleBindings)]=c}(i,s,c,D))}else f=function bI(i,s,a){let c;const d=s.directiveEnd;for(let f=1+s.directiveStylingLast;f<d;f++)c=xl(c,i[f].hostAttrs,a);return xl(c,s.attrs,a)}(i,s,c)}return void 0!==f&&(c?s.residualClasses=f:s.residualStyles=f),a}(d,f,s,c),function Sl(i,s,a,c,d,f){let y=f?s.classBindings:s.styleBindings,_=$o(y),D=uc(y);i[c]=a;let x,T=!1;if(Array.isArray(a)?(x=a[1],(null===x||A(a,x)>0)&&(T=!0)):x=a,d)if(0!==D){const q=$o(i[_+1]);i[c+1]=fh(q,_),0!==q&&(i[q+1]=z_(i[q+1],c)),i[_+1]=function wI(i,s){return 131071&i|s<<17}(i[_+1],c)}else i[c+1]=fh(_,0),0!==_&&(i[_+1]=z_(i[_+1],c)),_=c;else i[c+1]=fh(D,0),0===_?_=c:i[D+1]=z_(i[D+1],c),D=c;T&&(i[c+1]=Qm(i[c+1])),EI(i,x,c,!0),EI(i,x,c,!1),function W_(i,s,a,c,d){const f=d?i.residualClasses:i.residualStyles;null!=f&&"string"==typeof s&&A(f,s)>=0&&(a[c+1]=Jm(a[c+1]))}(s,x,i,c,f),y=fh(_,D),f?s.classBindings=y:s.styleBindings=y}(d,f,s,a,y,c)}}(f,i,y,c),s!==Ft&&Oi(d,y,s)&&function SI(i,s,a,c,d,f,y,_){if(!(3&s.type))return;const D=i.data,T=D[_+1],x=function op(i){return 1==(1&i)}(T)?AI(D,s,a,d,uc(T),y):void 0;ry(x)||(ry(f)||function H_(i){return 2==(2&i)}(T)&&(f=AI(D,null,a,d,_,y)),function _b(i,s,a,c,d){if(s)d?i.addClass(a,c):i.removeClass(a,c);else{let f=-1===c.indexOf("-")?void 0:ha.DashCase;null==d?i.removeStyle(a,c,f):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),f|=ha.Important),i.setStyle(a,c,d,f))}}(c,y,ea(ti(),a),d,f))}(f,f.data[ti()],d,d[Dt],i,d[y+1]=function iy(i,s){return null==i||""===i||("string"==typeof s?i+=s:"object"==typeof i&&(i=te(Fo(i)))),i}(s,a),c,y)}(i,s,null,!0),Y_}function ny(i,s,a,c,d){let f=null;const y=a.directiveEnd;let _=a.directiveStylingLast;for(-1===_?_=a.directiveStart:_++;_<y&&(f=s[_],c=xl(c,f.hostAttrs,d),f!==i);)_++;return null!==i&&(a.directiveStylingLast=_),c}function xl(i,s,a){const c=a?1:2;let d=-1;if(null!==s)for(let f=0;f<s.length;f++){const y=s[f];"number"==typeof y?d=y:d===c&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),w(i,y,!!a||s[++f]))}return void 0===i?null:i}function AI(i,s,a,c,d,f){const y=null===s;let _;for(;d>0;){const D=i[d],T=Array.isArray(D),x=T?D[1]:D,U=null===x;let q=a[d+1];q===Ft&&(q=U?ct:void 0);let J=U?C(q,c):x===c?q:void 0;if(T&&!ry(J)&&(J=C(D,c)),ry(J)&&(_=J,y))return _;const we=i[d+1];d=y?$o(we):uc(we)}if(null!==s){let D=f?s.residualClasses:s.residualStyles;null!=D&&(_=C(D,c))}return _}function ry(i){return void 0!==i}function lp(i,s=""){const a=be(),c=Jt(),d=i+tn,f=c.firstCreatePass?Il(c,d,1,s,null):c.data[d],y=sy(c,a,f,s,i);a[d]=y,Wa()&&Og(c,a,y,f),qr(f,!1)}let sy=(i,s,a,c,d)=>(Ao(!0),function Af(i,s){return i.createText(s)}(s[Dt],c));function Nl(i){return X_("",i,""),Nl}function X_(i,s,a){const c=be(),d=function va(i,s,a,c){return Oi(i,Rn(),a)?s+se(a)+c:Ft}(c,i,s,a);return d!==Ft&&Vo(c,ti(),d),X_}function ir(i,s,a,c,d){const f=be(),y=iu(f,i,s,a,c,d);return y!==Ft&&Vo(f,ti(),y),ir}const Ia=void 0;var $I=["en",[["a","p"],["AM","PM"],Ia],[["AM","PM"],Ia,Ia],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ia,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ia,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ia,"{1} 'at' {0}",Ia],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Vs(i){const a=Math.floor(Math.abs(i)),c=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let Rl={};function p0(i){const s=function Ca(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=Cn(s);if(a)return a;const c=s.split("-")[0];if(a=Cn(c),a)return a;if("en"===c)return $I;throw new ee(701,!1)}function dy(i){return p0(i)[bt.PluralCase]}function Cn(i){return i in Rl||(Rl[i]=zt.ng&&zt.ng.common&&zt.ng.common.locales&&zt.ng.common.locales[i]),Rl[i]}var bt=(()=>((bt=bt||{})[bt.LocaleId=0]="LocaleId",bt[bt.DayPeriodsFormat=1]="DayPeriodsFormat",bt[bt.DayPeriodsStandalone=2]="DayPeriodsStandalone",bt[bt.DaysFormat=3]="DaysFormat",bt[bt.DaysStandalone=4]="DaysStandalone",bt[bt.MonthsFormat=5]="MonthsFormat",bt[bt.MonthsStandalone=6]="MonthsStandalone",bt[bt.Eras=7]="Eras",bt[bt.FirstDayOfWeek=8]="FirstDayOfWeek",bt[bt.WeekendRange=9]="WeekendRange",bt[bt.DateFormat=10]="DateFormat",bt[bt.TimeFormat=11]="TimeFormat",bt[bt.DateTimeFormat=12]="DateTimeFormat",bt[bt.NumberSymbols=13]="NumberSymbols",bt[bt.NumberFormats=14]="NumberFormats",bt[bt.CurrencyCode=15]="CurrencyCode",bt[bt.CurrencySymbol=16]="CurrencySymbol",bt[bt.CurrencyName=17]="CurrencyName",bt[bt.Currencies=18]="Currencies",bt[bt.Directionality=19]="Directionality",bt[bt.PluralCase=20]="PluralCase",bt[bt.ExtraData=21]="ExtraData",bt))();const Ho="en-US";let yp=Ho;function Fl(i,s,a,c,d){if(i=Ae(i),Array.isArray(i))for(let f=0;f<i.length;f++)Fl(i[f],s,a,c,d);else{const f=Jt(),y=be();let _=Hd(i)?i:Ae(i.provide),D=dE(i);const T=cr(),x=1048575&T.providerIndexes,U=T.directiveStart,q=T.providerIndexes>>20;if(Hd(i)||!i.multi){const J=new mt(D,d,zf),we=T0(_,s,d?x:x+q,U);-1===we?(zu(so(T,y),f,_),wy(f,i,s.length),s.push(_),T.directiveStart++,T.directiveEnd++,d&&(T.providerIndexes+=1048576),a.push(J),y.push(J)):(a[we]=J,y[we]=J)}else{const J=T0(_,s,x+q,U),we=T0(_,s,x,x+q),Ke=we>=0&&a[we];if(d&&!Ke||!d&&!(J>=0&&a[J])){zu(so(T,y),f,_);const ft=function Iy(i,s,a,c,d){const f=new mt(i,a,zf);return f.multi=[],f.index=s,f.componentProviders=0,wi(f,d,c&&!a),f}(d?Ta:rD,a.length,d,c,D);!d&&Ke&&(a[we].providerFactory=ft),wy(f,i,s.length,0),s.push(_),T.directiveStart++,T.directiveEnd++,d&&(T.providerIndexes+=1048576),a.push(ft),y.push(ft)}else wy(f,i,J>-1?J:we,wi(a[d?we:J],D,!d&&c));!d&&c&&Ke&&a[we].componentProviders++}}}function wy(i,s,a,c){const d=Hd(s),f=function _x(i){return!!i.useClass}(s);if(d||f){const D=(f?Ae(s.useClass):s).prototype.ngOnDestroy;if(D){const T=i.destroyHooks||(i.destroyHooks=[]);if(!d&&s.multi){const x=T.indexOf(a);-1===x?T.push(a,[c,D]):T[x+1].push(c,D)}else T.push(a,D)}}}function wi(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function T0(i,s,a,c){for(let d=a;d<c;d++)if(s[d]===i)return d;return-1}function rD(i,s,a,c){return Ey(this.multi,[])}function Ta(i,s,a,c){const d=this.multi;let f;if(this.providerFactory){const y=this.providerFactory.componentProviders,_=oo(a,a[nt],this.providerFactory.index,c);f=_.slice(0,y),Ey(d,f);for(let D=y;D<_.length;D++)f.push(_[D])}else f=[],Ey(d,f);return f}function Ey(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function S0(i,s=[]){return a=>{a.providersResolver=(c,d)=>function Cp(i,s,a){const c=Jt();if(c.firstCreatePass){const d=In(i);Fl(a,c.data,c.blueprint,d,!0),Fl(s,c.data,c.blueprint,d,!1)}}(c,d?d(i):i,s)}}class _h{}class iD{}function uS(i,s){return new A0(i,s??null,[])}class A0 extends _h{constructor(s,a,c){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new I_(this);const d=zr(s);this._bootstrapComponents=Lo(d.bootstrap),this._r3Injector=NE(s,a,[{provide:_h,useValue:this},{provide:ii,useValue:this.componentFactoryResolver},...c],te(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class M0 extends iD{constructor(s){super(),this.moduleType=s}create(s){return new A0(this.moduleType,s,[])}}class sD extends _h{constructor(s){super(),this.componentFactoryResolver=new I_(this),this.instance=null;const a=new Jg([...s.providers,{provide:_h,useValue:this},{provide:ii,useValue:this.componentFactoryResolver}],s.parent||Qg(),s.debugName,new Set(["environment"]));this.injector=a,s.runEnvironmentInitializers&&a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function oD(i,s,a=null){return new sD({providers:i,parent:s,debugName:a,runEnvironmentInitializers:!0}).injector}let lS=(()=>{class i{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const c=Hb(0,a.type),d=c.length>0?oD([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,d)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=Qt({token:i,providedIn:"environment",factory:()=>new i(xn(vl))}),i})();function aD(i){i.getStandaloneInjector=s=>s.get(lS).getOrCreateStandaloneInjector(i)}function uu(i){return s=>{setTimeout(i,void 0,s)}}const vo=class Ty extends h.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,c){let d=s,f=a||(()=>null),y=c;if(s&&"object"==typeof s){const D=s;d=D.next?.bind(D),f=D.error?.bind(D),y=D.complete?.bind(D)}this.__isAsync&&(f=uu(f),d&&(d=uu(d)),y&&(y=uu(y)));const _=super.subscribe({next:d,error:f,complete:y});return s instanceof B.w0&&s.add(_),_}};function Ap(){return this._results[Symbol.iterator]()}class Sy{get changes(){return this._changes||(this._changes=new vo)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Sy.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=Ap)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const c=this;c.dirty=!1;const d=function hr(i){return i.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function Ya(i,s,a){if(i.length!==s.length)return!1;for(let c=0;c<i.length;c++){let d=i[c],f=s[c];if(a&&(d=a(d),f=a(f)),f!==d)return!1}return!0}(c._results,d,a))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Dh=(()=>{class i{}return i.__NG_ELEMENT_ID__=vD,i})();const Ay=Dh,Mp=class extends Ay{constructor(s,a,c){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(s,a){return this.createEmbeddedViewImpl(s,a,null)}createEmbeddedViewImpl(s,a,c){const y=this._declarationTContainer.tView,_=wm(this._declarationLView,y,s,4096&this._declarationLView[Nt]?4096:16,null,y.declTNode,null,null,null,a||null,c||null);_[Eu]=this._declarationLView[this._declarationTContainer.index];const T=this._declarationLView[is];return null!==T&&(_[is]=T.createEmbeddedView(y)),nu(y,_,s),new bm(_)}};function vD(){return My(cr(),be())}function My(i,s){return 4&i.type?new Mp(s,i,wl(i,s)):null}let xy=(()=>{class i{}return i.__NG_ELEMENT_ID__=bD,i})();function bD(){return Ny(cr(),be())}const rn=xy,bn=class extends rn{constructor(s,a,c){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=c}get element(){return wl(this._hostTNode,this._hostLView)}get injector(){return new xs(this._hostTNode,this._hostLView)}get parentInjector(){const s=Wi(this._hostTNode,this._hostLView);if($t(s)){const a=sa(s,this._hostLView),c=gi(s);return new xs(a[nt].data[c+8],a)}return new xs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=Bl(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-Or}createEmbeddedView(s,a,c){let d,f;"number"==typeof c?d=c:null!=c&&(d=c.index,f=c.injector);const _=s.createEmbeddedViewImpl(a||{},f,null);return this.insertImpl(_,d,false),_}createComponent(s,a,c,d,f){const y=s&&!function Ka(i){return"function"==typeof i}(s);let _;if(y)_=a;else{const Oe=a||{};_=Oe.index,c=Oe.injector,d=Oe.projectableNodes,f=Oe.environmentInjector||Oe.ngModuleRef}const D=y?s:new Kd(kt(s)),T=c||this.parentInjector;if(!f&&null==D.ngModule){const Ke=(y?T:this.parentInjector).get(vl,null);Ke&&(f=Ke)}kt(D.componentType??{});const J=D.create(T,d,null,f);return this.insertImpl(J.hostView,_,false),J}insert(s,a){return this.insertImpl(s,a,!1)}insertImpl(s,a,c){const d=s._lView,f=d[nt];if(function fd(i){return kr(i[Fn])}(d)){const D=this.indexOf(s);if(-1!==D)this.detach(D);else{const T=d[Fn],x=new bn(T,T[Mr],T[Fn]);x.detach(x.indexOf(s))}}const y=this._adjustIndex(a),_=this._lContainer;if(function pb(i,s,a,c){const d=Or+c,f=a.length;c>0&&(a[d-1][Gr]=s),c<f-Or?(s[Gr]=a[d],Ns(a,Or+c,s)):(a.push(s),s[Gr]=null),s[Fn]=a;const y=s[Eu];null!==y&&a!==y&&function cx(i,s){const a=i[Yo];s[Nn]!==s[Fn][Fn][Nn]&&(i[Do]=!0),null===a?i[Yo]=[s]:a.push(s)}(y,s);const _=s[is];null!==_&&_.insertView(i),s[Nt]|=128}(f,d,_,y),!c){const D=Fv(y,_),T=d[Dt],x=eu(T,_[hi]);null!==x&&function ox(i,s,a,c,d,f){c[Kn]=d,c[Mr]=s,Vd(i,c,a,1,d,f)}(f,_[Mr],T,d,x,D)}return s.attachToViewContainerRef(),Ns(xp(_),y,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=Bl(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),c=Pv(this._lContainer,a);c&&(sl(xp(this._lContainer),a),Rg(c[nt],c))}detach(s){const a=this._adjustIndex(s,-1),c=Pv(this._lContainer,a);return c&&null!=sl(xp(this._lContainer),a)?new bm(c):null}_adjustIndex(s,a=0){return s??this.length+a}};function Bl(i){return i[8]}function xp(i){return i[8]||(i[8]=[])}function Ny(i,s){let a;const c=s[i.index];return kr(c)?a=c:(a=$E(c,s,null,i),s[i.index]=a,Dm(s,a)),Ry(a,s,i,c),new bn(a,i,s)}let Ry=function O0(i,s,a,c){if(i[hi])return;let d;d=8&a.type?wn(c):function TD(i,s){const a=i[Dt],c=a.createComment(""),d=Fr(s,i);return fl(a,eu(a,d),c,function Nf(i,s){return i.nextSibling(s)}(a,d),!1),c}(s,a),i[hi]=d};class P0{constructor(s){this.queryList=s,this.matches=null}clone(){return new P0(this.queryList)}setDirty(){this.queryList.setDirty()}}class k0{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const c=null!==s.contentQueries?s.contentQueries[0]:a.length,d=[];for(let f=0;f<c;f++){const y=a.getByIndex(f);d.push(this.queries[y.indexInDeclarationView].clone())}return new k0(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==U0(s,a).matches&&this.queries[a].setDirty()}}class MD{constructor(s,a,c=null){this.predicate=s,this.flags=a,this.read=c}}class Oy{constructor(s=[]){this.queries=s}elementStart(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let c=0;c<this.length;c++){const d=null!==a?a.length:0,f=this.getByIndex(c).embeddedTView(s,d);f&&(f.indexInDeclarationView=c,null!==a?a.push(f):a=[f])}return null!==a?new Oy(a):null}template(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class F0{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new F0(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=s.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const f=c[d];this.matchTNodeWithReadOption(s,a,xD(a,f)),this.matchTNodeWithReadOption(s,a,Ro(a,s,f,!1,!1))}else c===Dh?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Ro(a,s,c,!1,!1))}matchTNodeWithReadOption(s,a,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===dm||d===xy||d===Dh&&4&a.type)this.addMatch(a.index,-2);else{const f=Ro(a,s,d,!1,!1);null!==f&&this.addMatch(a.index,f)}else this.addMatch(a.index,c)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function xD(i,s){const a=i.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===s)return a[c+1];return null}function mS(i,s,a,c){return-1===a?function gS(i,s){return 11&i.type?wl(i,s):4&i.type?My(i,s):null}(s,i):-2===a?function yS(i,s,a){return a===dm?wl(s,i):a===Dh?My(s,i):a===xy?Ny(s,i):void 0}(i,s,c):oo(i,i[nt],a,s)}function Py(i,s,a,c){const d=s[is].queries[c];if(null===d.matches){const f=i.data,y=a.matches,_=[];for(let D=0;D<y.length;D+=2){const T=y[D];_.push(T<0?null:mS(s,f[T],y[D+1],a.metadata.read))}d.matches=_}return d.matches}function lu(i,s,a,c){const d=i.queries.getByIndex(a),f=d.matches;if(null!==f){const y=Py(i,s,d,a);for(let _=0;_<f.length;_+=2){const D=f[_];if(D>0)c.push(y[_/2]);else{const T=f[_+1],x=s[-D];for(let U=Or;U<x.length;U++){const q=x[U];q[Eu]===q[Fn]&&lu(q[nt],q,T,c)}if(null!==x[Yo]){const U=x[Yo];for(let q=0;q<U.length;q++){const J=U[q];lu(J[nt],J,T,c)}}}}}return c}function Ch(i){const s=be(),a=Jt(),c=Vu();eo(c+1);const d=U0(a,c);if(i.dirty&&function cf(i){return 4==(4&i[Nt])}(s)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const f=d.crossesNgTemplate?lu(a,s,c,[]):Py(a,s,d,c);i.reset(f,Tx),i.notifyOnChanges()}return!0}return!1}function Np(i,s,a,c){const d=Jt();if(d.firstCreatePass){const f=cr();(function V0(i,s,a){null===i.queries&&(i.queries=new Oy),i.queries.track(new F0(s,a))})(d,new MD(s,a,c),f.index),function bh(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(d,i),2==(2&a)&&(d.staticContentQueries=!0)}!function Aa(i,s,a){const c=new Sy(4==(4&a));(function Px(i,s,a,c){const d=HE(s);d.push(a),i.firstCreatePass&&__(i).push(c,d.length-1)})(i,s,c,c.destroy),null===s[is]&&(s[is]=new k0),s[is].queries.push(new P0(c))}(d,be(),a)}function L0(){return function ND(i,s){return i[is].queries[s].queryList}(be(),Vu())}function U0(i,s){return i.queries.getByIndex(s)}function Fy(i){return!!zr(i)}const zy=new vn("Application Initializer");let Lp=(()=>{class i{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,c)=>{this.resolve=a,this.reject=c}),this.appInits=Zt(zy,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const a=[];for(const d of this.appInits){const f=d();if(su(f))a.push(f);else if(F_(f)){const y=new Promise((_,D)=>{f.subscribe({complete:_,error:D})});a.push(y)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{c()}).catch(d=>{this.reject(d)}),0===a.length&&c(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Qt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),GD=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Qt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const pr=new vn("LocaleId",{providedIn:"root",factory:()=>Zt(pr,Ze.Optional|Ze.SkipSelf)||function AS(){return typeof $localize<"u"&&$localize.locale||Ho}()}),un=new vn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Vp=(()=>{class i{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new R.X(!1)}add(){this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Qt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class qD{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let NS=(()=>{class i{compileModuleSync(a){return new M0(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),f=Lo(zr(a).declarations).reduce((y,_)=>{const D=kt(_);return D&&y.push(new Kd(D)),y},[]);return new qD(c,f)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Qt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function q0(...i){}class Xi{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new vo(!1),this.onMicrotaskEmpty=new vo(!1),this.onStable=new vo(!1),this.onError=new vo(!1),typeof Zone>"u")throw new ee(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&a,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function KD(){let i=zt.requestAnimationFrame,s=zt.cancelAnimationFrame;if(typeof Zone<"u"&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function kS(i){const s=()=>{!function PS(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(zt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Z0(i),i.isCheckStableRunning=!0,Wy(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Z0(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,d,f,y,_)=>{try{return QD(i),a.invokeTask(d,f,y,_)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||i.shouldCoalesceRunChangeDetection)&&s(),qy(i)}},onInvoke:(a,c,d,f,y,_,D)=>{try{return QD(i),a.invoke(d,f,y,_,D)}finally{i.shouldCoalesceRunChangeDetection&&s(),qy(i)}},onHasTask:(a,c,d,f)=>{a.hasTask(d,f),c===d&&("microTask"==f.change?(i._hasPendingMicrotasks=f.microTask,Z0(i),Wy(i)):"macroTask"==f.change&&(i.hasPendingMacrotasks=f.macroTask))},onHandleError:(a,c,d,f)=>(a.handleError(d,f),i.runOutsideAngular(()=>i.onError.emit(f)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Xi.isInAngularZone())throw new ee(909,!1)}static assertNotInAngularZone(){if(Xi.isInAngularZone())throw new ee(909,!1)}run(s,a,c){return this._inner.run(s,a,c)}runTask(s,a,c,d){const f=this._inner,y=f.scheduleEventTask("NgZoneEvent: "+d,s,YD,q0,q0);try{return f.runTask(y,a,c)}finally{f.cancelTask(y)}}runGuarded(s,a,c){return this._inner.runGuarded(s,a,c)}runOutsideAngular(s){return this._outer.run(s)}}const YD={};function Wy(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Z0(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function QD(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function qy(i){i._nesting--,Wy(i)}class Oh{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new vo,this.onMicrotaskEmpty=new vo,this.onStable=new vo,this.onError=new vo}run(s,a,c){return s.apply(a,c)}runGuarded(s,a,c){return s.apply(a,c)}runOutsideAngular(s){return s()}runTask(s,a,c,d){return s.apply(a,c)}}const K0=new vn("",{providedIn:"root",factory:JD});function JD(){const i=Zt(Xi);let s=!0;const a=new Y.y(d=>{s=i.isStable&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks,i.runOutsideAngular(()=>{d.next(s),d.complete()})}),c=new Y.y(d=>{let f;i.runOutsideAngular(()=>{f=i.onStable.subscribe(()=>{Xi.assertNotInAngularZone(),queueMicrotask(()=>{!s&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks&&(s=!0,d.next(!0))})})});const y=i.onUnstable.subscribe(()=>{Xi.assertInAngularZone(),s&&(s=!1,i.runOutsideAngular(()=>{d.next(!1)}))});return()=>{f.unsubscribe(),y.unsubscribe()}});return(0,ie.T)(a,c.pipe((0,ge.B)()))}const br=new vn(""),Zy=new vn("");let Up,XD=(()=>{class i{constructor(a,c,d){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Up||(function Ma(i){Up=i}(d),d.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Xi.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,d){let f=-1;c&&c>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==f),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:f,updateCb:d})}whenStable(a,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,d){return[]}}return i.\u0275fac=function(a){return new(a||i)(xn(Xi),xn(Ph),xn(Zy))},i.\u0275prov=Qt({token:i,factory:i.\u0275fac}),i})(),Ph=(()=>{class i{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return Up?.findTestabilityInTree(this,a,c)??null}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Qt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})(),hu=null;const kh=new vn("AllowMultipleToken"),Ky=new vn("PlatformDestroyListeners"),Yy=new vn("appBootstrapListener");class Y0{constructor(s,a){this.name=s,this.token=a}}function rC(i,s,a=[]){const c=`Platform: ${s}`,d=new vn(c);return(f=[])=>{let y=Q0();if(!y||y.injector.get(kh,!1)){const _=[...a,...f,{provide:d,useValue:!0}];i?i(_):function FS(i){if(hu&&!hu.get(kh,!1))throw new ee(400,!1);(function tC(){!function cd(i){ud=i}(()=>{throw new ee(600,!1)})})(),hu=i;const s=i.get(fu);(function Qy(i){i.get(Kb,null)?.forEach(a=>a())})(i)}(function sC(i=[],s){return ma.create({name:s,providers:[{provide:lE,useValue:"platform"},{provide:Ky,useValue:new Set([()=>hu=null])},...i]})}(_,c))}return function iC(i){const s=Q0();if(!s)throw new ee(401,!1);return s}()}}function Q0(){return hu?.get(fu)??null}let fu=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const d=function oC(i="zone.js",s){return"noop"===i?new Oh:"zone.js"===i?new Xi(s):i}(c?.ngZone,function Gl(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:i?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:i?.runCoalescing??!1}}({eventCoalescing:c?.ngZoneEventCoalescing,runCoalescing:c?.ngZoneRunCoalescing}));return d.run(()=>{const f=function cS(i,s,a){return new A0(i,s,a)}(a.moduleType,this.injector,function Ec(i){return[{provide:Xi,useFactory:i},{provide:qg,multi:!0,useFactory:()=>{const s=Zt(Wl,{optional:!0});return()=>s.initialize()}},{provide:X0,useFactory:Jy},{provide:K0,useFactory:JD}]}(()=>d)),y=f.injector.get(Bf,null);return d.runOutsideAngular(()=>{const _=d.onError.subscribe({next:D=>{y.handleError(D)}});f.onDestroy(()=>{$p(this._modules,f),_.unsubscribe()})}),function aC(i,s,a){try{const c=a();return su(c)?c.catch(d=>{throw s.runOutsideAngular(()=>i.handleError(d)),d}):c}catch(c){throw s.runOutsideAngular(()=>i.handleError(c)),c}}(y,d,()=>{const _=f.injector.get(Lp);return _.runInitializers(),_.donePromise.then(()=>(function vp(i){et(i,"Expected localeId to be defined"),"string"==typeof i&&(yp=i.toLowerCase().replace(/_/g,"-"))}(f.injector.get(pr,Ho)||Ho),this._moduleDoBootstrap(f),f))})})}bootstrapModule(a,c=[]){const d=J0({},c);return function eC(i,s,a){const c=new M0(a);return Promise.resolve(c)}(0,0,a).then(f=>this.bootstrapModuleFactory(f,d))}_moduleDoBootstrap(a){const c=a.injector.get(ws);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new ee(-403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ee(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(Ky,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(xn(ma))},i.\u0275prov=Qt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function J0(i,s){return Array.isArray(s)?s.reduce(J0,i):{...i,...s}}let ws=(()=>{class i{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Zt(X0),this.zoneIsStable=Zt(K0),this.componentTypes=[],this.components=[],this.isStable=Zt(Vp).hasPendingTasks.pipe((0,Te.w)(a=>a?(0,pe.of)(!1):this.zoneIsStable),(0,fe.x)(),(0,ge.B)()),this._injector=Zt(vl)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,c){const d=a instanceof cm;if(!this._injector.get(Lp).done)throw!d&&Ts(a),new ee(405,!1);let y;y=d?a:this._injector.get(ii).resolveComponentFactory(a),this.componentTypes.push(y.componentType);const _=function Bp(i){return i.isBoundToModule}(y)?void 0:this._injector.get(_h),T=y.create(ma.NULL,[],c||y.selector,_),x=T.location.nativeElement,U=T.injector.get(br,null);return U?.registerApplication(x),T.onDestroy(()=>{this.detachView(T.hostView),$p(this.components,T),U?.unregisterApplication(x)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new ee(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;$p(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const c=this._injector.get(Yy,[]);c.push(...this._bootstrapListeners),c.forEach(d=>d(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>$p(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new ee(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Qt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function $p(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}const X0=new vn("",{providedIn:"root",factory:()=>Zt(Bf).handleError.bind(void 0)});function Jy(){const i=Zt(Xi),s=Zt(Bf);return a=>i.runOutsideAngular(()=>s.handleError(a))}let Wl=(()=>{class i{constructor(){this.zone=Zt(Xi),this.applicationRef=Zt(ws)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Qt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function cC(){return!1}let US=(()=>{class i{}return i.__NG_ELEMENT_ID__=hC,i})();function hC(i){return function fC(i,s,a){if($i(i)&&!a){const c=Ti(i.index,s);return new bm(c,c)}return 47&i.type?new bm(s[Nn],s):null}(cr(),be(),16==(16&i))}class qp{constructor(){}supports(s){return Mm(s)}create(s){return new iw(s)}}const GS=(i,s)=>s;class iw{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||GS}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,c=this._removalsHead,d=0,f=null;for(;a||c;){const y=!c||a&&a.currentIndex<Vh(c,d,f)?a:c,_=Vh(y,d,f),D=y.currentIndex;if(y===c)d--,c=c._nextRemoved;else if(a=a._next,null==y.previousIndex)d++;else{f||(f=[]);const T=_-d,x=D-d;if(T!=x){for(let q=0;q<T;q++){const J=q<f.length?f[q]:f[q]=0,we=J+q;x<=we&&we<T&&(f[q]=J+1)}f[y.previousIndex]=x-T}}_!==D&&s(y,_,D)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Mm(s))throw new ee(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,f,y,a=this._itHead,c=!1;if(Array.isArray(s)){this.length=s.length;for(let _=0;_<this.length;_++)f=s[_],y=this._trackByFn(_,f),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,f,y,_)),Object.is(a.item,f)||this._addIdentityChange(a,f)):(a=this._mismatch(a,f,y,_),c=!0),a=a._next}else d=0,function PT(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[Symbol.iterator]();let c;for(;!(c=a.next()).done;)s(c.value)}}(s,_=>{y=this._trackByFn(d,_),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,_,y,d)),Object.is(a.item,_)||this._addIdentityChange(a,_)):(a=this._mismatch(a,_,y,d),c=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,c,d){let f;return null===s?f=this._itTail:(f=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,f,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,f,d)):s=this._addAfter(new nv(a,c),f,d),s}_verifyReinsertion(s,a,c,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==f?s=this._reinsertAfter(f,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,f=s._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(s,a,c),this._addToMoves(s,c),s}_moveAfter(s,a,c){return this._unlink(s),this._insertAfter(s,a,c),this._addToMoves(s,c),s}_addAfter(s,a,c){return this._insertAfter(s,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,c){const d=null===a?this._itHead:a._next;return s._next=d,s._prev=a,null===d?this._itTail=s:d._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new sw),this._linkedRecords.put(s),s.currentIndex=c,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,c=s._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new sw),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class nv{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class WS{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,s))return c;return null}remove(s){const a=s._prevDup,c=s._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class sw{constructor(){this.map=new Map}put(s){const a=s.trackById;let c=this.map.get(a);c||(c=new WS,this.map.set(a,c)),c.add(s)}get(s,a){const d=this.map.get(s);return d?d.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Vh(i,s,a){const c=i.previousIndex;if(null===c)return c;let d=0;return a&&c<a.length&&(d=a[c]),c+s+d}class Zp{constructor(){}supports(s){return s instanceof Map||si(s)}create(){return new Kp}}class Kp{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||si(s)))throw new ee(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(c,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const f=this._getOrCreateRecordForKey(d,c);a=this._insertBeforeOrAppend(a,f)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const c=s._prev;return a._next=s,a._prev=c,s._prev=a,c&&(c._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,a);const f=d._prev,y=d._next;return f&&(f._next=y),y&&(y._prev=f),d._next=null,d._prev=null,d}const c=new mC(s);return this._records.set(s,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(c=>a(s[c],c))}}class mC{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ow(){return new di([new qp])}let di=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(null!=c){const d=c.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||ow()),deps:[[i,new Rs,new ps]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(null!=c)return c;throw new ee(901,!1)}}return i.\u0275prov=Qt({token:i,providedIn:"root",factory:ow}),i})();function Yp(){return new Uh([new Zp])}let Uh=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(c){const d=c.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||Yp()),deps:[[i,new Rs,new ps]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(c)return c;throw new ee(901,!1)}}return i.\u0275prov=Qt({token:i,providedIn:"root",factory:Yp}),i})();const ql=rC(null,"core",[]);let KS=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(xn(ws))},i.\u0275mod=Oa({type:i}),i.\u0275inj=ur({}),i})();function eA(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}function bC(i){const s=kt(i);if(!s)return null;const a=new Kd(s);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return s.standalone},get isSignal(){return s.signals}}}},3106:(dt,Ie,L)=>{L.d(Ie,{Z:()=>We});var h=L(9058),B=L(4537),R=L(534),Y=L(7879);class ie{constructor(qe,Ne){this._delegate=qe,this.firebase=Ne,(0,R._addComponent)(qe,new B.wA("app-compat",()=>this,"PUBLIC")),this.container=qe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(qe){this._delegate.automaticDataCollectionEnabled=qe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(qe=>{this._delegate.checkDestroyed(),qe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,R.deleteApp)(this._delegate)))}_getService(qe,Ne=R._DEFAULT_ENTRY_NAME){var _t;this._delegate.checkDestroyed();const ot=this._delegate.container.getProvider(qe);return!ot.isInitialized()&&"EXPLICIT"===(null===(_t=ot.getComponent())||void 0===_t?void 0:_t.instantiationMode)&&ot.initialize(),ot.getImmediate({identifier:Ne})}_removeServiceInstance(qe,Ne=R._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(qe).clearInstance(Ne)}_addComponent(qe){(0,R._addComponent)(this._delegate,qe)}_addOrOverwriteComponent(qe){(0,R._addOrOverwriteComponent)(this._delegate,qe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ge=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),j=function fe(){const Ae=function Te(Ae){const qe={},Ne={__esModule:!0,initializeApp:function ee(xe,X={}){const Xe=R.initializeApp(xe,X);if((0,h.r3)(qe,Xe.name))return qe[Xe.name];const je=new Ae(Xe,Ne);return qe[Xe.name]=je,je},app:ot,registerVersion:R.registerVersion,setLogLevel:R.setLogLevel,onLog:R.onLog,apps:null,SDK_VERSION:R.SDK_VERSION,INTERNAL:{registerComponent:function se(xe){const X=xe.name,Xe=X.replace("-compat","");if(R._registerComponent(xe)&&"PUBLIC"===xe.type){const je=(Yt=ot())=>{if("function"!=typeof Yt[Xe])throw ge.create("invalid-app-argument",{appName:X});return Yt[Xe]()};void 0!==xe.serviceProps&&(0,h.ZB)(je,xe.serviceProps),Ne[Xe]=je,Ae.prototype[Xe]=function(...Yt){return this._getService.bind(this,X).apply(this,xe.multipleInstances?Yt:[])}}return"PUBLIC"===xe.type?Ne[Xe]:null},removeApp:function _t(xe){delete qe[xe]},useAsService:function he(xe,X){return"serverAuth"===X?null:X},modularAPIs:R}};function ot(xe){if(!(0,h.r3)(qe,xe=xe||R._DEFAULT_ENTRY_NAME))throw ge.create("no-app",{appName:xe});return qe[xe]}return Ne.default=Ne,Object.defineProperty(Ne,"apps",{get:function _e(){return Object.keys(qe).map(xe=>qe[xe])}}),ot.App=Ae,Ne}(ie);return Ae.INTERNAL=Object.assign(Object.assign({},Ae.INTERNAL),{createFirebaseNamespace:fe,extendNamespace:function qe(Ne){(0,h.ZB)(Ae,Ne)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),Ae}(),z=new Y.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ae=self.firebase.SDK_VERSION;Ae&&Ae.indexOf("LITE")>=0&&z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const We=j;!function Se(Ae){(0,R.registerVersion)("@firebase/app-compat","0.2.13",Ae)}()},534:(dt,Ie,L)=>{L.r(Ie),L.d(Ie,{FirebaseError:()=>Y.ZR,SDK_VERSION:()=>Vi,_DEFAULT_ENTRY_NAME:()=>Ze,_addComponent:()=>tr,_addOrOverwriteComponent:()=>Jr,_apps:()=>wt,_clearComponents:()=>ln,_components:()=>qt,_getProvider:()=>Wn,_registerComponent:()=>zt,_removeServiceInstance:()=>rs,deleteApp:()=>En,getApp:()=>Sr,getApps:()=>Bn,initializeApp:()=>bs,onLog:()=>nr,registerVersion:()=>Mn,setLogLevel:()=>xn});var h=L(5861),B=L(4537),R=L(7879),Y=L(9058);const ie=(de,ne)=>ne.some(ke=>de instanceof ke);let pe,ge;const j=new WeakMap,z=new WeakMap,te=new WeakMap,Pe=new WeakMap,Se=new WeakMap;let qe={get(de,ne,ke){if(de instanceof IDBTransaction){if("done"===ne)return z.get(de);if("objectStoreNames"===ne)return de.objectStoreNames||te.get(de);if("store"===ne)return ke.objectStoreNames[1]?void 0:ke.objectStore(ke.objectStoreNames[0])}return ee(de[ne])},set:(de,ne,ke)=>(de[ne]=ke,!0),has:(de,ne)=>de instanceof IDBTransaction&&("done"===ne||"store"===ne)||ne in de};function ot(de){return"function"==typeof de?function _t(de){return de!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function fe(){return ge||(ge=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(de)?function(...ne){return de.apply(_e(this),ne),ee(j.get(this))}:function(...ne){return ee(de.apply(_e(this),ne))}:function(ne,...ke){const lt=de.call(_e(this),ne,...ke);return te.set(lt,ne.sort?ne.sort():[ne]),ee(lt)}}(de):(de instanceof IDBTransaction&&function Ae(de){if(z.has(de))return;const ne=new Promise((ke,lt)=>{const xt=()=>{de.removeEventListener("complete",Bt),de.removeEventListener("error",Xt),de.removeEventListener("abort",Xt)},Bt=()=>{ke(),xt()},Xt=()=>{lt(de.error||new DOMException("AbortError","AbortError")),xt()};de.addEventListener("complete",Bt),de.addEventListener("error",Xt),de.addEventListener("abort",Xt)});z.set(de,ne)}(de),ie(de,function Te(){return pe||(pe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(de,qe):de)}function ee(de){if(de instanceof IDBRequest)return function We(de){const ne=new Promise((ke,lt)=>{const xt=()=>{de.removeEventListener("success",Bt),de.removeEventListener("error",Xt)},Bt=()=>{ke(ee(de.result)),xt()},Xt=()=>{lt(de.error),xt()};de.addEventListener("success",Bt),de.addEventListener("error",Xt)});return ne.then(ke=>{ke instanceof IDBCursor&&j.set(ke,de)}).catch(()=>{}),Se.set(ne,de),ne}(de);if(Pe.has(de))return Pe.get(de);const ne=ot(de);return ne!==de&&(Pe.set(de,ne),Se.set(ne,de)),ne}const _e=de=>Se.get(de),xe=["get","getKey","getAll","getAllKeys","count"],X=["put","add","delete","clear"],Xe=new Map;function je(de,ne){if(!(de instanceof IDBDatabase)||ne in de||"string"!=typeof ne)return;if(Xe.get(ne))return Xe.get(ne);const ke=ne.replace(/FromIndex$/,""),lt=ne!==ke,xt=X.includes(ke);if(!(ke in(lt?IDBIndex:IDBObjectStore).prototype)||!xt&&!xe.includes(ke))return;const Bt=function(){var Xt=(0,h.Z)(function*(vr,...$n){const Ws=this.transaction(vr,xt?"readwrite":"readonly");let Go=Ws.store;return lt&&(Go=Go.index($n.shift())),(yield Promise.all([Go[ke](...$n),xt&&Ws.done]))[0]});return function($n){return Xt.apply(this,arguments)}}();return Xe.set(ne,Bt),Bt}!function Ne(de){qe=de(qe)}(de=>({...de,get:(ne,ke,lt)=>je(ne,ke)||de.get(ne,ke,lt),has:(ne,ke)=>!!je(ne,ke)||de.has(ne,ke)}));class Yt{constructor(ne){this.container=ne}getPlatformInfoString(){return this.container.getProviders().map(ke=>{if(function or(de){const ne=de.getComponent();return"VERSION"===ne?.type}(ke)){const lt=ke.getImmediate();return`${lt.library}/${lt.version}`}return null}).filter(ke=>ke).join(" ")}}const $r="@firebase/app",ae=new R.Yd("@firebase/app"),Ze="[DEFAULT]",ut={[$r]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},wt=new Map,qt=new Map;function tr(de,ne){try{de.container.addComponent(ne)}catch(ke){ae.debug(`Component ${ne.name} failed to register with FirebaseApp ${de.name}`,ke)}}function Jr(de,ne){de.container.addOrOverwriteComponent(ne)}function zt(de){const ne=de.name;if(qt.has(ne))return ae.debug(`There were multiple attempts to register component ${ne}.`),!1;qt.set(ne,de);for(const ke of wt.values())tr(ke,de);return!0}function Wn(de,ne){const ke=de.container.getProvider("heartbeat").getImmediate({optional:!0});return ke&&ke.triggerHeartbeat(),de.container.getProvider(ne)}function rs(de,ne,ke=Ze){Wn(de,ne).clearInstance(ke)}function ln(){qt.clear()}const Rt=new Y.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class kn{constructor(ne,ke,lt){this._isDeleted=!1,this._options=Object.assign({},ne),this._config=Object.assign({},ke),this._name=ke.name,this._automaticDataCollectionEnabled=ke.automaticDataCollectionEnabled,this._container=lt,this.container.addComponent(new B.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ne){this.checkDestroyed(),this._automaticDataCollectionEnabled=ne}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ne){this._isDeleted=ne}checkDestroyed(){if(this.isDeleted)throw Rt.create("app-deleted",{appName:this._name})}}const Vi="9.23.0";function bs(de,ne={}){let ke=de;"object"!=typeof ne&&(ne={name:ne});const lt=Object.assign({name:Ze,automaticDataCollectionEnabled:!1},ne),xt=lt.name;if("string"!=typeof xt||!xt)throw Rt.create("bad-app-name",{appName:String(xt)});if(ke||(ke=(0,Y.aH)()),!ke)throw Rt.create("no-options");const Bt=wt.get(xt);if(Bt){if((0,Y.vZ)(ke,Bt.options)&&(0,Y.vZ)(lt,Bt.config))return Bt;throw Rt.create("duplicate-app",{appName:xt})}const Xt=new B.H0(xt);for(const $n of qt.values())Xt.addComponent($n);const vr=new kn(ke,lt,Xt);return wt.set(xt,vr),vr}function Sr(de=Ze){const ne=wt.get(de);if(!ne&&de===Ze&&(0,Y.aH)())return bs();if(!ne)throw Rt.create("no-app",{appName:de});return ne}function Bn(){return Array.from(wt.values())}function En(de){return qn.apply(this,arguments)}function qn(){return(qn=(0,h.Z)(function*(de){const ne=de.name;wt.has(ne)&&(wt.delete(ne),yield Promise.all(de.container.getProviders().map(ke=>ke.delete())),de.isDeleted=!0)})).apply(this,arguments)}function Mn(de,ne,ke){var lt;let xt=null!==(lt=ut[de])&&void 0!==lt?lt:de;ke&&(xt+=`-${ke}`);const Bt=xt.match(/\s|\//),Xt=ne.match(/\s|\//);if(Bt||Xt){const vr=[`Unable to register library "${xt}" with version "${ne}":`];return Bt&&vr.push(`library name "${xt}" contains illegal characters (whitespace or "/")`),Bt&&Xt&&vr.push("and"),Xt&&vr.push(`version name "${ne}" contains illegal characters (whitespace or "/")`),void ae.warn(vr.join(" "))}zt(new B.wA(`${xt}-version`,()=>({library:xt,version:ne}),"VERSION"))}function nr(de,ne){if(null!==de&&"function"!=typeof de)throw Rt.create("invalid-log-argument");(0,R.Am)(de,ne)}function xn(de){(0,R.Ub)(de)}const Hr="firebase-heartbeat-database",Zt=1,H="firebase-heartbeat-store";let $=null;function k(){return $||($=function se(de,ne,{blocked:ke,upgrade:lt,blocking:xt,terminated:Bt}={}){const Xt=indexedDB.open(de,ne),vr=ee(Xt);return lt&&Xt.addEventListener("upgradeneeded",$n=>{lt(ee(Xt.result),$n.oldVersion,$n.newVersion,ee(Xt.transaction),$n)}),ke&&Xt.addEventListener("blocked",$n=>ke($n.oldVersion,$n.newVersion,$n)),vr.then($n=>{Bt&&$n.addEventListener("close",()=>Bt()),xt&&$n.addEventListener("versionchange",Ws=>xt(Ws.oldVersion,Ws.newVersion,Ws))}).catch(()=>{}),vr}(Hr,Zt,{upgrade:(de,ne)=>{0===ne&&de.createObjectStore(H)}}).catch(de=>{throw Rt.create("idb-open",{originalErrorMessage:de.message})})),$}function N(){return(N=(0,h.Z)(function*(de){try{return yield(yield k()).transaction(H).objectStore(H).get(ze(de))}catch(ne){if(ne instanceof Y.ZR)ae.warn(ne.message);else{const ke=Rt.create("idb-get",{originalErrorMessage:ne?.message});ae.warn(ke.message)}}})).apply(this,arguments)}function Q(de,ne){return me.apply(this,arguments)}function me(){return(me=(0,h.Z)(function*(de,ne){try{const lt=(yield k()).transaction(H,"readwrite");yield lt.objectStore(H).put(ne,ze(de)),yield lt.done}catch(ke){if(ke instanceof Y.ZR)ae.warn(ke.message);else{const lt=Rt.create("idb-set",{originalErrorMessage:ke?.message});ae.warn(lt.message)}}})).apply(this,arguments)}function ze(de){return`${de.name}!${de.options.appId}`}class ct{constructor(ne){this.container=ne,this._heartbeatsCache=null;const ke=this.container.getProvider("app").getImmediate();this._storage=new Pt(ke),this._heartbeatsCachePromise=this._storage.read().then(lt=>(this._heartbeatsCache=lt,lt))}triggerHeartbeat(){var ne=this;return(0,h.Z)(function*(){const lt=ne.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),xt=St();if(null===ne._heartbeatsCache&&(ne._heartbeatsCache=yield ne._heartbeatsCachePromise),ne._heartbeatsCache.lastSentHeartbeatDate!==xt&&!ne._heartbeatsCache.heartbeats.some(Bt=>Bt.date===xt))return ne._heartbeatsCache.heartbeats.push({date:xt,agent:lt}),ne._heartbeatsCache.heartbeats=ne._heartbeatsCache.heartbeats.filter(Bt=>{const Xt=new Date(Bt.date).valueOf();return Date.now()-Xt<=2592e6}),ne._storage.overwrite(ne._heartbeatsCache)})()}getHeartbeatsHeader(){var ne=this;return(0,h.Z)(function*(){if(null===ne._heartbeatsCache&&(yield ne._heartbeatsCachePromise),null===ne._heartbeatsCache||0===ne._heartbeatsCache.heartbeats.length)return"";const ke=St(),{heartbeatsToSend:lt,unsentEntries:xt}=function yn(de,ne=1024){const ke=[];let lt=de.slice();for(const xt of de){const Bt=ke.find(Xt=>Xt.agent===xt.agent);if(Bt){if(Bt.dates.push(xt.date),yr(ke)>ne){Bt.dates.pop();break}}else if(ke.push({agent:xt.agent,dates:[xt.date]}),yr(ke)>ne){ke.pop();break}lt=lt.slice(1)}return{heartbeatsToSend:ke,unsentEntries:lt}}(ne._heartbeatsCache.heartbeats),Bt=(0,Y.L)(JSON.stringify({version:2,heartbeats:lt}));return ne._heartbeatsCache.lastSentHeartbeatDate=ke,xt.length>0?(ne._heartbeatsCache.heartbeats=xt,yield ne._storage.overwrite(ne._heartbeatsCache)):(ne._heartbeatsCache.heartbeats=[],ne._storage.overwrite(ne._heartbeatsCache)),Bt})()}}function St(){return(new Date).toISOString().substring(0,10)}class Pt{constructor(ne){this.app=ne,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,Y.hl)()&&(0,Y.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ne=this;return(0,h.Z)(function*(){return(yield ne._canUseIndexedDBPromise)&&(yield function F(de){return N.apply(this,arguments)}(ne.app))||{heartbeats:[]}})()}overwrite(ne){var ke=this;return(0,h.Z)(function*(){var lt;if(yield ke._canUseIndexedDBPromise){const Bt=yield ke.read();return Q(ke.app,{lastSentHeartbeatDate:null!==(lt=ne.lastSentHeartbeatDate)&&void 0!==lt?lt:Bt.lastSentHeartbeatDate,heartbeats:ne.heartbeats})}})()}add(ne){var ke=this;return(0,h.Z)(function*(){var lt;if(yield ke._canUseIndexedDBPromise){const Bt=yield ke.read();return Q(ke.app,{lastSentHeartbeatDate:null!==(lt=ne.lastSentHeartbeatDate)&&void 0!==lt?lt:Bt.lastSentHeartbeatDate,heartbeats:[...Bt.heartbeats,...ne.heartbeats]})}})()}}function yr(de){return(0,Y.L)(JSON.stringify({version:2,heartbeats:de})).length}!function Ar(de){zt(new B.wA("platform-logger",ne=>new Yt(ne),"PRIVATE")),zt(new B.wA("heartbeat",ne=>new ct(ne),"PRIVATE")),Mn($r,"0.9.13",de),Mn($r,"0.9.13","esm2017"),Mn("fire-js","")}("")},4537:(dt,Ie,L)=>{L.d(Ie,{H0:()=>Te,wA:()=>R});var h=L(5861),B=L(9058);class R{constructor(j,z,te){this.name=j,this.instanceFactory=z,this.type=te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(j){return this.instantiationMode=j,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(j){return this.serviceProps=j,this}setInstanceCreatedCallback(j){return this.onInstanceCreated=j,this}}const Y="[DEFAULT]";class ie{constructor(j,z){this.name=j,this.container=z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(j){const z=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has(z)){const te=new B.BH;if(this.instancesDeferred.set(z,te),this.isInitialized(z)||this.shouldAutoInitialize())try{const Pe=this.getOrInitializeService({instanceIdentifier:z});Pe&&te.resolve(Pe)}catch{}}return this.instancesDeferred.get(z).promise}getImmediate(j){var z;const te=this.normalizeInstanceIdentifier(j?.identifier),Pe=null!==(z=j?.optional)&&void 0!==z&&z;if(!this.isInitialized(te)&&!this.shouldAutoInitialize()){if(Pe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:te})}catch(Se){if(Pe)return null;throw Se}}getComponent(){return this.component}setComponent(j){if(j.name!==this.name)throw Error(`Mismatching Component ${j.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=j,this.shouldAutoInitialize()){if(function ge(fe){return"EAGER"===fe.instantiationMode}(j))try{this.getOrInitializeService({instanceIdentifier:Y})}catch{}for(const[z,te]of this.instancesDeferred.entries()){const Pe=this.normalizeInstanceIdentifier(z);try{const Se=this.getOrInitializeService({instanceIdentifier:Pe});te.resolve(Se)}catch{}}}}clearInstance(j=Y){this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)}delete(){var j=this;return(0,h.Z)(function*(){const z=Array.from(j.instances.values());yield Promise.all([...z.filter(te=>"INTERNAL"in te).map(te=>te.INTERNAL.delete()),...z.filter(te=>"_delete"in te).map(te=>te._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(j=Y){return this.instances.has(j)}getOptions(j=Y){return this.instancesOptions.get(j)||{}}initialize(j={}){const{options:z={}}=j,te=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized(te))throw Error(`${this.name}(${te}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Pe=this.getOrInitializeService({instanceIdentifier:te,options:z});for(const[Se,We]of this.instancesDeferred.entries())te===this.normalizeInstanceIdentifier(Se)&&We.resolve(Pe);return Pe}onInit(j,z){var te;const Pe=this.normalizeInstanceIdentifier(z),Se=null!==(te=this.onInitCallbacks.get(Pe))&&void 0!==te?te:new Set;Se.add(j),this.onInitCallbacks.set(Pe,Se);const We=this.instances.get(Pe);return We&&j(We,Pe),()=>{Se.delete(j)}}invokeOnInitCallbacks(j,z){const te=this.onInitCallbacks.get(z);if(te)for(const Pe of te)try{Pe(j,z)}catch{}}getOrInitializeService({instanceIdentifier:j,options:z={}}){let te=this.instances.get(j);if(!te&&this.component&&(te=this.component.instanceFactory(this.container,{instanceIdentifier:(fe=j,fe===Y?void 0:fe),options:z}),this.instances.set(j,te),this.instancesOptions.set(j,z),this.invokeOnInitCallbacks(te,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,te)}catch{}var fe;return te||null}normalizeInstanceIdentifier(j=Y){return this.component?this.component.multipleInstances?j:Y:j}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Te{constructor(j){this.name=j,this.providers=new Map}addComponent(j){const z=this.getProvider(j.name);if(z.isComponentSet())throw new Error(`Component ${j.name} has already been registered with ${this.name}`);z.setComponent(j)}addOrOverwriteComponent(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)}getProvider(j){if(this.providers.has(j))return this.providers.get(j);const z=new ie(j,this);return this.providers.set(j,z),z}getProviders(){return Array.from(this.providers.values())}}},7879:(dt,Ie,L)=>{L.d(Ie,{Am:()=>fe,Ub:()=>Te,Yd:()=>ge,in:()=>B});const h=[];var B=(()=>((B=B||{})[B.DEBUG=0]="DEBUG",B[B.VERBOSE=1]="VERBOSE",B[B.INFO=2]="INFO",B[B.WARN=3]="WARN",B[B.ERROR=4]="ERROR",B[B.SILENT=5]="SILENT",B))();const R={debug:B.DEBUG,verbose:B.VERBOSE,info:B.INFO,warn:B.WARN,error:B.ERROR,silent:B.SILENT},Y=B.INFO,ie={[B.DEBUG]:"log",[B.VERBOSE]:"log",[B.INFO]:"info",[B.WARN]:"warn",[B.ERROR]:"error"},pe=(j,z,...te)=>{if(z<j.logLevel)return;const Pe=(new Date).toISOString(),Se=ie[z];if(!Se)throw new Error(`Attempted to log a message with an invalid logType (value: ${z})`);console[Se](`[${Pe}]  ${j.name}:`,...te)};class ge{constructor(z){this.name=z,this._logLevel=Y,this._logHandler=pe,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(z){if(!(z in B))throw new TypeError(`Invalid value "${z}" assigned to \`logLevel\``);this._logLevel=z}setLogLevel(z){this._logLevel="string"==typeof z?R[z]:z}get logHandler(){return this._logHandler}set logHandler(z){if("function"!=typeof z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=z}get userLogHandler(){return this._userLogHandler}set userLogHandler(z){this._userLogHandler=z}debug(...z){this._userLogHandler&&this._userLogHandler(this,B.DEBUG,...z),this._logHandler(this,B.DEBUG,...z)}log(...z){this._userLogHandler&&this._userLogHandler(this,B.VERBOSE,...z),this._logHandler(this,B.VERBOSE,...z)}info(...z){this._userLogHandler&&this._userLogHandler(this,B.INFO,...z),this._logHandler(this,B.INFO,...z)}warn(...z){this._userLogHandler&&this._userLogHandler(this,B.WARN,...z),this._logHandler(this,B.WARN,...z)}error(...z){this._userLogHandler&&this._userLogHandler(this,B.ERROR,...z),this._logHandler(this,B.ERROR,...z)}}function Te(j){h.forEach(z=>{z.setLogLevel(j)})}function fe(j,z){for(const te of h){let Pe=null;z&&z.level&&(Pe=R[z.level]),te.userLogHandler=null===j?null:(Se,We,...Ae)=>{const qe=Ae.map(Ne=>{if(null==Ne)return null;if("string"==typeof Ne)return Ne;if("number"==typeof Ne||"boolean"==typeof Ne)return Ne.toString();if(Ne instanceof Error)return Ne.message;try{return JSON.stringify(Ne)}catch{return null}}).filter(Ne=>Ne).join(" ");We>=(Pe??Se.logLevel)&&j({level:B[We].toLowerCase(),message:qe,args:Ae,type:Se.name})}}}},3182:(dt,Ie,L)=>{L.d(Ie,{C6:()=>h.getApps,KN:()=>h.registerVersion,Mq:()=>h.getApp,ZF:()=>h.initializeApp});var h=L(534);(0,h.registerVersion)("firebase","9.23.0","app")},7142:(dt,Ie,L)=>{L.d(Ie,{Z:()=>h.Z});var h=L(3106);h.Z.registerVersion("firebase","9.23.0","app-compat")},6365:(dt,Ie,L)=>{L.r(Ie);var h=L(5861),B=L(3106),R=L(6878),Y=L(9058),ge=(L(534),L(7879),L(4537));function Te(){return window}function z(){return z=(0,h.Z)(function*(k,F,N){var Q;const{BuildInfo:me}=Te();(0,R.as)(F.sessionId,"AuthEvent did not contain a session ID");const ze=yield function Ne(k){return _t.apply(this,arguments)}(F.sessionId),gt={};return(0,R.at)()?gt.ibi=me.packageName:(0,R.au)()?gt.apn=me.packageName:(0,R.av)(k,"operation-not-supported-in-this-environment"),me.displayName&&(gt.appDisplayName=me.displayName),gt.sessionId=ze,(0,R.aw)(k,N,F.type,void 0,null!==(Q=F.eventId)&&void 0!==Q?Q:void 0,gt)}),z.apply(this,arguments)}function Pe(){return(Pe=(0,h.Z)(function*(k){const{BuildInfo:F}=Te(),N={};(0,R.at)()?N.iosBundleId=F.packageName:(0,R.au)()?N.androidPackageName=F.packageName:(0,R.av)(k,"operation-not-supported-in-this-environment"),yield(0,R.ax)(k,N)})).apply(this,arguments)}function Ae(){return(Ae=(0,h.Z)(function*(k,F,N){const{cordova:Q}=Te();let me=()=>{};try{yield new Promise((ze,gt)=>{let pt=null;function ct(){var Pt;ze();const yr=null===(Pt=Q.plugins.browsertab)||void 0===Pt?void 0:Pt.close;"function"==typeof yr&&yr(),"function"==typeof N?.close&&N.close()}function St(){pt||(pt=window.setTimeout(()=>{gt((0,R.az)(k,"redirect-cancelled-by-user"))},2e3))}function yn(){"visible"===document?.visibilityState&&St()}F.addPassiveListener(ct),document.addEventListener("resume",St,!1),(0,R.au)()&&document.addEventListener("visibilitychange",yn,!1),me=()=>{F.removePassiveListener(ct),document.removeEventListener("resume",St,!1),document.removeEventListener("visibilitychange",yn,!1),pt&&window.clearTimeout(pt)}})}finally{me()}})).apply(this,arguments)}function _t(){return(_t=(0,h.Z)(function*(k){const F=function ot(k){if((0,R.as)(/[0-9a-zA-Z]+/.test(k),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(k);const F=new ArrayBuffer(k.length),N=new Uint8Array(F);for(let Q=0;Q<k.length;Q++)N[Q]=k.charCodeAt(Q);return N}(k),N=yield crypto.subtle.digest("SHA-256",F);return Array.from(new Uint8Array(N)).map(me=>me.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class _e extends R.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(F=>{this.resolveInialized=F})}addPassiveListener(F){this.passiveListeners.add(F)}removePassiveListener(F){this.passiveListeners.delete(F)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(F){return this.resolveInialized(),this.passiveListeners.forEach(N=>N(F)),super.onEvent(F)}initialized(){var F=this;return(0,h.Z)(function*(){yield F.initPromise})()}}function xe(k){return X.apply(this,arguments)}function X(){return(X=(0,h.Z)(function*(k){const F=yield Yt()._get(or(k));return F&&(yield Yt()._remove(or(k))),F})).apply(this,arguments)}function je(){const k=[];for(let N=0;N<20;N++){const Q=Math.floor(62*Math.random());k.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Q))}return k.join("")}function Yt(){return(0,R.aC)(R.b)}function or(k){return(0,R.aD)("authEvent",k.config.apiKey,k.name)}function ae(k){if(!k?.includes("?"))return{};const[F,...N]=k.split("?");return(0,Y.zd)(N.join("?"))}const Re=class Ce{constructor(){this._redirectPersistence=R.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=R.aE,this._overrideRedirectResult=R.aF}_initialize(F){var N=this;return(0,h.Z)(function*(){const Q=F._key();let me=N.eventManagers.get(Q);return me||(me=new _e(F),N.eventManagers.set(Q,me),N.attachCallbackListeners(F,me)),me})()}_openPopup(F){(0,R.av)(F,"operation-not-supported-in-this-environment")}_openRedirect(F,N,Q,me){var ze=this;return(0,h.Z)(function*(){!function qe(k){var F,N,Q,me,ze,gt,pt,ct,St,yn;const Pt=Te();(0,R.aA)("function"==typeof(null===(F=Pt?.universalLinks)||void 0===F?void 0:F.subscribe),k,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,R.aA)(typeof(null===(N=Pt?.BuildInfo)||void 0===N?void 0:N.packageName)<"u",k,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,R.aA)("function"==typeof(null===(ze=null===(me=null===(Q=Pt?.cordova)||void 0===Q?void 0:Q.plugins)||void 0===me?void 0:me.browsertab)||void 0===ze?void 0:ze.openUrl),k,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,R.aA)("function"==typeof(null===(ct=null===(pt=null===(gt=Pt?.cordova)||void 0===gt?void 0:gt.plugins)||void 0===pt?void 0:pt.browsertab)||void 0===ct?void 0:ct.isAvailable),k,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,R.aA)("function"==typeof(null===(yn=null===(St=Pt?.cordova)||void 0===St?void 0:St.InAppBrowser)||void 0===yn?void 0:yn.open),k,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(F);const gt=yield ze._initialize(F);yield gt.initialized(),gt.resetRedirect(),(0,R.aG)(),yield ze._originValidation(F);const pt=function se(k,F,N=null){return{type:F,eventId:N,urlResponse:null,sessionId:je(),postBody:null,tenantId:k.tenantId,error:(0,R.az)(k,"no-auth-event")}}(F,Q,me);yield function he(k,F){return Yt()._set(or(k),F)}(F,pt);const ct=yield function j(k,F,N){return z.apply(this,arguments)}(F,pt,N),St=yield function Se(k){const{cordova:F}=Te();return new Promise(N=>{F.plugins.browsertab.isAvailable(Q=>{let me=null;Q?F.plugins.browsertab.openUrl(k):me=F.InAppBrowser.open(k,(0,R.ay)()?"_blank":"_system","location=yes"),N(me)})})}(ct);return function We(k,F,N){return Ae.apply(this,arguments)}(F,gt,St)})()}_isIframeWebStorageSupported(F,N){throw new Error("Method not implemented.")}_originValidation(F){const N=F._key();return this.originValidationPromises[N]||(this.originValidationPromises[N]=function te(k){return Pe.apply(this,arguments)}(F)),this.originValidationPromises[N]}attachCallbackListeners(F,N){const{universalLinks:Q,handleOpenURL:me,BuildInfo:ze}=Te(),gt=setTimeout((0,h.Z)(function*(){yield xe(F),N.onEvent(He())}),500),pt=function(){var yn=(0,h.Z)(function*(Pt){clearTimeout(gt);const yr=yield xe(F);let Ar=null;yr&&Pt?.url&&(Ar=function Xe(k,F){var N,Q;const me=function Cs(k){const F=ae(k),N=F.link?decodeURIComponent(F.link):void 0,Q=ae(N).link,me=F.deep_link_id?decodeURIComponent(F.deep_link_id):void 0;return ae(me).link||me||Q||N||k}(F);if(me.includes("/__/auth/callback")){const ze=ae(me),gt=ze.firebaseError?function $r(k){try{return JSON.parse(k)}catch{return null}}(decodeURIComponent(ze.firebaseError)):null,pt=null===(Q=null===(N=gt?.code)||void 0===N?void 0:N.split("auth/"))||void 0===Q?void 0:Q[1],ct=pt?(0,R.az)(pt):null;return ct?{type:k.type,eventId:k.eventId,tenantId:k.tenantId,error:ct,urlResponse:null,sessionId:null,postBody:null}:{type:k.type,eventId:k.eventId,tenantId:k.tenantId,sessionId:k.sessionId,urlResponse:me,postBody:null}}return null}(yr,Pt.url)),N.onEvent(Ar||He())});return function(yr){return yn.apply(this,arguments)}}();typeof Q<"u"&&"function"==typeof Q.subscribe&&Q.subscribe(null,pt);const ct=me,St=`${ze.packageName.toLowerCase()}://`;Te().handleOpenURL=function(){var yn=(0,h.Z)(function*(Pt){if(Pt.toLowerCase().startsWith(St)&&pt({url:Pt}),"function"==typeof ct)try{ct(Pt)}catch(yr){console.error(yr)}});return function(Pt){return yn.apply(this,arguments)}}()}};function He(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,R.az)("no-auth-event")}}function et(){var k;return(null===(k=self?.location)||void 0===k?void 0:k.protocol)||null}function en(k=(0,Y.z$)()){return!("file:"!==et()&&"ionic:"!==et()&&"capacitor:"!==et()||!k.toLowerCase().match(/iphone|ipad|ipod|android/))}function ur(){try{const k=self.localStorage,F=R.aL();if(k)return k.setItem(F,"1"),k.removeItem(F),!function ar(k=(0,Y.z$)()){return function Pn(){return(0,Y.w1)()&&11===document?.documentMode}()||function Qt(k=(0,Y.z$)()){return/Edge\/\d+/.test(k)}(k)}()||(0,Y.hl)()}catch{return er()&&(0,Y.hl)()}return!1}function er(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Vn(){return(function ht(){return"http:"===et()||"https:"===et()}()||(0,Y.ru)()||en())&&!function mn(){return(0,Y.b$)()||(0,Y.UG)()}()&&ur()&&!er()}function Ci(){return en()&&typeof document<"u"}function Li(){return(Li=(0,h.Z)(function*(){return!!Ci()&&new Promise(k=>{const F=setTimeout(()=>{k(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(F),k(!0)})})})).apply(this,arguments)}const Un={LOCAL:"local",NONE:"none",SESSION:"session"},jr=R.aA,ns="persistence";function ut(k){return wt.apply(this,arguments)}function wt(){return(wt=(0,h.Z)(function*(k){yield k._initializationPromise;const F=tr(),N=R.aD(ns,k.config.apiKey,k.name);F&&F.setItem(N,k._getPersistence())})).apply(this,arguments)}function tr(){var k;try{return(null===(k=function Tr(){return typeof window<"u"?window:null}())||void 0===k?void 0:k.sessionStorage)||null}catch{return null}}const Jr=R.aA;class zt{constructor(){this.browserResolver=R.aC(R.k),this.cordovaResolver=R.aC(Re),this.underlyingResolver=null,this._redirectPersistence=R.a,this._completeRedirectFn=R.aE,this._overrideRedirectResult=R.aF}_initialize(F){var N=this;return(0,h.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._initialize(F)})()}_openPopup(F,N,Q,me){var ze=this;return(0,h.Z)(function*(){return yield ze.selectUnderlyingResolver(),ze.assertedUnderlyingResolver._openPopup(F,N,Q,me)})()}_openRedirect(F,N,Q,me){var ze=this;return(0,h.Z)(function*(){return yield ze.selectUnderlyingResolver(),ze.assertedUnderlyingResolver._openRedirect(F,N,Q,me)})()}_isIframeWebStorageSupported(F,N){this.assertedUnderlyingResolver._isIframeWebStorageSupported(F,N)}_originValidation(F){return this.assertedUnderlyingResolver._originValidation(F)}get _shouldInitProactively(){return Ci()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Jr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var F=this;return(0,h.Z)(function*(){if(F.underlyingResolver)return;const N=yield function _o(){return Li.apply(this,arguments)}();F.underlyingResolver=N?F.cordovaResolver:F.browserResolver})()}}function Wn(k){return k.unwrap()}function ln(k){return Rt(k)}function Rt(k){const{_tokenResponse:F}=k instanceof Y.ZR?k.customData:k;if(!F)return null;if(!(k instanceof Y.ZR)&&"temporaryProof"in F&&"phoneNumber"in F)return R.P.credentialFromResult(k);const N=F.providerId;if(!N||N===R.p.PASSWORD)return null;let Q;switch(N){case R.p.GOOGLE:Q=R.V;break;case R.p.FACEBOOK:Q=R.U;break;case R.p.GITHUB:Q=R.W;break;case R.p.TWITTER:Q=R.Z;break;default:const{oauthIdToken:me,oauthAccessToken:ze,oauthTokenSecret:gt,pendingToken:pt,nonce:ct}=F;return ze||gt||me||pt?pt?N.startsWith("saml.")?R.aO._create(N,pt):R.L._fromParams({providerId:N,signInMethod:N,pendingToken:pt,idToken:me,accessToken:ze}):new R.X(N).credential({idToken:me,accessToken:ze,rawNonce:ct}):null}return k instanceof Y.ZR?Q.credentialFromError(k):Q.credentialFromResult(k)}function kn(k,F){return F.catch(N=>{throw N instanceof Y.ZR&&function Rr(k,F){var N;const Q=null===(N=F.customData)||void 0===N?void 0:N._tokenResponse;if("auth/multi-factor-auth-required"===F?.code)F.resolver=new Sr(k,R.aq(k,F));else if(Q){const me=Rt(F),ze=F;me&&(ze.credential=me,ze.tenantId=Q.tenantId||void 0,ze.email=Q.email||void 0,ze.phoneNumber=Q.phoneNumber||void 0)}}(k,N),N}).then(N=>{const me=N.user;return{operationType:N.operationType,credential:ln(N),additionalUserInfo:R.ao(N),user:Bn.getOrCreate(me)}})}function Vi(k,F){return bs.apply(this,arguments)}function bs(){return(bs=(0,h.Z)(function*(k,F){const N=yield F;return{verificationId:N.verificationId,confirm:Q=>kn(k,N.confirm(Q))}})).apply(this,arguments)}class Sr{constructor(F,N){this.resolver=N,this.auth=function rs(k){return k.wrapped()}(F)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(F){return kn(Wn(this.auth),this.resolver.resolveSignIn(F))}}class Bn{constructor(F){this._delegate=F,this.multiFactor=R.ar(F)}static getOrCreate(F){return Bn.USER_MAP.has(F)||Bn.USER_MAP.set(F,new Bn(F)),Bn.USER_MAP.get(F)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(F){return this._delegate.getIdTokenResult(F)}getIdToken(F){return this._delegate.getIdToken(F)}linkAndRetrieveDataWithCredential(F){return this.linkWithCredential(F)}linkWithCredential(F){var N=this;return(0,h.Z)(function*(){return kn(N.auth,R.a0(N._delegate,F))})()}linkWithPhoneNumber(F,N){var Q=this;return(0,h.Z)(function*(){return Vi(Q.auth,R.l(Q._delegate,F,N))})()}linkWithPopup(F){var N=this;return(0,h.Z)(function*(){return kn(N.auth,R.d(N._delegate,F,zt))})()}linkWithRedirect(F){var N=this;return(0,h.Z)(function*(){return yield ut(R.aH(N.auth)),R.g(N._delegate,F,zt)})()}reauthenticateAndRetrieveDataWithCredential(F){return this.reauthenticateWithCredential(F)}reauthenticateWithCredential(F){var N=this;return(0,h.Z)(function*(){return kn(N.auth,R.a1(N._delegate,F))})()}reauthenticateWithPhoneNumber(F,N){return Vi(this.auth,R.r(this._delegate,F,N))}reauthenticateWithPopup(F){return kn(this.auth,R.e(this._delegate,F,zt))}reauthenticateWithRedirect(F){var N=this;return(0,h.Z)(function*(){return yield ut(R.aH(N.auth)),R.h(N._delegate,F,zt)})()}sendEmailVerification(F){return R.ae(this._delegate,F)}unlink(F){var N=this;return(0,h.Z)(function*(){return yield R.an(N._delegate,F),N})()}updateEmail(F){return R.aj(this._delegate,F)}updatePassword(F){return R.ak(this._delegate,F)}updatePhoneNumber(F){return R.u(this._delegate,F)}updateProfile(F){return R.ai(this._delegate,F)}verifyBeforeUpdateEmail(F,N){return R.af(this._delegate,F,N)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Bn.USER_MAP=new WeakMap;const En=R.aA;let qn=(()=>{class k{constructor(N,Q){if(this.app=N,Q.isInitialized())return this._delegate=Q.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:me}=N.options;En(me,"invalid-api-key",{appName:N.name}),En(me,"invalid-api-key",{appName:N.name});const ze=typeof window<"u"?zt:void 0;this._delegate=Q.initialize({options:{persistence:nr(me,N.name),popupRedirectResolver:ze}}),this._delegate._updateErrorMap(R.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Bn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(N){this._delegate.languageCode=N}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(N){this._delegate.tenantId=N}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(N,Q){R.I(this._delegate,N,Q)}applyActionCode(N){return R.a5(this._delegate,N)}checkActionCode(N){return R.a6(this._delegate,N)}confirmPasswordReset(N,Q){return R.a4(this._delegate,N,Q)}createUserWithEmailAndPassword(N,Q){var me=this;return(0,h.Z)(function*(){return kn(me._delegate,R.a8(me._delegate,N,Q))})()}fetchProvidersForEmail(N){return this.fetchSignInMethodsForEmail(N)}fetchSignInMethodsForEmail(N){return R.ad(this._delegate,N)}isSignInWithEmailLink(N){return R.ab(this._delegate,N)}getRedirectResult(){var N=this;return(0,h.Z)(function*(){En(Vn(),N._delegate,"operation-not-supported-in-this-environment");const Q=yield R.j(N._delegate,zt);return Q?kn(N._delegate,Promise.resolve(Q)):{credential:null,user:null}})()}addFrameworkForLogging(N){!function Ve(k,F){(0,R.aH)(k)._logFramework(F)}(this._delegate,N)}onAuthStateChanged(N,Q,me){const{next:ze,error:gt,complete:pt}=Mn(N,Q,me);return this._delegate.onAuthStateChanged(ze,gt,pt)}onIdTokenChanged(N,Q,me){const{next:ze,error:gt,complete:pt}=Mn(N,Q,me);return this._delegate.onIdTokenChanged(ze,gt,pt)}sendSignInLinkToEmail(N,Q){return R.aa(this._delegate,N,Q)}sendPasswordResetEmail(N,Q){return R.a3(this._delegate,N,Q||void 0)}setPersistence(N){var Q=this;return(0,h.Z)(function*(){let me;switch(function Ze(k,F){jr(Object.values(Un).includes(F),k,"invalid-persistence-type"),(0,Y.b$)()?jr(F!==Un.SESSION,k,"unsupported-persistence-type"):(0,Y.UG)()?jr(F===Un.NONE,k,"unsupported-persistence-type"):er()?jr(F===Un.NONE||F===Un.LOCAL&&(0,Y.hl)(),k,"unsupported-persistence-type"):jr(F===Un.NONE||ur(),k,"unsupported-persistence-type")}(Q._delegate,N),N){case Un.SESSION:me=R.a;break;case Un.LOCAL:me=(yield R.aC(R.i)._isAvailable())?R.i:R.b;break;case Un.NONE:me=R.N;break;default:return R.av("argument-error",{appName:Q._delegate.name})}return Q._delegate.setPersistence(me)})()}signInAndRetrieveDataWithCredential(N){return this.signInWithCredential(N)}signInAnonymously(){return kn(this._delegate,R._(this._delegate))}signInWithCredential(N){return kn(this._delegate,R.$(this._delegate,N))}signInWithCustomToken(N){return kn(this._delegate,R.a2(this._delegate,N))}signInWithEmailAndPassword(N,Q){return kn(this._delegate,R.a9(this._delegate,N,Q))}signInWithEmailLink(N,Q){return kn(this._delegate,R.ac(this._delegate,N,Q))}signInWithPhoneNumber(N,Q){return Vi(this._delegate,R.s(this._delegate,N,Q))}signInWithPopup(N){var Q=this;return(0,h.Z)(function*(){return En(Vn(),Q._delegate,"operation-not-supported-in-this-environment"),kn(Q._delegate,R.c(Q._delegate,N,zt))})()}signInWithRedirect(N){var Q=this;return(0,h.Z)(function*(){return En(Vn(),Q._delegate,"operation-not-supported-in-this-environment"),yield ut(Q._delegate),R.f(Q._delegate,N,zt)})()}updateCurrentUser(N){return this._delegate.updateCurrentUser(N)}verifyPasswordResetCode(N){return R.a7(this._delegate,N)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return k.Persistence=Un,k})();function Mn(k,F,N){let Q=k;"function"!=typeof k&&({next:Q,error:F,complete:N}=k);const me=Q;return{next:gt=>me(gt&&Bn.getOrCreate(gt)),error:F,complete:N}}function nr(k,F){const N=function qt(k,F){const N=tr();if(!N)return[];const Q=R.aD(ns,k,F);switch(N.getItem(Q)){case Un.NONE:return[R.N];case Un.LOCAL:return[R.i,R.a];case Un.SESSION:return[R.a];default:return[]}}(k,F);if(typeof self<"u"&&!N.includes(R.i)&&N.push(R.i),typeof window<"u")for(const Q of[R.b,R.a])N.includes(Q)||N.push(Q);return N.includes(R.N)||N.push(R.N),N}class xn{constructor(){this.providerId="phone",this._delegate=new R.P(Wn(B.Z.auth()))}static credential(F,N){return R.P.credential(F,N)}verifyPhoneNumber(F,N){return this._delegate.verifyPhoneNumber(F,N)}unwrap(){return this._delegate}}xn.PHONE_SIGN_IN_METHOD=R.P.PHONE_SIGN_IN_METHOD,xn.PROVIDER_ID=R.P.PROVIDER_ID;const Hr=R.aA;class Zt{constructor(F,N,Q=B.Z.app()){var me;Hr(null===(me=Q.options)||void 0===me?void 0:me.apiKey,"invalid-api-key",{appName:Q.name}),this._delegate=new R.R(F,N,Q.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function $(k){k.INTERNAL.registerComponent(new ge.wA("auth-compat",F=>{const N=F.getProvider("app-compat").getImmediate(),Q=F.getProvider("auth");return new qn(N,Q)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:R.A.EMAIL_SIGNIN,PASSWORD_RESET:R.A.PASSWORD_RESET,RECOVER_EMAIL:R.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:R.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:R.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:R.A.VERIFY_EMAIL}},EmailAuthProvider:R.Q,FacebookAuthProvider:R.U,GithubAuthProvider:R.W,GoogleAuthProvider:R.V,OAuthProvider:R.X,SAMLAuthProvider:R.Y,PhoneAuthProvider:xn,PhoneMultiFactorGenerator:R.m,RecaptchaVerifier:Zt,TwitterAuthProvider:R.Z,Auth:qn,AuthCredential:R.J,Error:Y.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),k.registerVersion("@firebase/auth-compat","0.4.2")}(B.Z)},5861:(dt,Ie,L)=>{function h(R,Y,ie,pe,ge,Te,fe){try{var j=R[Te](fe),z=j.value}catch(te){return void ie(te)}j.done?Y(z):Promise.resolve(z).then(pe,ge)}function B(R){return function(){var Y=this,ie=arguments;return new Promise(function(pe,ge){var Te=R.apply(Y,ie);function fe(z){h(Te,pe,ge,fe,j,"next",z)}function j(z){h(Te,pe,ge,fe,j,"throw",z)}fe(void 0)})}}L.d(Ie,{Z:()=>B})},7582:(dt,Ie,L)=>{function Y(ae,ye){var Ce={};for(var Re in ae)Object.prototype.hasOwnProperty.call(ae,Re)&&ye.indexOf(Re)<0&&(Ce[Re]=ae[Re]);if(null!=ae&&"function"==typeof Object.getOwnPropertySymbols){var He=0;for(Re=Object.getOwnPropertySymbols(ae);He<Re.length;He++)ye.indexOf(Re[He])<0&&Object.prototype.propertyIsEnumerable.call(ae,Re[He])&&(Ce[Re[He]]=ae[Re[He]])}return Ce}function te(ae,ye,Ce,Re){return new(Ce||(Ce=Promise))(function(Ve,Ye){function it(ht){try{et(Re.next(ht))}catch(en){Ye(en)}}function An(ht){try{et(Re.throw(ht))}catch(en){Ye(en)}}function et(ht){ht.done?Ve(ht.value):function He(Ve){return Ve instanceof Ce?Ve:new Ce(function(Ye){Ye(Ve)})}(ht.value).then(it,An)}et((Re=Re.apply(ae,ye||[])).next())})}function ee(ae){return this instanceof ee?(this.v=ae,this):new ee(ae)}function _e(ae,ye,Ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var He,Re=Ce.apply(ae,ye||[]),Ve=[];return He={},Ye("next"),Ye("throw"),Ye("return"),He[Symbol.asyncIterator]=function(){return this},He;function Ye(mn){Re[mn]&&(He[mn]=function(Pn){return new Promise(function(Qt,ar){Ve.push([mn,Pn,Qt,ar])>1||it(mn,Pn)})})}function it(mn,Pn){try{!function An(mn){mn.value instanceof ee?Promise.resolve(mn.value.v).then(et,ht):en(Ve[0][2],mn)}(Re[mn](Pn))}catch(Qt){en(Ve[0][3],Qt)}}function et(mn){it("next",mn)}function ht(mn){it("throw",mn)}function en(mn,Pn){mn(Pn),Ve.shift(),Ve.length&&it(Ve[0][0],Ve[0][1])}}function he(ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ce,ye=ae[Symbol.asyncIterator];return ye?ye.call(ae):(ae=function Ae(ae){var ye="function"==typeof Symbol&&Symbol.iterator,Ce=ye&&ae[ye],Re=0;if(Ce)return Ce.call(ae);if(ae&&"number"==typeof ae.length)return{next:function(){return ae&&Re>=ae.length&&(ae=void 0),{value:ae&&ae[Re++],done:!ae}}};throw new TypeError(ye?"Object is not iterable.":"Symbol.iterator is not defined.")}(ae),Ce={},Re("next"),Re("throw"),Re("return"),Ce[Symbol.asyncIterator]=function(){return this},Ce);function Re(Ve){Ce[Ve]=ae[Ve]&&function(Ye){return new Promise(function(it,An){!function He(Ve,Ye,it,An){Promise.resolve(An).then(function(et){Ve({value:et,done:it})},Ye)}(it,An,(Ye=ae[Ve](Ye)).done,Ye.value)})}}}L.d(Ie,{FC:()=>_e,KL:()=>he,_T:()=>Y,mG:()=>te,qq:()=>ee})}},dt=>{dt(dt.s=7075)}]);